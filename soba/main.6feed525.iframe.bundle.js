(self.webpackChunkangular_three=self.webpackChunkangular_three||[]).push([[179],{"./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./abstractions/billboard.stories.ts":"./libs/soba/src/abstractions/billboard.stories.ts","./abstractions/gizmo-helper.stories.ts":"./libs/soba/src/abstractions/gizmo-helper.stories.ts","./abstractions/gradient-texture.stories.ts":"./libs/soba/src/abstractions/gradient-texture.stories.ts","./abstractions/line.stories.ts":"./libs/soba/src/abstractions/line.stories.ts","./abstractions/text.stories.ts":"./libs/soba/src/abstractions/text.stories.ts","./abstractions/text3d.stories.ts":"./libs/soba/src/abstractions/text3d.stories.ts","./controls/first-person-controls.stories.ts":"./libs/soba/src/controls/first-person-controls.stories.ts","./controls/orbit-controls.stories.ts":"./libs/soba/src/controls/orbit-controls.stories.ts","./controls/transform-controls.stories.ts":"./libs/soba/src/controls/transform-controls.stories.ts","./misc/html.stories.ts":"./libs/soba/src/misc/html.stories.ts","./performances/adaptive-dpr.stories.ts":"./libs/soba/src/performances/adaptive-dpr.stories.ts","./performances/detailed.stories.ts":"./libs/soba/src/performances/detailed.stories.ts","./shaders/mesh-reflector-material.stories.ts":"./libs/soba/src/shaders/mesh-reflector-material.stories.ts","./staging/bounds.stories.ts":"./libs/soba/src/staging/bounds.stories.ts","./staging/camera-shake.stories.ts":"./libs/soba/src/staging/camera-shake.stories.ts","./staging/center.stories.ts":"./libs/soba/src/staging/center.stories.ts","./staging/contact-shadows.stories.ts":"./libs/soba/src/staging/contact-shadows.stories.ts","./staging/environment.stories.ts":"./libs/soba/src/staging/environment.stories.ts","./staging/sky.stories.ts":"./libs/soba/src/staging/sky.stories.ts","./staging/spot-light.stories.ts":"./libs/soba/src/staging/spot-light.stories.ts","./staging/stage.stories.ts":"./libs/soba/src/staging/stage.stories.ts","./staging/stars.stories.ts":"./libs/soba/src/staging/stars.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./libs/core/attributes/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vE:()=>NgtBufferAttribute,bg:()=>NgtColorAttributeModule,mI:()=>NgtValueAttribute,pk:()=>NgtValueAttributeModule,fN:()=>NgtVector2AttributeModule});var NgtBufferAttribute_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtBufferAttribute=NgtBufferAttribute_1=class NgtBufferAttribute extends src.f5{get attributeType(){return three_module.TlE}};NgtBufferAttribute=NgtBufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtBufferAttribute_1),(0,src._4)(NgtBufferAttribute_1)]})],NgtBufferAttribute);let NgtBufferAttributeModule=class NgtBufferAttributeModule{};var NgtInstancedBufferAttribute_1;NgtBufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtBufferAttribute],exports:[NgtBufferAttribute]})],NgtBufferAttributeModule);let NgtInstancedBufferAttribute=NgtInstancedBufferAttribute_1=class NgtInstancedBufferAttribute extends src.f5{get attributeType(){return three_module.lb7}};NgtInstancedBufferAttribute=NgtInstancedBufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-instanced-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtInstancedBufferAttribute_1),(0,src._4)(NgtInstancedBufferAttribute_1)]})],NgtInstancedBufferAttribute);let NgtInstancedBufferAttributeModule=class NgtInstancedBufferAttributeModule{};var NgtInterleavedBufferAttribute_1;NgtInstancedBufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInstancedBufferAttribute],exports:[NgtInstancedBufferAttribute]})],NgtInstancedBufferAttributeModule);let NgtInterleavedBufferAttribute=NgtInterleavedBufferAttribute_1=class NgtInterleavedBufferAttribute extends src.f5{get attributeType(){return three_module.kB5}};NgtInterleavedBufferAttribute=NgtInterleavedBufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-interleaved-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtInterleavedBufferAttribute_1),(0,src._4)(NgtInterleavedBufferAttribute_1)]})],NgtInterleavedBufferAttribute);let NgtInterleavedBufferAttributeModule=class NgtInterleavedBufferAttributeModule{};var NgtFloat16BufferAttribute_1;NgtInterleavedBufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInterleavedBufferAttribute],exports:[NgtInterleavedBufferAttribute]})],NgtInterleavedBufferAttributeModule);let NgtFloat16BufferAttribute=NgtFloat16BufferAttribute_1=class NgtFloat16BufferAttribute extends src.f5{get attributeType(){return three_module.e62}};NgtFloat16BufferAttribute=NgtFloat16BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-float16-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtFloat16BufferAttribute_1),(0,src._4)(NgtFloat16BufferAttribute_1)]})],NgtFloat16BufferAttribute);let NgtFloat16BufferAttributeModule=class NgtFloat16BufferAttributeModule{};var NgtFloat32BufferAttribute_1;NgtFloat16BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtFloat16BufferAttribute],exports:[NgtFloat16BufferAttribute]})],NgtFloat16BufferAttributeModule);let NgtFloat32BufferAttribute=NgtFloat32BufferAttribute_1=class NgtFloat32BufferAttribute extends src.f5{get attributeType(){return three_module.a$l}};NgtFloat32BufferAttribute=NgtFloat32BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-float32-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtFloat32BufferAttribute_1),(0,src._4)(NgtFloat32BufferAttribute_1)]})],NgtFloat32BufferAttribute);let NgtFloat32BufferAttributeModule=class NgtFloat32BufferAttributeModule{};var NgtFloat64BufferAttribute_1;NgtFloat32BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtFloat32BufferAttribute],exports:[NgtFloat32BufferAttribute]})],NgtFloat32BufferAttributeModule);let NgtFloat64BufferAttribute=NgtFloat64BufferAttribute_1=class NgtFloat64BufferAttribute extends src.f5{get attributeType(){return three_module.OM3}};NgtFloat64BufferAttribute=NgtFloat64BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-float64-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtFloat64BufferAttribute_1),(0,src._4)(NgtFloat64BufferAttribute_1)]})],NgtFloat64BufferAttribute);let NgtFloat64BufferAttributeModule=class NgtFloat64BufferAttributeModule{};var NgtInt8BufferAttribute_1;NgtFloat64BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtFloat64BufferAttribute],exports:[NgtFloat64BufferAttribute]})],NgtFloat64BufferAttributeModule);let NgtInt8BufferAttribute=NgtInt8BufferAttribute_1=class NgtInt8BufferAttribute extends src.f5{get attributeType(){return three_module.RNb}};NgtInt8BufferAttribute=NgtInt8BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-int8-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtInt8BufferAttribute_1),(0,src._4)(NgtInt8BufferAttribute_1)]})],NgtInt8BufferAttribute);let NgtInt8BufferAttributeModule=class NgtInt8BufferAttributeModule{};var NgtInt16BufferAttribute_1;NgtInt8BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInt8BufferAttribute],exports:[NgtInt8BufferAttribute]})],NgtInt8BufferAttributeModule);let NgtInt16BufferAttribute=NgtInt16BufferAttribute_1=class NgtInt16BufferAttribute extends src.f5{get attributeType(){return three_module.aVm}};NgtInt16BufferAttribute=NgtInt16BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-int16-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtInt16BufferAttribute_1),(0,src._4)(NgtInt16BufferAttribute_1)]})],NgtInt16BufferAttribute);let NgtInt16BufferAttributeModule=class NgtInt16BufferAttributeModule{};var NgtInt32BufferAttribute_1;NgtInt16BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInt16BufferAttribute],exports:[NgtInt16BufferAttribute]})],NgtInt16BufferAttributeModule);let NgtInt32BufferAttribute=NgtInt32BufferAttribute_1=class NgtInt32BufferAttribute extends src.f5{get attributeType(){return three_module.j87}};NgtInt32BufferAttribute=NgtInt32BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-int32-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtInt32BufferAttribute_1),(0,src._4)(NgtInt32BufferAttribute_1)]})],NgtInt32BufferAttribute);let NgtInt32BufferAttributeModule=class NgtInt32BufferAttributeModule{};var NgtUint8BufferAttribute_1;NgtInt32BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInt32BufferAttribute],exports:[NgtInt32BufferAttribute]})],NgtInt32BufferAttributeModule);let NgtUint8BufferAttribute=NgtUint8BufferAttribute_1=class NgtUint8BufferAttribute extends src.f5{get attributeType(){return three_module.WTc}};NgtUint8BufferAttribute=NgtUint8BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-uint8-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtUint8BufferAttribute_1),(0,src._4)(NgtUint8BufferAttribute_1)]})],NgtUint8BufferAttribute);let NgtUint8BufferAttributeModule=class NgtUint8BufferAttributeModule{};var NgtUint16BufferAttribute_1;NgtUint8BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtUint8BufferAttribute],exports:[NgtUint8BufferAttribute]})],NgtUint8BufferAttributeModule);let NgtUint16BufferAttribute=NgtUint16BufferAttribute_1=class NgtUint16BufferAttribute extends src.f5{get attributeType(){return three_module.qlB}};NgtUint16BufferAttribute=NgtUint16BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-uint16-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtUint16BufferAttribute_1),(0,src._4)(NgtUint16BufferAttribute_1)]})],NgtUint16BufferAttribute);let NgtUint16BufferAttributeModule=class NgtUint16BufferAttributeModule{};var NgtUint32BufferAttribute_1;NgtUint16BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtUint16BufferAttribute],exports:[NgtUint16BufferAttribute]})],NgtUint16BufferAttributeModule);let NgtUint32BufferAttribute=NgtUint32BufferAttribute_1=class NgtUint32BufferAttribute extends src.f5{get attributeType(){return three_module.lCJ}};NgtUint32BufferAttribute=NgtUint32BufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-uint32-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtUint32BufferAttribute_1),(0,src._4)(NgtUint32BufferAttribute_1)]})],NgtUint32BufferAttribute);let NgtUint32BufferAttributeModule=class NgtUint32BufferAttributeModule{};var NgtUint8ClampedBufferAttribute_1;NgtUint32BufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtUint32BufferAttribute],exports:[NgtUint32BufferAttribute]})],NgtUint32BufferAttributeModule);let NgtUint8ClampedBufferAttribute=NgtUint8ClampedBufferAttribute_1=class NgtUint8ClampedBufferAttribute extends src.f5{get attributeType(){return three_module.rAo}};NgtUint8ClampedBufferAttribute=NgtUint8ClampedBufferAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-uint8-clamped-buffer-attribute",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.zd)(NgtUint8ClampedBufferAttribute_1),(0,src._4)(NgtUint8ClampedBufferAttribute_1)]})],NgtUint8ClampedBufferAttribute);let NgtUint8ClampedBufferAttributeModule=class NgtUint8ClampedBufferAttributeModule{};var NgtColorAttribute_1;NgtUint8ClampedBufferAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtUint8ClampedBufferAttribute],exports:[NgtUint8ClampedBufferAttribute]})],NgtUint8ClampedBufferAttributeModule);let NgtColorAttribute=NgtColorAttribute_1=class NgtColorAttribute extends src.WZ{set color(color){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.Ilk,color)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtColorAttribute.propDecorators={color:[{type:core.Input}]},NgtColorAttribute=NgtColorAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-color[color]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtColorAttribute_1),(0,src.UV)(NgtColorAttribute_1)]})],NgtColorAttribute);let NgtColorAttributeModule=class NgtColorAttributeModule{};var NgtFogAttribute_1;NgtColorAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtColorAttribute],exports:[NgtColorAttribute]})],NgtColorAttributeModule);let NgtFogAttribute=NgtFogAttribute_1=class NgtFogAttribute extends src.WZ{set fog(fog){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.ybr,fog)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtFogAttribute.propDecorators={fog:[{type:core.Input}]},NgtFogAttribute=NgtFogAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-fog[fog]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtFogAttribute_1),(0,src.UV)(NgtFogAttribute_1)]})],NgtFogAttribute);let NgtFogAttributeModule=class NgtFogAttributeModule{};var NgtFogExp2Attribute_1;NgtFogAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtFogAttribute],exports:[NgtFogAttribute]})],NgtFogAttributeModule);let NgtFogExp2Attribute=NgtFogExp2Attribute_1=class NgtFogExp2Attribute extends src.WZ{set fogExp2(fogExp2){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.yo9,fogExp2)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtFogExp2Attribute.propDecorators={fogExp2:[{type:core.Input}]},NgtFogExp2Attribute=NgtFogExp2Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-fog-exp2[fogExp2]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtFogExp2Attribute_1),(0,src.UV)(NgtFogExp2Attribute_1)]})],NgtFogExp2Attribute);let NgtFogExp2AttributeModule=class NgtFogExp2AttributeModule{};var NgtVector2Attribute_1;NgtFogExp2AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtFogExp2Attribute],exports:[NgtFogExp2Attribute]})],NgtFogExp2AttributeModule);let NgtVector2Attribute=NgtVector2Attribute_1=class NgtVector2Attribute extends src.WZ{set vector2(vector2){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.FM8,vector2)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtVector2Attribute.propDecorators={vector2:[{type:core.Input}]},NgtVector2Attribute=NgtVector2Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-vector2[vector2]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtVector2Attribute_1),(0,src.UV)(NgtVector2Attribute_1)]})],NgtVector2Attribute);let NgtVector2AttributeModule=class NgtVector2AttributeModule{};var NgtVector3Attribute_1;NgtVector2AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtVector2Attribute],exports:[NgtVector2Attribute]})],NgtVector2AttributeModule);let NgtVector3Attribute=NgtVector3Attribute_1=class NgtVector3Attribute extends src.WZ{set vector3(vector3){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.Pa4,vector3)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtVector3Attribute.propDecorators={vector3:[{type:core.Input}]},NgtVector3Attribute=NgtVector3Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-vector3[vector3]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtVector3Attribute_1),(0,src.UV)(NgtVector3Attribute_1)]})],NgtVector3Attribute);let NgtVector3AttributeModule=class NgtVector3AttributeModule{};var NgtVector4Attribute_1;NgtVector3AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtVector3Attribute],exports:[NgtVector3Attribute]})],NgtVector3AttributeModule);let NgtVector4Attribute=NgtVector4Attribute_1=class NgtVector4Attribute extends src.WZ{set vector4(vector4){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.Ltg,vector4)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtVector4Attribute.propDecorators={vector4:[{type:core.Input}]},NgtVector4Attribute=NgtVector4Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-vector4[vector4]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtVector4Attribute_1),(0,src.UV)(NgtVector4Attribute_1)]})],NgtVector4Attribute);let NgtVector4AttributeModule=class NgtVector4AttributeModule{};var NgtMatrix3Attribute_1;NgtVector4AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtVector4Attribute],exports:[NgtVector4Attribute]})],NgtVector4AttributeModule);let NgtMatrix3Attribute=NgtMatrix3Attribute_1=class NgtMatrix3Attribute extends src.WZ{set matrix3(matrix3){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.Vkp,matrix3)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtMatrix3Attribute.propDecorators={matrix3:[{type:core.Input}]},NgtMatrix3Attribute=NgtMatrix3Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-matrix3[matrix3]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtMatrix3Attribute_1),(0,src.UV)(NgtMatrix3Attribute_1)]})],NgtMatrix3Attribute);let NgtMatrix3AttributeModule=class NgtMatrix3AttributeModule{};var NgtMatrix4Attribute_1;NgtMatrix3AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMatrix3Attribute],exports:[NgtMatrix3Attribute]})],NgtMatrix3AttributeModule);let NgtMatrix4Attribute=NgtMatrix4Attribute_1=class NgtMatrix4Attribute extends src.WZ{set matrix4(matrix4){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance((0,src.Sy)(three_module.yGw,matrix4)),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtMatrix4Attribute.propDecorators={matrix4:[{type:core.Input}]},NgtMatrix4Attribute=NgtMatrix4Attribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-matrix4[matrix4]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtMatrix4Attribute_1),(0,src.UV)(NgtMatrix4Attribute_1)]})],NgtMatrix4Attribute);let NgtMatrix4AttributeModule=class NgtMatrix4AttributeModule{};var NgtValueAttribute_1;NgtMatrix4AttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMatrix4Attribute],exports:[NgtMatrix4Attribute]})],NgtMatrix4AttributeModule);let NgtValueAttribute=NgtValueAttribute_1=class NgtValueAttribute extends src.WZ{constructor(){super(...arguments),this.isRaw=!0}set value(value){this.zone.runOutsideAngular((()=>{this.initSubscription&&this.initSubscription.unsubscribe(),this.initSubscription=this.store.onReady((()=>(this.prepareInstance(value),()=>{this.initSubscription?.unsubscribe()})))}))}};NgtValueAttribute.propDecorators={value:[{type:core.Input}]},NgtValueAttribute=NgtValueAttribute_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-value[value]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtValueAttribute_1),(0,src.UV)(NgtValueAttribute_1)]})],NgtValueAttribute);let NgtValueAttributeModule=class NgtValueAttributeModule{};NgtValueAttributeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtValueAttribute],exports:[NgtValueAttribute]})],NgtValueAttributeModule)},"./libs/core/cameras/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{eR:()=>NgtCubeCamera,pB:()=>NgtOrthographicCamera,$A:()=>NgtPerspectiveCamera});var NgtPerspectiveCamera_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtPerspectiveCamera=NgtPerspectiveCamera_1=class NgtPerspectiveCamera extends src.fc{set fov(fov){this.set({fov:(0,src.su)(fov)})}set aspect(aspect){this.set({aspect:(0,src.su)(aspect)})}set near(near){this.set({near:(0,src.su)(near)})}set far(far){this.set({far:(0,src.su)(far)})}get cameraType(){return three_module.cPb}get optionFields(){return{...super.optionFields,fov:!0,aspect:!0,near:!0,far:!0}}};NgtPerspectiveCamera.propDecorators={fov:[{type:core.Input}],aspect:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}]},NgtPerspectiveCamera=NgtPerspectiveCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-perspective-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtPerspectiveCamera_1),(0,src.dF)(NgtPerspectiveCamera_1)]})],NgtPerspectiveCamera);let NgtPerspectiveCameraModule=class NgtPerspectiveCameraModule{};var NgtOrthographicCamera_1;NgtPerspectiveCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPerspectiveCamera],exports:[NgtPerspectiveCamera]})],NgtPerspectiveCameraModule);let NgtOrthographicCamera=NgtOrthographicCamera_1=class NgtOrthographicCamera extends src.fc{set left(left){this.set({left:(0,src.su)(left)})}set right(right){this.set({right:(0,src.su)(right)})}set top(top){this.set({top:(0,src.su)(top)})}set bottom(bottom){this.set({bottom:(0,src.su)(bottom)})}set near(near){this.set({near:(0,src.su)(near)})}set far(far){this.set({far:(0,src.su)(far)})}get cameraType(){return three_module.iKG}get optionFields(){return{...super.optionFields,left:!0,right:!0,top:!0,bottom:!0,near:!0,far:!0}}};NgtOrthographicCamera.propDecorators={left:[{type:core.Input}],right:[{type:core.Input}],top:[{type:core.Input}],bottom:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}]},NgtOrthographicCamera=NgtOrthographicCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-orthographic-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtOrthographicCamera_1),(0,src.dF)(NgtOrthographicCamera_1)]})],NgtOrthographicCamera);let NgtOrthographicCameraModule=class NgtOrthographicCameraModule{};var NgtArrayCamera_1;NgtOrthographicCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtOrthographicCamera],exports:[NgtOrthographicCamera]})],NgtOrthographicCameraModule);let NgtArrayCamera=NgtArrayCamera_1=class NgtArrayCamera extends src.fc{set cameras(cameras){this.set({cameras})}get cameraType(){return three_module.HkE}get optionFields(){return{...super.optionFields,cameras:!0}}};NgtArrayCamera.propDecorators={cameras:[{type:core.Input}]},NgtArrayCamera=NgtArrayCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-array-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtArrayCamera_1),(0,src.dF)(NgtArrayCamera_1)]})],NgtArrayCamera);let NgtArrayCameraModule=class NgtArrayCameraModule{};var NgtStereoCamera_1;NgtArrayCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtArrayCamera],exports:[NgtArrayCamera]})],NgtArrayCameraModule);let NgtStereoCamera=NgtStereoCamera_1=class NgtStereoCamera extends src.fc{get cameraType(){return three_module.u37}};NgtStereoCamera=NgtStereoCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-stereo-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtStereoCamera_1),(0,src.dF)(NgtStereoCamera_1)]})],NgtStereoCamera);let NgtStereoCameraModule=class NgtStereoCameraModule{};var NgtCubeCamera_1;NgtStereoCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtStereoCamera],exports:[NgtStereoCamera]})],NgtStereoCameraModule);let NgtCubeCamera=NgtCubeCamera_1=class NgtCubeCamera extends src.Jy{set args(args){this.set({instanceArgs:args})}set near(near){this.set({near:(0,src.su)(near)})}set far(far){this.set({far:(0,src.su)(far)})}set renderTarget(renderTarget){this.set({renderTarget})}objectInitFn(){const args=this.get((s=>s.instanceArgs));return new three_module._am(...args)}get preObjectInit(){return initFn=>{const args=this.get((s=>s.instanceArgs));args&&args.length&&this.set({near:args[0],far:args[1],renderTarget:args[2]}),this.effect((0,src.oe)((()=>{initFn()})))(this.instanceArgs$)}}get optionFields(){return{...super.optionFields,near:!1,far:!1,renderTarget:!1}}};NgtCubeCamera.propDecorators={args:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}],renderTarget:[{type:core.Input}]},NgtCubeCamera=NgtCubeCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-cube-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtCubeCamera_1),(0,src.wY)(NgtCubeCamera_1)]})],NgtCubeCamera);let NgtCubeCameraModule=class NgtCubeCameraModule{};NgtCubeCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCubeCamera],exports:[NgtCubeCamera]})],NgtCubeCameraModule)},"./libs/core/geometries/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{gB:()=>NgtBoxGeometry,N1:()=>NgtBoxGeometryModule,DE:()=>NgtBufferGeometry,ep:()=>NgtConeGeometryModule,JH:()=>NgtIcosahedronGeometry,Jv:()=>NgtIcosahedronGeometryModule,U4:()=>NgtPlaneGeometry,cM:()=>NgtPlaneGeometryModule,fV:()=>NgtSphereGeometryModule,pp:()=>NgtTorusKnotGeometryModule});var NgtBufferGeometry_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtBufferGeometry=NgtBufferGeometry_1=class NgtBufferGeometry extends src.B{get geometryType(){return three_module.u9r}};NgtBufferGeometry=NgtBufferGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-buffer-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtBufferGeometry_1),(0,src.O2)(NgtBufferGeometry_1)]})],NgtBufferGeometry);let NgtBufferGeometryModule=class NgtBufferGeometryModule{};var NgtInstancedBufferGeometry_1;NgtBufferGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtBufferGeometry],exports:[NgtBufferGeometry]})],NgtBufferGeometryModule);let NgtInstancedBufferGeometry=NgtInstancedBufferGeometry_1=class NgtInstancedBufferGeometry extends src.B{get geometryType(){return three_module.L5s}};NgtInstancedBufferGeometry=NgtInstancedBufferGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-instanced-buffer-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtInstancedBufferGeometry_1),(0,src.O2)(NgtInstancedBufferGeometry_1)]})],NgtInstancedBufferGeometry);let NgtInstancedBufferGeometryModule=class NgtInstancedBufferGeometryModule{};var NgtBoxGeometry_1;NgtInstancedBufferGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInstancedBufferGeometry],exports:[NgtInstancedBufferGeometry]})],NgtInstancedBufferGeometryModule);let NgtBoxGeometry=NgtBoxGeometry_1=class NgtBoxGeometry extends src.B{get geometryType(){return three_module.DvJ}};NgtBoxGeometry=NgtBoxGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-box-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtBoxGeometry_1),(0,src.O2)(NgtBoxGeometry_1)]})],NgtBoxGeometry);let NgtBoxGeometryModule=class NgtBoxGeometryModule{};var NgtCircleGeometry_1;NgtBoxGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtBoxGeometry],exports:[NgtBoxGeometry]})],NgtBoxGeometryModule);let NgtCircleGeometry=NgtCircleGeometry_1=class NgtCircleGeometry extends src.B{get geometryType(){return three_module.zf8}};NgtCircleGeometry=NgtCircleGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-circle-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtCircleGeometry_1),(0,src.O2)(NgtCircleGeometry_1)]})],NgtCircleGeometry);let NgtCircleGeometryModule=class NgtCircleGeometryModule{};var NgtConeGeometry_1;NgtCircleGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCircleGeometry],exports:[NgtCircleGeometry]})],NgtCircleGeometryModule);let NgtConeGeometry=NgtConeGeometry_1=class NgtConeGeometry extends src.B{get geometryType(){return three_module.b_z}};NgtConeGeometry=NgtConeGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-cone-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtConeGeometry_1),(0,src.O2)(NgtConeGeometry_1)]})],NgtConeGeometry);let NgtConeGeometryModule=class NgtConeGeometryModule{};var NgtCylinderGeometry_1;NgtConeGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtConeGeometry],exports:[NgtConeGeometry]})],NgtConeGeometryModule);let NgtCylinderGeometry=NgtCylinderGeometry_1=class NgtCylinderGeometry extends src.B{get geometryType(){return three_module.fHI}};NgtCylinderGeometry=NgtCylinderGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-cylinder-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtCylinderGeometry_1),(0,src.O2)(NgtCylinderGeometry_1)]})],NgtCylinderGeometry);let NgtCylinderGeometryModule=class NgtCylinderGeometryModule{};var NgtDodecahedronGeometry_1;NgtCylinderGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCylinderGeometry],exports:[NgtCylinderGeometry]})],NgtCylinderGeometryModule);let NgtDodecahedronGeometry=NgtDodecahedronGeometry_1=class NgtDodecahedronGeometry extends src.B{get geometryType(){return three_module.Kgo}};NgtDodecahedronGeometry=NgtDodecahedronGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-dodecahedron-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtDodecahedronGeometry_1),(0,src.O2)(NgtDodecahedronGeometry_1)]})],NgtDodecahedronGeometry);let NgtDodecahedronGeometryModule=class NgtDodecahedronGeometryModule{};var NgtExtrudeGeometry_1;NgtDodecahedronGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtDodecahedronGeometry],exports:[NgtDodecahedronGeometry]})],NgtDodecahedronGeometryModule);let NgtExtrudeGeometry=NgtExtrudeGeometry_1=class NgtExtrudeGeometry extends src.B{get geometryType(){return three_module.O7d}};NgtExtrudeGeometry=NgtExtrudeGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-extrude-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtExtrudeGeometry_1),(0,src.O2)(NgtExtrudeGeometry_1)]})],NgtExtrudeGeometry);let NgtExtrudeGeometryModule=class NgtExtrudeGeometryModule{};var NgtIcosahedronGeometry_1;NgtExtrudeGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtExtrudeGeometry],exports:[NgtExtrudeGeometry]})],NgtExtrudeGeometryModule);let NgtIcosahedronGeometry=NgtIcosahedronGeometry_1=class NgtIcosahedronGeometry extends src.B{get geometryType(){return three_module.cJO}};NgtIcosahedronGeometry=NgtIcosahedronGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-icosahedron-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtIcosahedronGeometry_1),(0,src.O2)(NgtIcosahedronGeometry_1)]})],NgtIcosahedronGeometry);let NgtIcosahedronGeometryModule=class NgtIcosahedronGeometryModule{};var NgtLatheGeometry_1;NgtIcosahedronGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtIcosahedronGeometry],exports:[NgtIcosahedronGeometry]})],NgtIcosahedronGeometryModule);let NgtLatheGeometry=NgtLatheGeometry_1=class NgtLatheGeometry extends src.B{get geometryType(){return three_module.p7y}};NgtLatheGeometry=NgtLatheGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-lathe-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtLatheGeometry_1),(0,src.O2)(NgtLatheGeometry_1)]})],NgtLatheGeometry);let NgtLatheGeometryModule=class NgtLatheGeometryModule{};var NgtOctahedronGeometry_1;NgtLatheGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtLatheGeometry],exports:[NgtLatheGeometry]})],NgtLatheGeometryModule);let NgtOctahedronGeometry=NgtOctahedronGeometry_1=class NgtOctahedronGeometry extends src.B{get geometryType(){return three_module.pQR}};NgtOctahedronGeometry=NgtOctahedronGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-octahedron-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtOctahedronGeometry_1),(0,src.O2)(NgtOctahedronGeometry_1)]})],NgtOctahedronGeometry);let NgtOctahedronGeometryModule=class NgtOctahedronGeometryModule{};var NgtPlaneGeometry_1;NgtOctahedronGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtOctahedronGeometry],exports:[NgtOctahedronGeometry]})],NgtOctahedronGeometryModule);let NgtPlaneGeometry=NgtPlaneGeometry_1=class NgtPlaneGeometry extends src.B{get geometryType(){return three_module._12}};NgtPlaneGeometry=NgtPlaneGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-plane-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtPlaneGeometry_1),(0,src.O2)(NgtPlaneGeometry_1)]})],NgtPlaneGeometry);let NgtPlaneGeometryModule=class NgtPlaneGeometryModule{};var NgtPolyhedronGeometry_1;NgtPlaneGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPlaneGeometry],exports:[NgtPlaneGeometry]})],NgtPlaneGeometryModule);let NgtPolyhedronGeometry=NgtPolyhedronGeometry_1=class NgtPolyhedronGeometry extends src.B{get geometryType(){return three_module.Uol}};NgtPolyhedronGeometry=NgtPolyhedronGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-polyhedron-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtPolyhedronGeometry_1),(0,src.O2)(NgtPolyhedronGeometry_1)]})],NgtPolyhedronGeometry);let NgtPolyhedronGeometryModule=class NgtPolyhedronGeometryModule{};var NgtRingGeometry_1;NgtPolyhedronGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPolyhedronGeometry],exports:[NgtPolyhedronGeometry]})],NgtPolyhedronGeometryModule);let NgtRingGeometry=NgtRingGeometry_1=class NgtRingGeometry extends src.B{get geometryType(){return three_module.o8S}};NgtRingGeometry=NgtRingGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-ring-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtRingGeometry_1),(0,src.O2)(NgtRingGeometry_1)]})],NgtRingGeometry);let NgtRingGeometryModule=class NgtRingGeometryModule{};var NgtShapeGeometry_1;NgtRingGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtRingGeometry],exports:[NgtRingGeometry]})],NgtRingGeometryModule);let NgtShapeGeometry=NgtShapeGeometry_1=class NgtShapeGeometry extends src.B{get geometryType(){return three_module.oa8}};NgtShapeGeometry=NgtShapeGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-shape-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtShapeGeometry_1),(0,src.O2)(NgtShapeGeometry_1)]})],NgtShapeGeometry);let NgtShapeGeometryModule=class NgtShapeGeometryModule{};var NgtSphereGeometry_1;NgtShapeGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtShapeGeometry],exports:[NgtShapeGeometry]})],NgtShapeGeometryModule);let NgtSphereGeometry=NgtSphereGeometry_1=class NgtSphereGeometry extends src.B{get geometryType(){return three_module.xo$}};NgtSphereGeometry=NgtSphereGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-sphere-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtSphereGeometry_1),(0,src.O2)(NgtSphereGeometry_1)]})],NgtSphereGeometry);let NgtSphereGeometryModule=class NgtSphereGeometryModule{};var NgtTetrahedronGeometry_1;NgtSphereGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSphereGeometry],exports:[NgtSphereGeometry]})],NgtSphereGeometryModule);let NgtTetrahedronGeometry=NgtTetrahedronGeometry_1=class NgtTetrahedronGeometry extends src.B{get geometryType(){return three_module.H$k}};NgtTetrahedronGeometry=NgtTetrahedronGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-tetrahedron-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtTetrahedronGeometry_1),(0,src.O2)(NgtTetrahedronGeometry_1)]})],NgtTetrahedronGeometry);let NgtTetrahedronGeometryModule=class NgtTetrahedronGeometryModule{};var NgtTorusGeometry_1;NgtTetrahedronGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtTetrahedronGeometry],exports:[NgtTetrahedronGeometry]})],NgtTetrahedronGeometryModule);let NgtTorusGeometry=NgtTorusGeometry_1=class NgtTorusGeometry extends src.B{get geometryType(){return three_module.XvJ}};NgtTorusGeometry=NgtTorusGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-torus-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtTorusGeometry_1),(0,src.O2)(NgtTorusGeometry_1)]})],NgtTorusGeometry);let NgtTorusGeometryModule=class NgtTorusGeometryModule{};var NgtTorusKnotGeometry_1;NgtTorusGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtTorusGeometry],exports:[NgtTorusGeometry]})],NgtTorusGeometryModule);let NgtTorusKnotGeometry=NgtTorusKnotGeometry_1=class NgtTorusKnotGeometry extends src.B{get geometryType(){return three_module.FE5}};NgtTorusKnotGeometry=NgtTorusKnotGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-torus-knot-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtTorusKnotGeometry_1),(0,src.O2)(NgtTorusKnotGeometry_1)]})],NgtTorusKnotGeometry);let NgtTorusKnotGeometryModule=class NgtTorusKnotGeometryModule{};var NgtTubeGeometry_1;NgtTorusKnotGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtTorusKnotGeometry],exports:[NgtTorusKnotGeometry]})],NgtTorusKnotGeometryModule);let NgtTubeGeometry=NgtTubeGeometry_1=class NgtTubeGeometry extends src.B{get geometryType(){return three_module.WXh}};NgtTubeGeometry=NgtTubeGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-tube-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtTubeGeometry_1),(0,src.O2)(NgtTubeGeometry_1)]})],NgtTubeGeometry);let NgtTubeGeometryModule=class NgtTubeGeometryModule{};var NgtWireframeGeometry_1;NgtTubeGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtTubeGeometry],exports:[NgtTubeGeometry]})],NgtTubeGeometryModule);let NgtWireframeGeometry=NgtWireframeGeometry_1=class NgtWireframeGeometry extends src.B{get geometryType(){return three_module.Uk6}};NgtWireframeGeometry=NgtWireframeGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-wireframe-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtWireframeGeometry_1),(0,src.O2)(NgtWireframeGeometry_1)]})],NgtWireframeGeometry);let NgtWireframeGeometryModule=class NgtWireframeGeometryModule{};var NgtEdgesGeometry_1;NgtWireframeGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtWireframeGeometry],exports:[NgtWireframeGeometry]})],NgtWireframeGeometryModule);let NgtEdgesGeometry=NgtEdgesGeometry_1=class NgtEdgesGeometry extends src.B{get geometryType(){return three_module.TOt}};NgtEdgesGeometry=NgtEdgesGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-edges-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtEdgesGeometry_1),(0,src.O2)(NgtEdgesGeometry_1)]})],NgtEdgesGeometry);let NgtEdgesGeometryModule=class NgtEdgesGeometryModule{};var NgtCapsuleGeometry_1;NgtEdgesGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtEdgesGeometry],exports:[NgtEdgesGeometry]})],NgtEdgesGeometryModule);let NgtCapsuleGeometry=NgtCapsuleGeometry_1=class NgtCapsuleGeometry extends src.B{get geometryType(){return three_module.BVQ}};NgtCapsuleGeometry=NgtCapsuleGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-capsule-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtCapsuleGeometry_1),(0,src.O2)(NgtCapsuleGeometry_1)]})],NgtCapsuleGeometry);let NgtCapsuleGeometryModule=class NgtCapsuleGeometryModule{};NgtCapsuleGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCapsuleGeometry],exports:[NgtCapsuleGeometry]})],NgtCapsuleGeometryModule)},"./libs/core/group/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>NgtGroup,I:()=>NgtGroupModule});var NgtGroup_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtGroup=NgtGroup_1=class NgtGroup extends src.Jy{objectInitFn(){return new three_module.ZAu}};NgtGroup=NgtGroup_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-group",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtGroup_1),(0,src.wY)(NgtGroup_1)]})],NgtGroup);let NgtGroupModule=class NgtGroupModule{};NgtGroupModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtGroup],exports:[NgtGroup]})],NgtGroupModule)},"./libs/core/helpers/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{tb:()=>NgtAxesHelperModule});var NgtArrowHelper_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtArrowHelper=NgtArrowHelper_1=class NgtArrowHelper extends src.fA{set dir(dir){this.set({dir})}set origin(origin){this.set({origin})}set length(length){this.set({length:(0,src.su)(length)})}set headLength(headLength){this.set({headLength:(0,src.su)(headLength)})}set headWidth(headWidth){this.set({headWidth:(0,src.su)(headWidth)})}get helperType(){return three_module.tGC}get optionFields(){return{...super.optionFields,dir:!0,origin:!0,length:!0,headLength:!0,headWidth:!0}}};NgtArrowHelper.propDecorators={dir:[{type:core.Input}],origin:[{type:core.Input}],length:[{type:core.Input}],headLength:[{type:core.Input}],headWidth:[{type:core.Input}]},NgtArrowHelper=NgtArrowHelper_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-arrow-helper",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.rG)(NgtArrowHelper_1),(0,src.$m)(NgtArrowHelper_1)]})],NgtArrowHelper);let NgtArrowHelperModule=class NgtArrowHelperModule{};var NgtAxesHelper_1;NgtArrowHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtArrowHelper],exports:[NgtArrowHelper]})],NgtArrowHelperModule);let NgtAxesHelper=NgtAxesHelper_1=class NgtAxesHelper extends src.fA{set size(size){this.set({size:(0,src.su)(size)})}get helperType(){return three_module.y8_}get optionFields(){return{...super.optionFields,size:!0}}};NgtAxesHelper.propDecorators={size:[{type:core.Input}]},NgtAxesHelper=NgtAxesHelper_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-axes-helper",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.rG)(NgtAxesHelper_1),(0,src.$m)(NgtAxesHelper_1)]})],NgtAxesHelper);let NgtAxesHelperModule=class NgtAxesHelperModule{};var NgtGridHelper_1;NgtAxesHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtAxesHelper],exports:[NgtAxesHelper]})],NgtAxesHelperModule);let NgtGridHelper=NgtGridHelper_1=class NgtGridHelper extends src.fA{set size(size){this.set({size:(0,src.su)(size)})}set divisions(divisions){this.set({divisions:(0,src.su)(divisions)})}set color1(color1){this.set({color1})}set color2(color2){this.set({color2})}get helperType(){return three_module.VLJ}get optionFields(){return{...super.optionFields,size:!0,divisions:!0,color1:!0,color2:!0}}};NgtGridHelper.propDecorators={size:[{type:core.Input}],divisions:[{type:core.Input}],color1:[{type:core.Input}],color2:[{type:core.Input}]},NgtGridHelper=NgtGridHelper_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-grid-helper",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.rG)(NgtGridHelper_1),(0,src.$m)(NgtGridHelper_1)]})],NgtGridHelper);let NgtGridHelperModule=class NgtGridHelperModule{};var NgtPolarGridHelper_1;NgtGridHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtGridHelper],exports:[NgtGridHelper]})],NgtGridHelperModule);let NgtPolarGridHelper=NgtPolarGridHelper_1=class NgtPolarGridHelper extends src.fA{set radius(radius){this.set({radius:(0,src.su)(radius)})}set radials(radials){this.set({radials:(0,src.su)(radials)})}set circles(circles){this.set({circles:(0,src.su)(circles)})}set divisions(divisions){this.set({divisions:(0,src.su)(divisions)})}set color1(color1){this.set({color1})}set color2(color2){this.set({color2})}get helperType(){return three_module.aq0}get optionFields(){return{...super.optionFields,radius:!0,radials:!0,circles:!0,divisions:!0,color1:!0,color2:!0}}};NgtPolarGridHelper.propDecorators={radius:[{type:core.Input}],radials:[{type:core.Input}],circles:[{type:core.Input}],divisions:[{type:core.Input}],color1:[{type:core.Input}],color2:[{type:core.Input}]},NgtPolarGridHelper=NgtPolarGridHelper_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-polar-grid-helper",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.rG)(NgtPolarGridHelper_1),(0,src.$m)(NgtPolarGridHelper_1)]})],NgtPolarGridHelper);let NgtPolarGridHelperModule=class NgtPolarGridHelperModule{};var NgtBoxHelper_1;NgtPolarGridHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPolarGridHelper],exports:[NgtPolarGridHelper]})],NgtPolarGridHelperModule);let NgtBoxHelper=NgtBoxHelper_1=class NgtBoxHelper extends src.lW{set ngtBoxHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.fQA}};NgtBoxHelper.propDecorators={ngtBoxHelper:[{type:core.Input}]},NgtBoxHelper=NgtBoxHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtBoxHelper]",standalone:!0,exportAs:"ngtBoxHelper",providers:[(0,src.SE)(NgtBoxHelper_1),(0,src.ch)(NgtBoxHelper_1)]})],NgtBoxHelper);let NgtBoxHelperModule=class NgtBoxHelperModule{};var NgtBox3Helper_1;NgtBoxHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtBoxHelper],exports:[NgtBoxHelper]})],NgtBoxHelperModule);let NgtBox3Helper=NgtBox3Helper_1=class NgtBox3Helper extends src.lW{set ngtBox3Helper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.GQ}};NgtBox3Helper.propDecorators={ngtBox3Helper:[{type:core.Input}]},NgtBox3Helper=NgtBox3Helper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtBox3Helper]",standalone:!0,exportAs:"ngtBox3Helper",providers:[(0,src.SE)(NgtBox3Helper_1),(0,src.ch)(NgtBox3Helper_1)]})],NgtBox3Helper);let NgtBox3HelperModule=class NgtBox3HelperModule{};var NgtCameraHelper_1;NgtBox3HelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtBox3Helper],exports:[NgtBox3Helper]})],NgtBox3HelperModule);let NgtCameraHelper=NgtCameraHelper_1=class NgtCameraHelper extends src.lW{set ngtCameraHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.Rki}};NgtCameraHelper.propDecorators={ngtCameraHelper:[{type:core.Input}]},NgtCameraHelper=NgtCameraHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtCameraHelper]",standalone:!0,exportAs:"ngtCameraHelper",providers:[(0,src.SE)(NgtCameraHelper_1),(0,src.ch)(NgtCameraHelper_1)]})],NgtCameraHelper);let NgtCameraHelperModule=class NgtCameraHelperModule{};var NgtDirectionalLightHelper_1;NgtCameraHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCameraHelper],exports:[NgtCameraHelper]})],NgtCameraHelperModule);let NgtDirectionalLightHelper=NgtDirectionalLightHelper_1=class NgtDirectionalLightHelper extends src.lW{set ngtDirectionalLightHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.cBI}};NgtDirectionalLightHelper.propDecorators={ngtDirectionalLightHelper:[{type:core.Input}]},NgtDirectionalLightHelper=NgtDirectionalLightHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtDirectionalLightHelper]",standalone:!0,exportAs:"ngtDirectionalLightHelper",providers:[(0,src.SE)(NgtDirectionalLightHelper_1),(0,src.ch)(NgtDirectionalLightHelper_1)]})],NgtDirectionalLightHelper);let NgtDirectionalLightHelperModule=class NgtDirectionalLightHelperModule{};var NgtHemisphereLightHelper_1;NgtDirectionalLightHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtDirectionalLightHelper],exports:[NgtDirectionalLightHelper]})],NgtDirectionalLightHelperModule);let NgtHemisphereLightHelper=NgtHemisphereLightHelper_1=class NgtHemisphereLightHelper extends src.lW{set ngtHemisphereLightHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.Qpg}};NgtHemisphereLightHelper.propDecorators={ngtHemisphereLightHelper:[{type:core.Input}]},NgtHemisphereLightHelper=NgtHemisphereLightHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtHemisphereLightHelper]",standalone:!0,exportAs:"ngtHemisphereLightHelper",providers:[(0,src.SE)(NgtHemisphereLightHelper_1),(0,src.ch)(NgtHemisphereLightHelper_1)]})],NgtHemisphereLightHelper);let NgtHemisphereLightHelperModule=class NgtHemisphereLightHelperModule{};var NgtPlaneHelper_1;NgtHemisphereLightHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtHemisphereLightHelper],exports:[NgtHemisphereLightHelper]})],NgtHemisphereLightHelperModule);let NgtPlaneHelper=NgtPlaneHelper_1=class NgtPlaneHelper extends src.lW{set ngtPlaneHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.tJx}};NgtPlaneHelper.propDecorators={ngtPlaneHelper:[{type:core.Input}]},NgtPlaneHelper=NgtPlaneHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtPlaneHelper]",standalone:!0,exportAs:"ngtPlaneHelper",providers:[(0,src.SE)(NgtPlaneHelper_1),(0,src.ch)(NgtPlaneHelper_1)]})],NgtPlaneHelper);let NgtPlaneHelperModule=class NgtPlaneHelperModule{};var NgtPointLightHelper_1;NgtPlaneHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPlaneHelper],exports:[NgtPlaneHelper]})],NgtPlaneHelperModule);let NgtPointLightHelper=NgtPointLightHelper_1=class NgtPointLightHelper extends src.lW{set ngtPointLightHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.xG9}};NgtPointLightHelper.propDecorators={ngtPointLightHelper:[{type:core.Input}]},NgtPointLightHelper=NgtPointLightHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtPointLightHelper]",standalone:!0,exportAs:"ngtPointLightHelper",providers:[(0,src.SE)(NgtPointLightHelper_1),(0,src.ch)(NgtPointLightHelper_1)]})],NgtPointLightHelper);let NgtPointLightHelperModule=class NgtPointLightHelperModule{};var NgtSkeletonHelper_1;NgtPointLightHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPointLightHelper],exports:[NgtPointLightHelper]})],NgtPointLightHelperModule);let NgtSkeletonHelper=NgtSkeletonHelper_1=class NgtSkeletonHelper extends src.lW{set ngtSkeletonHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module._YX}};NgtSkeletonHelper.propDecorators={ngtSkeletonHelper:[{type:core.Input}]},NgtSkeletonHelper=NgtSkeletonHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSkeletonHelper]",standalone:!0,exportAs:"ngtSkeletonHelper",providers:[(0,src.SE)(NgtSkeletonHelper_1),(0,src.ch)(NgtSkeletonHelper_1)]})],NgtSkeletonHelper);let NgtSkeletonHelperModule=class NgtSkeletonHelperModule{};var NgtSpotLightHelper_1;NgtSkeletonHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSkeletonHelper],exports:[NgtSkeletonHelper]})],NgtSkeletonHelperModule);let NgtSpotLightHelper=NgtSpotLightHelper_1=class NgtSpotLightHelper extends src.lW{set ngtSpotLightHelper(v){v&&(this.instanceArgs=v)}get objectHelperType(){return three_module.FvO}};NgtSpotLightHelper.propDecorators={ngtSpotLightHelper:[{type:core.Input}]},NgtSpotLightHelper=NgtSpotLightHelper_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSpotLightHelper]",standalone:!0,exportAs:"ngtSpotLightHelper",providers:[(0,src.SE)(NgtSpotLightHelper_1),(0,src.ch)(NgtSpotLightHelper_1)]})],NgtSpotLightHelper);let NgtSpotLightHelperModule=class NgtSpotLightHelperModule{};NgtSpotLightHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSpotLightHelper],exports:[NgtSpotLightHelper]})],NgtSpotLightHelperModule)},"./libs/core/lights/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{wx:()=>NgtAmbientLight,EQ:()=>NgtAmbientLightModule,in:()=>NgtDirectionalLightModule,iM:()=>NgtHemisphereLightModule,HY:()=>NgtPointLight,GK:()=>NgtPointLightModule,KN:()=>NgtSpotLight,Hk:()=>NgtSpotLightModule,Ae:()=>NgtSpotLightPassThrough});var NgtLightProbe_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtLightProbe=NgtLightProbe_1=class NgtLightProbe extends src.Xh{set sh(sh){this.set({sh})}get lightType(){return three_module.lk7}get optionFields(){return{...super.optionFields,sh:!0}}};NgtLightProbe.propDecorators={sh:[{type:core.Input}]},NgtLightProbe=NgtLightProbe_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-light-probe",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtLightProbe_1),(0,src.tG)(NgtLightProbe_1)]})],NgtLightProbe);let NgtLightProbeModule=class NgtLightProbeModule{};var NgtAmbientLight_1;NgtLightProbeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtLightProbe],exports:[NgtLightProbe]})],NgtLightProbeModule);let NgtAmbientLight=NgtAmbientLight_1=class NgtAmbientLight extends src.Xh{get lightType(){return three_module.Mig}};NgtAmbientLight=NgtAmbientLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-ambient-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtAmbientLight_1),(0,src.tG)(NgtAmbientLight_1)]})],NgtAmbientLight);let NgtAmbientLightModule=class NgtAmbientLightModule{};var NgtAmbientLightProbe_1;NgtAmbientLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtAmbientLight],exports:[NgtAmbientLight]})],NgtAmbientLightModule);let NgtAmbientLightProbe=NgtAmbientLightProbe_1=class NgtAmbientLightProbe extends src.Xh{get lightType(){return three_module.i_9}};NgtAmbientLightProbe=NgtAmbientLightProbe_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-ambient-light-probe",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtAmbientLightProbe_1),(0,src.tG)(NgtAmbientLightProbe_1)]})],NgtAmbientLightProbe);let NgtAmbientLightProbeModule=class NgtAmbientLightProbeModule{};var NgtHemisphereLight_1;NgtAmbientLightProbeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtAmbientLightProbe],exports:[NgtAmbientLightProbe]})],NgtAmbientLightProbeModule);let NgtHemisphereLight=NgtHemisphereLight_1=class NgtHemisphereLight extends src.Xh{set skyColor(skyColor){this.set({skyColor})}set groundColor(groundColor){this.set({groundColor})}get lightType(){return three_module.vmT}get optionFields(){return{...super.optionFields,skyColor:!0,groundColor:!0}}};NgtHemisphereLight.propDecorators={skyColor:[{type:core.Input}],groundColor:[{type:core.Input}]},NgtHemisphereLight=NgtHemisphereLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-hemisphere-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtHemisphereLight_1),(0,src.tG)(NgtHemisphereLight_1)]})],NgtHemisphereLight);let NgtHemisphereLightModule=class NgtHemisphereLightModule{};var NgtHemisphereLightProbe_1;NgtHemisphereLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtHemisphereLight],exports:[NgtHemisphereLight]})],NgtHemisphereLightModule);let NgtHemisphereLightProbe=NgtHemisphereLightProbe_1=class NgtHemisphereLightProbe extends src.Xh{set skyColor(skyColor){this.set({skyColor})}set groundColor(groundColor){this.set({groundColor})}get lightType(){return three_module.So8}get optionFields(){return{...super.optionFields,skyColor:!0,groundColor:!0}}};NgtHemisphereLightProbe.propDecorators={skyColor:[{type:core.Input}],groundColor:[{type:core.Input}]},NgtHemisphereLightProbe=NgtHemisphereLightProbe_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-hemisphere-light-probe",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtHemisphereLightProbe_1),(0,src.tG)(NgtHemisphereLightProbe_1)]})],NgtHemisphereLightProbe);let NgtHemisphereLightProbeModule=class NgtHemisphereLightProbeModule{};var NgtDirectionalLight_1;NgtHemisphereLightProbeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtHemisphereLightProbe],exports:[NgtHemisphereLightProbe]})],NgtHemisphereLightProbeModule);let NgtDirectionalLight=NgtDirectionalLight_1=class NgtDirectionalLight extends src.Xh{set target(target){this.set({target})}get lightType(){return three_module.Ox3}get optionFields(){return{...super.optionFields,target:!0}}};NgtDirectionalLight.propDecorators={target:[{type:core.Input}]},NgtDirectionalLight=NgtDirectionalLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-directional-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtDirectionalLight_1),(0,src.tG)(NgtDirectionalLight_1)]})],NgtDirectionalLight);let NgtDirectionalLightModule=class NgtDirectionalLightModule{};var NgtPointLight_1;NgtDirectionalLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtDirectionalLight],exports:[NgtDirectionalLight]})],NgtDirectionalLightModule);let NgtPointLight=NgtPointLight_1=class NgtPointLight extends src.Xh{set distance(distance){this.set({distance:(0,src.su)(distance)})}set decay(decay){this.set({decay:(0,src.su)(decay)})}set power(power){this.set({power:(0,src.su)(power)})}get lightType(){return three_module.cek}get optionFields(){return{...super.optionFields,distance:!0,decay:!0,power:!0}}};NgtPointLight.propDecorators={distance:[{type:core.Input}],decay:[{type:core.Input}],power:[{type:core.Input}]},NgtPointLight=NgtPointLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-point-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtPointLight_1),(0,src.tG)(NgtPointLight_1)]})],NgtPointLight);let NgtPointLightModule=class NgtPointLightModule{};var NgtSpotLight_1;NgtPointLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPointLight],exports:[NgtPointLight]})],NgtPointLightModule);let NgtSpotLight=NgtSpotLight_1=class NgtSpotLight extends src.Xh{set distance(distance){this.set({distance:(0,src.su)(distance)})}set angle(angle){this.set({angle:(0,src.su)(angle)})}set penumbra(penumbra){this.set({penumbra:(0,src.su)(penumbra)})}set decay(decay){this.set({decay:(0,src.su)(decay)})}set target(target){this.set({target})}set power(power){this.set({power:(0,src.su)(power)})}get lightType(){return three_module.PMe}get optionFields(){return{...super.optionFields,distance:!0,angle:!0,penumbra:!0,decay:!0,target:!0,power:!0}}};NgtSpotLight.propDecorators={distance:[{type:core.Input}],angle:[{type:core.Input}],penumbra:[{type:core.Input}],decay:[{type:core.Input}],target:[{type:core.Input}],power:[{type:core.Input}]},NgtSpotLight=NgtSpotLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-spot-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtSpotLight_1),(0,src.tG)(NgtSpotLight_1)]})],NgtSpotLight);let NgtSpotLightModule=class NgtSpotLightModule{};var NgtRectAreaLight_1;NgtSpotLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSpotLight],exports:[NgtSpotLight]})],NgtSpotLightModule);let NgtRectAreaLight=NgtRectAreaLight_1=class NgtRectAreaLight extends src.Xh{set width(width){this.set({width:(0,src.su)(width)})}set height(height){this.set({height:(0,src.su)(height)})}set power(power){this.set({power:(0,src.su)(power)})}get lightType(){return three_module.T_f}get optionFields(){return{...super.optionFields,width:!0,height:!0,power:!0}}};NgtRectAreaLight.propDecorators={width:[{type:core.Input}],height:[{type:core.Input}],power:[{type:core.Input}]},NgtRectAreaLight=NgtRectAreaLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-rect-area-light",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Oq)(NgtRectAreaLight_1),(0,src.tG)(NgtRectAreaLight_1)]})],NgtRectAreaLight);let NgtRectAreaLightModule=class NgtRectAreaLightModule{};var NgtSpotLightPassThrough_1;NgtRectAreaLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtRectAreaLight],exports:[NgtRectAreaLight]})],NgtRectAreaLightModule);let NgtSpotLightPassThrough=NgtSpotLightPassThrough_1=class NgtSpotLightPassThrough{constructor(host){this.host=host}set ngtSpotLightPassThrough(wrapper){NgtSpotLightPassThrough_1.assertWrapper(wrapper);const passThroughInput=(0,src.HK)(wrapper,this.host);passThroughInput("distance",!0,!0),passThroughInput("angle",!0,!0),passThroughInput("penumbra",!0,!0),passThroughInput("decay",!0,!0),passThroughInput("target",!0,!0),passThroughInput("power",!0,!0)}static assertWrapper(wrapper){if(!(wrapper&&wrapper instanceof NgtSpotLight))throw new Error("ngtSpotLightPassThrough wrapper is not a NgtSpotLight")}};NgtSpotLightPassThrough.ctorParameters=()=>[{type:NgtSpotLight,decorators:[{type:core.Self},{type:core.Optional}]}],NgtSpotLightPassThrough.propDecorators={ngtSpotLightPassThrough:[{type:core.Input}]},NgtSpotLightPassThrough=NgtSpotLightPassThrough_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSpotLightPassThrough]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[NgtSpotLight])],NgtSpotLightPassThrough);let NgtSpotLightPassThroughModule=class NgtSpotLightPassThroughModule{};NgtSpotLightPassThroughModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSpotLightPassThrough],exports:[NgtSpotLightPassThrough]})],NgtSpotLightPassThroughModule)},"./libs/core/materials/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$t:()=>NgtMeshBasicMaterial,g4:()=>NgtMeshBasicMaterialModule,sA:()=>NgtMeshLambertMaterial,F8:()=>NgtMeshNormalMaterialModule,Bg:()=>NgtMeshPhongMaterialModule,Ky:()=>NgtMeshPhysicalMaterialModule,hv:()=>NgtMeshStandardMaterial,To:()=>NgtMeshStandardMaterialModule,yS:()=>NgtShaderMaterial,Ll:()=>NgtSpriteMaterial});var NgtShadowMaterial_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtShadowMaterial=NgtShadowMaterial_1=class NgtShadowMaterial extends src.hZ{set color(color){this.set({color})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}get materialType(){return three_module.Tn7}get optionFields(){return{...super.optionFields,color:!0,fog:!0}}};NgtShadowMaterial.propDecorators={color:[{type:core.Input}],fog:[{type:core.Input}]},NgtShadowMaterial=NgtShadowMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-shadow-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtShadowMaterial_1),(0,src.Wm)(NgtShadowMaterial_1)]})],NgtShadowMaterial);let NgtShadowMaterialModule=class NgtShadowMaterialModule{};var NgtSpriteMaterial_1;NgtShadowMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtShadowMaterial],exports:[NgtShadowMaterial]})],NgtShadowMaterialModule);let NgtSpriteMaterial=NgtSpriteMaterial_1=class NgtSpriteMaterial extends src.hZ{set color(color){this.set({color})}set map(map){this.set({map})}set alphaMap(alphaMap){this.set({alphaMap})}set rotation(rotation){this.set({rotation:(0,src.su)(rotation)})}set sizeAttenuation(sizeAttenuation){this.set({sizeAttenuation:(0,src.Ig)(sizeAttenuation)})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}get materialType(){return three_module.xeV}get optionFields(){return{...super.optionFields,color:!0,map:!0,alphaMap:!0,rotation:!0,sizeAttenuation:!0,fog:!0}}};NgtSpriteMaterial.propDecorators={color:[{type:core.Input}],map:[{type:core.Input}],alphaMap:[{type:core.Input}],rotation:[{type:core.Input}],sizeAttenuation:[{type:core.Input}],fog:[{type:core.Input}]},NgtSpriteMaterial=NgtSpriteMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-sprite-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtSpriteMaterial_1),(0,src.Wm)(NgtSpriteMaterial_1)]})],NgtSpriteMaterial);let NgtSpriteMaterialModule=class NgtSpriteMaterialModule{};var NgtRawShaderMaterial_1;NgtSpriteMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSpriteMaterial],exports:[NgtSpriteMaterial]})],NgtSpriteMaterialModule);let NgtRawShaderMaterial=NgtRawShaderMaterial_1=class NgtRawShaderMaterial extends src.hZ{get materialType(){return three_module.FIo}};NgtRawShaderMaterial=NgtRawShaderMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-raw-shader-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtRawShaderMaterial_1),(0,src.Wm)(NgtRawShaderMaterial_1)]})],NgtRawShaderMaterial);let NgtRawShaderMaterialModule=class NgtRawShaderMaterialModule{};var NgtShaderMaterial_1;NgtRawShaderMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtRawShaderMaterial],exports:[NgtRawShaderMaterial]})],NgtRawShaderMaterialModule);let NgtShaderMaterial=NgtShaderMaterial_1=class NgtShaderMaterial extends src.hZ{set uniforms(uniforms){this.set({uniforms})}set vertexShader(vertexShader){this.set({vertexShader})}set fragmentShader(fragmentShader){this.set({fragmentShader})}set linewidth(linewidth){this.set({linewidth:(0,src.su)(linewidth)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set lights(lights){this.set({lights:(0,src.Ig)(lights)})}set clipping(clipping){this.set({clipping:(0,src.Ig)(clipping)})}set extensions(extensions){this.set({extensions:(0,src.Ig)(extensions)})}set glslVersion(glslVersion){this.set({glslVersion})}get materialType(){return three_module.jyz}get optionFields(){return{...super.optionFields,uniforms:!0,vertexShader:!0,fragmentShader:!0,linewidth:!0,wireframe:!0,wireframeLinewidth:!0,lights:!0,clipping:!0,extensions:!0,glslVersion:!0}}};NgtShaderMaterial.propDecorators={uniforms:[{type:core.Input}],vertexShader:[{type:core.Input}],fragmentShader:[{type:core.Input}],linewidth:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],lights:[{type:core.Input}],clipping:[{type:core.Input}],extensions:[{type:core.Input}],glslVersion:[{type:core.Input}]},NgtShaderMaterial=NgtShaderMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-shader-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtShaderMaterial_1),(0,src.Wm)(NgtShaderMaterial_1)]})],NgtShaderMaterial);let NgtShaderMaterialModule=class NgtShaderMaterialModule{};var NgtPointsMaterial_1;NgtShaderMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtShaderMaterial],exports:[NgtShaderMaterial]})],NgtShaderMaterialModule);let NgtPointsMaterial=NgtPointsMaterial_1=class NgtPointsMaterial extends src.hZ{set color(color){this.set({color})}set map(map){this.set({map})}set alphaMap(alphaMap){this.set({alphaMap})}set size(size){this.set({size:(0,src.su)(size)})}set sizeAttenuation(sizeAttenuation){this.set({sizeAttenuation:(0,src.Ig)(sizeAttenuation)})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}get materialType(){return three_module.UY4}get optionFields(){return{...super.optionFields,color:!0,map:!0,alphaMap:!0,size:!0,sizeAttenuation:!0,fog:!0}}};NgtPointsMaterial.propDecorators={color:[{type:core.Input}],map:[{type:core.Input}],alphaMap:[{type:core.Input}],size:[{type:core.Input}],sizeAttenuation:[{type:core.Input}],fog:[{type:core.Input}]},NgtPointsMaterial=NgtPointsMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-points-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtPointsMaterial_1),(0,src.Wm)(NgtPointsMaterial_1)]})],NgtPointsMaterial);let NgtPointsMaterialModule=class NgtPointsMaterialModule{};var NgtMeshStandardMaterial_1;NgtPointsMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPointsMaterial],exports:[NgtPointsMaterial]})],NgtPointsMaterialModule);let NgtMeshStandardMaterial=NgtMeshStandardMaterial_1=class NgtMeshStandardMaterial extends src.hZ{set color(color){this.set({color})}set roughness(roughness){this.set({roughness:(0,src.su)(roughness)})}set metalness(metalness){this.set({metalness:(0,src.su)(metalness)})}set map(map){this.set({map})}set lightMap(lightMap){this.set({lightMap})}set lightMapIntensity(lightMapIntensity){this.set({lightMapIntensity:(0,src.su)(lightMapIntensity)})}set aoMap(aoMap){this.set({aoMap})}set aoMapIntensity(aoMapIntensity){this.set({aoMapIntensity:(0,src.su)(aoMapIntensity)})}set emissive(emissive){this.set({emissive})}set emissiveIntensity(emissiveIntensity){this.set({emissiveIntensity:(0,src.su)(emissiveIntensity)})}set emissiveMap(emissiveMap){this.set({emissiveMap})}set bumpMap(bumpMap){this.set({bumpMap})}set bumpScale(bumpScale){this.set({bumpScale:(0,src.su)(bumpScale)})}set normalMap(normalMap){this.set({normalMap})}set normalMapType(normalMapType){this.set({normalMapType})}set normalScale(normalScale){this.set({normalScale})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set roughnessMap(roughnessMap){this.set({roughnessMap})}set metalnessMap(metalnessMap){this.set({metalnessMap})}set alphaMap(alphaMap){this.set({alphaMap})}set envMap(envMap){this.set({envMap})}set envMapIntensity(envMapIntensity){this.set({envMapIntensity:(0,src.su)(envMapIntensity)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}set flatShading(flatShading){this.set({flatShading:(0,src.Ig)(flatShading)})}get materialType(){return three_module.Wid}get optionFields(){return{...super.optionFields,color:!0,roughness:!0,metalness:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,emissive:!0,emissiveIntensity:!0,emissiveMap:!0,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,roughnessMap:!0,metalnessMap:!0,alphaMap:!0,envMap:!0,envMapIntensity:!0,wireframe:!0,wireframeLinewidth:!0,fog:!0,flatShading:!0}}};NgtMeshStandardMaterial.propDecorators={color:[{type:core.Input}],roughness:[{type:core.Input}],metalness:[{type:core.Input}],map:[{type:core.Input}],lightMap:[{type:core.Input}],lightMapIntensity:[{type:core.Input}],aoMap:[{type:core.Input}],aoMapIntensity:[{type:core.Input}],emissive:[{type:core.Input}],emissiveIntensity:[{type:core.Input}],emissiveMap:[{type:core.Input}],bumpMap:[{type:core.Input}],bumpScale:[{type:core.Input}],normalMap:[{type:core.Input}],normalMapType:[{type:core.Input}],normalScale:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],roughnessMap:[{type:core.Input}],metalnessMap:[{type:core.Input}],alphaMap:[{type:core.Input}],envMap:[{type:core.Input}],envMapIntensity:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],fog:[{type:core.Input}],flatShading:[{type:core.Input}]},NgtMeshStandardMaterial=NgtMeshStandardMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-standard-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshStandardMaterial_1),(0,src.Wm)(NgtMeshStandardMaterial_1)]})],NgtMeshStandardMaterial);let NgtMeshStandardMaterialModule=class NgtMeshStandardMaterialModule{};var NgtMeshPhysicalMaterial_1;NgtMeshStandardMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshStandardMaterial],exports:[NgtMeshStandardMaterial]})],NgtMeshStandardMaterialModule);let NgtMeshPhysicalMaterial=NgtMeshPhysicalMaterial_1=class NgtMeshPhysicalMaterial extends NgtMeshStandardMaterial{set clearcoat(clearcoat){this.set({clearcoat:(0,src.su)(clearcoat)})}set clearcoatMap(clearcoatMap){this.set({clearcoatMap})}set clearcoatRoughness(clearcoatRoughness){this.set({clearcoatRoughness:(0,src.su)(clearcoatRoughness)})}set clearcoatRoughnessMap(clearcoatRoughnessMap){this.set({clearcoatRoughnessMap})}set clearcoatNormalScale(clearcoatNormalScale){this.set({clearcoatNormalScale})}set clearcoatNormalMap(clearcoatNormalMap){this.set({clearcoatNormalMap})}set reflectivity(reflectivity){this.set({reflectivity:(0,src.su)(reflectivity)})}set ior(ior){this.set({ior:(0,src.su)(ior)})}set sheen(sheen){this.set({sheen:(0,src.su)(sheen)})}set sheenColor(sheenColor){this.set({sheenColor})}set sheenRoughness(sheenRoughness){this.set({sheenRoughness:(0,src.su)(sheenRoughness)})}set transmission(transmission){this.set({transmission:(0,src.su)(transmission)})}set transmissionMap(transmissionMap){this.set({transmissionMap})}set attenuationDistance(attenuationDistance){this.set({attenuationDistance:(0,src.su)(attenuationDistance)})}set attenuationColor(attenuationColor){this.set({attenuationColor})}set specularIntensity(specularIntensity){this.set({specularIntensity:(0,src.su)(specularIntensity)})}set specularColor(specularColor){this.set({specularColor})}set specularIntensityMap(specularIntensityMap){this.set({specularIntensityMap})}set specularColorMap(specularColorMap){this.set({specularColorMap})}get materialType(){return three_module.EJi}get optionFields(){return{...super.optionFields,clearcoat:!0,clearcoatMap:!0,clearcoatRoughness:!0,clearcoatRoughnessMap:!0,clearcoatNormalScale:!0,clearcoatNormalMap:!0,reflectivity:!0,ior:!0,sheen:!0,sheenColor:!0,sheenRoughness:!0,transmission:!0,transmissionMap:!0,attenuationDistance:!0,attenuationColor:!0,specularIntensity:!0,specularColor:!0,specularIntensityMap:!0,specularColorMap:!0}}};NgtMeshPhysicalMaterial.propDecorators={clearcoat:[{type:core.Input}],clearcoatMap:[{type:core.Input}],clearcoatRoughness:[{type:core.Input}],clearcoatRoughnessMap:[{type:core.Input}],clearcoatNormalScale:[{type:core.Input}],clearcoatNormalMap:[{type:core.Input}],reflectivity:[{type:core.Input}],ior:[{type:core.Input}],sheen:[{type:core.Input}],sheenColor:[{type:core.Input}],sheenRoughness:[{type:core.Input}],transmission:[{type:core.Input}],transmissionMap:[{type:core.Input}],attenuationDistance:[{type:core.Input}],attenuationColor:[{type:core.Input}],specularIntensity:[{type:core.Input}],specularColor:[{type:core.Input}],specularIntensityMap:[{type:core.Input}],specularColorMap:[{type:core.Input}]},NgtMeshPhysicalMaterial=NgtMeshPhysicalMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-physical-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshPhysicalMaterial_1),(0,src.Wm)(NgtMeshPhysicalMaterial_1)]})],NgtMeshPhysicalMaterial);let NgtMeshPhysicalMaterialModule=class NgtMeshPhysicalMaterialModule{};var NgtMeshPhongMaterial_1;NgtMeshPhysicalMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshPhysicalMaterial],exports:[NgtMeshPhysicalMaterial]})],NgtMeshPhysicalMaterialModule);let NgtMeshPhongMaterial=NgtMeshPhongMaterial_1=class NgtMeshPhongMaterial extends src.hZ{set color(color){this.set({color})}set specular(specular){this.set({specular})}set shininess(shininess){this.set({shininess:(0,src.su)(shininess)})}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}set map(map){this.set({map})}set lightMap(lightMap){this.set({lightMap})}set lightMapIntensity(lightMapIntensity){this.set({lightMapIntensity:(0,src.su)(lightMapIntensity)})}set aoMap(aoMap){this.set({aoMap})}set aoMapIntensity(aoMapIntensity){this.set({aoMapIntensity:(0,src.su)(aoMapIntensity)})}set emissive(emissive){this.set({emissive})}set emissiveIntensity(emissiveIntensity){this.set({emissiveIntensity:(0,src.su)(emissiveIntensity)})}set emissiveMap(emissiveMap){this.set({emissiveMap})}set bumpMap(bumpMap){this.set({bumpMap})}set bumpScale(bumpScale){this.set({bumpScale:(0,src.su)(bumpScale)})}set normalMap(normalMap){this.set({normalMap})}set normalMapType(normalMapType){this.set({normalMapType})}set normalScale(normalScale){this.set({normalScale})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set specularMap(specularMap){this.set({specularMap})}set alphaMap(alphaMap){this.set({alphaMap})}set envMap(envMap){this.set({envMap})}set combine(combine){this.set({combine})}set reflectivity(reflectivity){this.set({reflectivity:(0,src.su)(reflectivity)})}set refractionRatio(refractionRatio){this.set({refractionRatio:(0,src.su)(refractionRatio)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set wireframeLinecap(wireframeLinecap){this.set({wireframeLinecap})}set wireframeLinejoin(wireframeLinejoin){this.set({wireframeLinejoin})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}set flatShading(flatShading){this.set({flatShading:(0,src.Ig)(flatShading)})}get materialType(){return three_module.xoR}get optionFields(){return{...super.optionFields,color:!0,specular:!0,shininess:!0,opacity:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,emissive:!0,emissiveIntensity:!0,emissiveMap:!0,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,specularMap:!0,alphaMap:!0,envMap:!0,combine:!0,reflectivity:!0,refractionRatio:!0,wireframe:!0,wireframeLinewidth:!0,wireframeLinecap:!0,wireframeLinejoin:!0,fog:!0,flatShading:!0}}};NgtMeshPhongMaterial.propDecorators={color:[{type:core.Input}],specular:[{type:core.Input}],shininess:[{type:core.Input}],opacity:[{type:core.Input}],map:[{type:core.Input}],lightMap:[{type:core.Input}],lightMapIntensity:[{type:core.Input}],aoMap:[{type:core.Input}],aoMapIntensity:[{type:core.Input}],emissive:[{type:core.Input}],emissiveIntensity:[{type:core.Input}],emissiveMap:[{type:core.Input}],bumpMap:[{type:core.Input}],bumpScale:[{type:core.Input}],normalMap:[{type:core.Input}],normalMapType:[{type:core.Input}],normalScale:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],specularMap:[{type:core.Input}],alphaMap:[{type:core.Input}],envMap:[{type:core.Input}],combine:[{type:core.Input}],reflectivity:[{type:core.Input}],refractionRatio:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],wireframeLinecap:[{type:core.Input}],wireframeLinejoin:[{type:core.Input}],fog:[{type:core.Input}],flatShading:[{type:core.Input}]},NgtMeshPhongMaterial=NgtMeshPhongMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-phong-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshPhongMaterial_1),(0,src.Wm)(NgtMeshPhongMaterial_1)]})],NgtMeshPhongMaterial);let NgtMeshPhongMaterialModule=class NgtMeshPhongMaterialModule{};var NgtMeshToonMaterial_1;NgtMeshPhongMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshPhongMaterial],exports:[NgtMeshPhongMaterial]})],NgtMeshPhongMaterialModule);let NgtMeshToonMaterial=NgtMeshToonMaterial_1=class NgtMeshToonMaterial extends src.hZ{set color(color){this.set({color})}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}set gradientMap(gradientMap){this.set({gradientMap})}set map(map){this.set({map})}set lightMap(lightMap){this.set({lightMap})}set lightMapIntensity(lightMapIntensity){this.set({lightMapIntensity:(0,src.su)(lightMapIntensity)})}set aoMap(aoMap){this.set({aoMap})}set aoMapIntensity(aoMapIntensity){this.set({aoMapIntensity:(0,src.su)(aoMapIntensity)})}set emissive(emissive){this.set({emissive})}set emissiveIntensity(emissiveIntensity){this.set({emissiveIntensity:(0,src.su)(emissiveIntensity)})}set emissiveMap(emissiveMap){this.set({emissiveMap})}set bumpMap(bumpMap){this.set({bumpMap})}set bumpScale(bumpScale){this.set({bumpScale:(0,src.su)(bumpScale)})}set normalMap(normalMap){this.set({normalMap})}set normalMapType(normalMapType){this.set({normalMapType})}set normalScale(normalScale){this.set({normalScale})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set alphaMap(alphaMap){this.set({alphaMap})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set wireframeLinecap(wireframeLinecap){this.set({wireframeLinecap})}set wireframeLinejoin(wireframeLinejoin){this.set({wireframeLinejoin})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}get materialType(){return three_module.IKL}get optionFields(){return{...super.optionFields,color:!0,opacity:!0,gradientMap:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,emissive:!0,emissiveIntensity:!0,emissiveMap:!0,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,alphaMap:!0,wireframe:!0,wireframeLinewidth:!0,wireframeLinecap:!0,wireframeLinejoin:!0,fog:!0}}};NgtMeshToonMaterial.propDecorators={color:[{type:core.Input}],opacity:[{type:core.Input}],gradientMap:[{type:core.Input}],map:[{type:core.Input}],lightMap:[{type:core.Input}],lightMapIntensity:[{type:core.Input}],aoMap:[{type:core.Input}],aoMapIntensity:[{type:core.Input}],emissive:[{type:core.Input}],emissiveIntensity:[{type:core.Input}],emissiveMap:[{type:core.Input}],bumpMap:[{type:core.Input}],bumpScale:[{type:core.Input}],normalMap:[{type:core.Input}],normalMapType:[{type:core.Input}],normalScale:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],alphaMap:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],wireframeLinecap:[{type:core.Input}],wireframeLinejoin:[{type:core.Input}],fog:[{type:core.Input}]},NgtMeshToonMaterial=NgtMeshToonMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-toon-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshToonMaterial_1),(0,src.Wm)(NgtMeshToonMaterial_1)]})],NgtMeshToonMaterial);let NgtMeshToonMaterialModule=class NgtMeshToonMaterialModule{};var NgtMeshNormalMaterial_1;NgtMeshToonMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshToonMaterial],exports:[NgtMeshToonMaterial]})],NgtMeshToonMaterialModule);let NgtMeshNormalMaterial=NgtMeshNormalMaterial_1=class NgtMeshNormalMaterial extends src.hZ{set bumpMap(bumpMap){this.set({bumpMap})}set bumpScale(bumpScale){this.set({bumpScale:(0,src.su)(bumpScale)})}set normalMap(normalMap){this.set({normalMap})}set normalMapType(normalMapType){this.set({normalMapType})}set normalScale(normalScale){this.set({normalScale})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set flatShading(flatShading){this.set({flatShading:(0,src.Ig)(flatShading)})}get materialType(){return three_module.RSm}get optionFields(){return{...super.optionFields,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,wireframe:!0,wireframeLinewidth:!0,flatShading:!0}}};NgtMeshNormalMaterial.propDecorators={bumpMap:[{type:core.Input}],bumpScale:[{type:core.Input}],normalMap:[{type:core.Input}],normalMapType:[{type:core.Input}],normalScale:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],flatShading:[{type:core.Input}]},NgtMeshNormalMaterial=NgtMeshNormalMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-normal-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshNormalMaterial_1),(0,src.Wm)(NgtMeshNormalMaterial_1)]})],NgtMeshNormalMaterial);let NgtMeshNormalMaterialModule=class NgtMeshNormalMaterialModule{};var NgtMeshLambertMaterial_1;NgtMeshNormalMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshNormalMaterial],exports:[NgtMeshNormalMaterial]})],NgtMeshNormalMaterialModule);let NgtMeshLambertMaterial=NgtMeshLambertMaterial_1=class NgtMeshLambertMaterial extends src.hZ{set color(color){this.set({color})}set emissive(emissive){this.set({emissive})}set emissiveIntensity(emissiveIntensity){this.set({emissiveIntensity:(0,src.su)(emissiveIntensity)})}set emissiveMap(emissiveMap){this.set({emissiveMap})}set map(map){this.set({map})}set lightMap(lightMap){this.set({lightMap})}set lightMapIntensity(lightMapIntensity){this.set({lightMapIntensity:(0,src.su)(lightMapIntensity)})}set aoMap(aoMap){this.set({aoMap})}set aoMapIntensity(aoMapIntensity){this.set({aoMapIntensity:(0,src.su)(aoMapIntensity)})}set specularMap(specularMap){this.set({specularMap})}set alphaMap(alphaMap){this.set({alphaMap})}set envMap(envMap){this.set({envMap})}set combine(combine){this.set({combine})}set reflectivity(reflectivity){this.set({reflectivity:(0,src.su)(reflectivity)})}set refractionRatio(refractionRatio){this.set({refractionRatio:(0,src.su)(refractionRatio)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set wireframeLinecap(wireframeLinecap){this.set({wireframeLinecap})}set wireframeLinejoin(wireframeLinejoin){this.set({wireframeLinejoin})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}get materialType(){return three_module.YBo}get optionFields(){return{...super.optionFields,color:!0,emissive:!0,emissiveIntensity:!0,emissiveMap:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,specularMap:!0,alphaMap:!0,envMap:!0,combine:!0,reflectivity:!0,refractionRatio:!0,wireframe:!0,wireframeLinewidth:!0,wireframeLinecap:!0,wireframeLinejoin:!0,fog:!0}}};NgtMeshLambertMaterial.propDecorators={color:[{type:core.Input}],emissive:[{type:core.Input}],emissiveIntensity:[{type:core.Input}],emissiveMap:[{type:core.Input}],map:[{type:core.Input}],lightMap:[{type:core.Input}],lightMapIntensity:[{type:core.Input}],aoMap:[{type:core.Input}],aoMapIntensity:[{type:core.Input}],specularMap:[{type:core.Input}],alphaMap:[{type:core.Input}],envMap:[{type:core.Input}],combine:[{type:core.Input}],reflectivity:[{type:core.Input}],refractionRatio:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],wireframeLinecap:[{type:core.Input}],wireframeLinejoin:[{type:core.Input}],fog:[{type:core.Input}]},NgtMeshLambertMaterial=NgtMeshLambertMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-lambert-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshLambertMaterial_1),(0,src.Wm)(NgtMeshLambertMaterial_1)]})],NgtMeshLambertMaterial);let NgtMeshLambertMaterialModule=class NgtMeshLambertMaterialModule{};var NgtMeshDepthMaterial_1;NgtMeshLambertMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshLambertMaterial],exports:[NgtMeshLambertMaterial]})],NgtMeshLambertMaterialModule);let NgtMeshDepthMaterial=NgtMeshDepthMaterial_1=class NgtMeshDepthMaterial extends src.hZ{set map(map){this.set({map})}set alphaMap(alphaMap){this.set({alphaMap})}set depthPacking(depthPacking){this.set({depthPacking})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}get materialType(){return three_module.lRF}get optionFields(){return{...super.optionFields,map:!0,alphaMap:!0,depthPacking:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,wireframe:!0,wireframeLinewidth:!0}}};NgtMeshDepthMaterial.propDecorators={map:[{type:core.Input}],alphaMap:[{type:core.Input}],depthPacking:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}]},NgtMeshDepthMaterial=NgtMeshDepthMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-depth-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshDepthMaterial_1),(0,src.Wm)(NgtMeshDepthMaterial_1)]})],NgtMeshDepthMaterial);let NgtMeshDepthMaterialModule=class NgtMeshDepthMaterialModule{};var NgtMeshDistanceMaterial_1;NgtMeshDepthMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshDepthMaterial],exports:[NgtMeshDepthMaterial]})],NgtMeshDepthMaterialModule);let NgtMeshDistanceMaterial=NgtMeshDistanceMaterial_1=class NgtMeshDistanceMaterial extends src.hZ{set map(map){this.set({map})}set alphaMap(alphaMap){this.set({alphaMap})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set farDistance(farDistance){this.set({farDistance:(0,src.su)(farDistance)})}set nearDistance(nearDistance){this.set({nearDistance:(0,src.su)(nearDistance)})}set referencePosition(referencePosition){this.set({referencePosition})}get materialType(){return three_module.Lun}get optionFields(){return{...super.optionFields,map:!0,alphaMap:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,farDistance:!0,nearDistance:!0,referencePosition:!0}}};NgtMeshDistanceMaterial.propDecorators={map:[{type:core.Input}],alphaMap:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],farDistance:[{type:core.Input}],nearDistance:[{type:core.Input}],referencePosition:[{type:core.Input}]},NgtMeshDistanceMaterial=NgtMeshDistanceMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-distance-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshDistanceMaterial_1),(0,src.Wm)(NgtMeshDistanceMaterial_1)]})],NgtMeshDistanceMaterial);let NgtMeshDistanceMaterialModule=class NgtMeshDistanceMaterialModule{};var NgtMeshBasicMaterial_1;NgtMeshDistanceMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshDistanceMaterial],exports:[NgtMeshDistanceMaterial]})],NgtMeshDistanceMaterialModule);let NgtMeshBasicMaterial=NgtMeshBasicMaterial_1=class NgtMeshBasicMaterial extends src.hZ{set color(color){this.set({color})}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}set map(map){this.set({map})}set lightMap(lightMap){this.set({lightMap})}set lightMapIntensity(lightMapIntensity){this.set({lightMapIntensity:(0,src.su)(lightMapIntensity)})}set aoMap(aoMap){this.set({aoMap})}set aoMapIntensity(aoMapIntensity){this.set({aoMapIntensity:(0,src.su)(aoMapIntensity)})}set specularMap(specularMap){this.set({specularMap})}set alphaMap(alphaMap){this.set({alphaMap})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}set envMap(envMap){this.set({envMap})}set combine(combine){this.set({combine})}set reflectivity(reflectivity){this.set({reflectivity:(0,src.su)(reflectivity)})}set refractionRatio(refractionRatio){this.set({refractionRatio:(0,src.su)(refractionRatio)})}set wireframe(wireframe){this.set({wireframe:(0,src.Ig)(wireframe)})}set wireframeLinewidth(wireframeLinewidth){this.set({wireframeLinewidth:(0,src.su)(wireframeLinewidth)})}set wireframeLinecap(wireframeLinecap){this.set({wireframeLinecap})}set wireframeLinejoin(wireframeLinejoin){this.set({wireframeLinejoin})}get materialType(){return three_module.vBJ}get optionFields(){return{...super.optionFields,color:!0,opacity:!0,map:!0,lightMap:!0,lightMapIntensity:!0,aoMap:!0,aoMapIntensity:!0,specularMap:!0,alphaMap:!0,fog:!0,envMap:!0,combine:!0,reflectivity:!0,refractionRatio:!0,wireframe:!0,wireframeLinewidth:!0,wireframeLinecap:!0,wireframeLinejoin:!0}}};NgtMeshBasicMaterial.propDecorators={color:[{type:core.Input}],opacity:[{type:core.Input}],map:[{type:core.Input}],lightMap:[{type:core.Input}],lightMapIntensity:[{type:core.Input}],aoMap:[{type:core.Input}],aoMapIntensity:[{type:core.Input}],specularMap:[{type:core.Input}],alphaMap:[{type:core.Input}],fog:[{type:core.Input}],envMap:[{type:core.Input}],combine:[{type:core.Input}],reflectivity:[{type:core.Input}],refractionRatio:[{type:core.Input}],wireframe:[{type:core.Input}],wireframeLinewidth:[{type:core.Input}],wireframeLinecap:[{type:core.Input}],wireframeLinejoin:[{type:core.Input}]},NgtMeshBasicMaterial=NgtMeshBasicMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-basic-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshBasicMaterial_1),(0,src.Wm)(NgtMeshBasicMaterial_1)]})],NgtMeshBasicMaterial);let NgtMeshBasicMaterialModule=class NgtMeshBasicMaterialModule{};var NgtMeshMatcapMaterial_1;NgtMeshBasicMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshBasicMaterial],exports:[NgtMeshBasicMaterial]})],NgtMeshBasicMaterialModule);let NgtMeshMatcapMaterial=NgtMeshMatcapMaterial_1=class NgtMeshMatcapMaterial extends src.hZ{set color(color){this.set({color})}set matcap(matcap){this.set({matcap})}set map(map){this.set({map})}set bumpMap(bumpMap){this.set({bumpMap})}set bumpScale(bumpScale){this.set({bumpScale:(0,src.su)(bumpScale)})}set normalMap(normalMap){this.set({normalMap})}set normalMapType(normalMapType){this.set({normalMapType})}set normalScale(normalScale){this.set({normalScale})}set displacementMap(displacementMap){this.set({displacementMap})}set displacementScale(displacementScale){this.set({displacementScale:(0,src.su)(displacementScale)})}set displacementBias(displacementBias){this.set({displacementBias:(0,src.su)(displacementBias)})}set alphaMap(alphaMap){this.set({alphaMap})}set fog(fog){this.set({fog:(0,src.Ig)(fog)})}set flatShading(flatShading){this.set({flatShading:(0,src.Ig)(flatShading)})}get materialType(){return three_module.kaV}get optionFields(){return{...super.optionFields,color:!0,matcap:!0,map:!0,bumpMap:!0,bumpScale:!0,normalMap:!0,normalMapType:!0,normalScale:!0,displacementMap:!0,displacementScale:!0,displacementBias:!0,alphaMap:!0,fog:!0,flatShading:!0}}};NgtMeshMatcapMaterial.propDecorators={color:[{type:core.Input}],matcap:[{type:core.Input}],map:[{type:core.Input}],bumpMap:[{type:core.Input}],bumpScale:[{type:core.Input}],normalMap:[{type:core.Input}],normalMapType:[{type:core.Input}],normalScale:[{type:core.Input}],displacementMap:[{type:core.Input}],displacementScale:[{type:core.Input}],displacementBias:[{type:core.Input}],alphaMap:[{type:core.Input}],fog:[{type:core.Input}],flatShading:[{type:core.Input}]},NgtMeshMatcapMaterial=NgtMeshMatcapMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh-matcap-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtMeshMatcapMaterial_1),(0,src.Wm)(NgtMeshMatcapMaterial_1)]})],NgtMeshMatcapMaterial);let NgtMeshMatcapMaterialModule=class NgtMeshMatcapMaterialModule{};var NgtLineBasicMaterial_1;NgtMeshMatcapMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMeshMatcapMaterial],exports:[NgtMeshMatcapMaterial]})],NgtMeshMatcapMaterialModule);let NgtLineBasicMaterial=NgtLineBasicMaterial_1=class NgtLineBasicMaterial extends src.hZ{set color(color){this.set({color})}set linewidth(linewidth){this.set({linewidth:(0,src.su)(linewidth)})}set linecap(linecap){this.set({linecap})}set linejoin(linejoin){this.set({linejoin})}get materialType(){return three_module.nls}get optionFields(){return{...super.optionFields,color:!0,linewidth:!0,linecap:!0,linejoin:!0}}};NgtLineBasicMaterial.propDecorators={color:[{type:core.Input}],linewidth:[{type:core.Input}],linecap:[{type:core.Input}],linejoin:[{type:core.Input}]},NgtLineBasicMaterial=NgtLineBasicMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-line-basic-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtLineBasicMaterial_1),(0,src.Wm)(NgtLineBasicMaterial_1)]})],NgtLineBasicMaterial);let NgtLineBasicMaterialModule=class NgtLineBasicMaterialModule{};var NgtLineDashedMaterial_1;NgtLineBasicMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtLineBasicMaterial],exports:[NgtLineBasicMaterial]})],NgtLineBasicMaterialModule);let NgtLineDashedMaterial=NgtLineDashedMaterial_1=class NgtLineDashedMaterial extends NgtLineBasicMaterial{set scale(scale){this.set({scale:(0,src.su)(scale)})}set dashSize(dashSize){this.set({dashSize:(0,src.su)(dashSize)})}set gapSize(gapSize){this.set({gapSize:(0,src.su)(gapSize)})}get materialType(){return three_module.FT0}get optionFields(){return{...super.optionFields,scale:!0,dashSize:!0,gapSize:!0}}};NgtLineDashedMaterial.propDecorators={scale:[{type:core.Input}],dashSize:[{type:core.Input}],gapSize:[{type:core.Input}]},NgtLineDashedMaterial=NgtLineDashedMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-line-dashed-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtLineDashedMaterial_1),(0,src.Wm)(NgtLineDashedMaterial_1)]})],NgtLineDashedMaterial);let NgtLineDashedMaterialModule=class NgtLineDashedMaterialModule{};NgtLineDashedMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtLineDashedMaterial],exports:[NgtLineDashedMaterial]})],NgtLineDashedMaterialModule)},"./libs/core/meshes/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oX:()=>NgtMesh,M$:()=>NgtMeshModule});var NgtMesh_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtMesh=NgtMesh_1=class NgtMesh extends src.uT{get meshType(){return three_module.Kj0}};NgtMesh=NgtMesh_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-mesh",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.A5)(NgtMesh_1),(0,src.pb)(NgtMesh_1)]})],NgtMesh);let NgtMeshModule=class NgtMeshModule{};var NgtInstancedMesh_1;NgtMeshModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMesh],exports:[NgtMesh]})],NgtMeshModule);let NgtInstancedMesh=NgtInstancedMesh_1=class NgtInstancedMesh extends src.uT{set count(count){this.set({count:(0,src.su)(count)})}get meshType(){return three_module.SPe}postPrepare(instancedMesh){instancedMesh.instanceMatrix.setUsage(three_module.dj0)}get optionFields(){return{...super.optionFields,count:!1}}get argsKeys(){return["count"]}};NgtInstancedMesh.propDecorators={count:[{type:core.Input}]},NgtInstancedMesh=NgtInstancedMesh_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-instanced-mesh[count]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.A5)(NgtInstancedMesh_1),(0,src.pb)(NgtInstancedMesh_1)]})],NgtInstancedMesh);let NgtInstancedMeshModule=class NgtInstancedMeshModule{};NgtInstancedMeshModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtInstancedMesh],exports:[NgtInstancedMesh]})],NgtInstancedMeshModule);var NgtSkinnedMesh_1,NgtSkeleton_1,NgtBone_1,pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),withLatestFrom=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/withLatestFrom.js");let NgtSkinnedMesh=NgtSkinnedMesh_1=class NgtSkinnedMesh extends src.uT{set skeleton(skeleton){this.set({skeleton})}set useVertexTexture(useVertexTexture){this.set({useVertexTexture:(0,src.Ig)(useVertexTexture)})}set bindMatrix(bindMatrix){this.set({bindMatrix:(0,src.Sy)(three_module.yGw,bindMatrix)})}set bindMatrixInverse(bindMatrixInverse){this.set({bindMatrixInverse:(0,src.Sy)(three_module.yGw,bindMatrixInverse)})}set bindMode(bindMode){this.set({bindMode})}get meshType(){return three_module.TUv}get argsKeys(){return["useVertexTexture"]}get optionFields(){return{...super.optionFields,bindMatrix:!0,bindMatrixInverse:!0,bindMode:!0,skeleton:!0}}bind(skeleton){this.instance.value.bind(skeleton,this.get((s=>s.bindMatrix)))}};NgtSkinnedMesh.propDecorators={skeleton:[{type:core.Input}],useVertexTexture:[{type:core.Input}],bindMatrix:[{type:core.Input}],bindMatrixInverse:[{type:core.Input}],bindMode:[{type:core.Input}]},NgtSkinnedMesh=NgtSkinnedMesh_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-skinned-mesh",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.A5)(NgtSkinnedMesh_1),(0,src.pb)(NgtSkinnedMesh_1)]})],NgtSkinnedMesh);let NgtSkeleton=NgtSkeleton_1=class NgtSkeleton extends src.WZ{constructor(){if(super(),this.skinnedMesh=(0,core.inject)(NgtSkinnedMesh,{optional:!0}),this.parentRef=()=>this.skinnedMesh?.instance,this.parentHostRef=(0,src.cO)({optional:!0,skipSelf:!0}),this.init=this.effect((0,pipe.z)((0,withLatestFrom.M)(this.select(this.select((s=>s.bones)),this.select((s=>s.boneInverses)),((bones,boneInverses)=>({bones,boneInverses})))),(0,src.oe)((([instanceArgs,{bones,boneInverses}])=>{const skeletonArgs=[...instanceArgs];0===skeletonArgs.length&&(bones.length&&(skeletonArgs[0]=bones),boneInverses.length&&(skeletonArgs[1]=boneInverses));const skeleton=this.prepareInstance(new three_module.OdW(...skeletonArgs));return this.skinnedMesh?.instance.value.skeleton||this.skinnedMesh?.bind(skeleton),()=>{skeleton.dispose()}})))),this.parentHostRef&&!this.parentHostRef().value.isSkinnedMesh)throw new Error("<ngt-skeleton> can only be used within <ngt-skinned-mesh>")}set args(args){this.set({instanceArgs:args})}set bones(bones){this.set({bones})}set boneInverses(boneInverses){this.set({boneInverses:boneInverses.map((datum=>(0,src.Sy)(three_module.yGw,datum)))})}set boneMatrices(boneMatrices){this.set({boneMatrices})}set boneTexture(boneTexture){this.set({boneTexture})}set boneTextureSize(boneTextureSize){this.set({boneTextureSize:(0,src.su)(boneTextureSize)})}set frame(frame){this.set({frame:(0,src.su)(frame)})}preInit(){this.set((state=>({attach:state.attach.length?state.attach:["skeleton"],bones:state.bones||[],boneInverses:state.boneInverses||[],boneMatrices:state.boneMatrices||null,boneTexture:state.boneTexture||null,boneTextureSize:state.boneTextureSize||0,frame:state.frame||-1})))}ngOnInit(){super.ngOnInit(),this.store.onReady((()=>{this.init(this.instanceArgs$)}))}get optionFields(){return{...super.optionFields,bones:!1,boneTexture:!1,boneTextureSize:!1,boneMatrices:!1,boneInverses:!1,frame:!1}}};NgtSkeleton.ctorParameters=()=>[],NgtSkeleton.propDecorators={args:[{type:core.Input}],bones:[{type:core.Input}],boneInverses:[{type:core.Input}],boneMatrices:[{type:core.Input}],boneTexture:[{type:core.Input}],boneTextureSize:[{type:core.Input}],frame:[{type:core.Input}]},NgtSkeleton=NgtSkeleton_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-skeleton",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtSkeleton_1),(0,src.UV)(NgtSkeleton_1)]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgtSkeleton);let NgtBone=NgtBone_1=class NgtBone extends src.Jy{constructor(){super(...arguments),this.hostBoneRef=(0,src.nc)({skipSelf:!0,optional:!0}),this.hostSkeletonRef=(0,src.zt)({skipSelf:!0,optional:!0}),this.hostSkinnedMeshRef=(0,src.cO)({skipSelf:!0,optional:!0}),this.parentBone=(0,core.inject)(NgtBone_1,{skipSelf:!0,optional:!0}),this.parentSkinnedMesh=(0,core.inject)(NgtSkinnedMesh,{optional:!0}),this.parentSkeleton=(0,core.inject)(NgtSkeleton,{optional:!0}),this.parentRef=()=>this.parentBone?.instance||this.parentSkinnedMesh?.instance,this.parentHostRef=this.hostBoneRef||this.hostSkinnedMeshRef}objectInitFn(){return new three_module.N$j}postPrepare(bone){this.parentSkeleton?this.parentSkeleton.instance.value.bones.push(bone):this.hostSkeletonRef&&this.hostSkeletonRef().value.bones.push(bone)}};NgtBone=NgtBone_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-bone",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtBone_1),(0,src.wY)(NgtBone_1)]})],NgtBone);let NgtSkinnedMeshModule=class NgtSkinnedMeshModule{};NgtSkinnedMeshModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSkinnedMesh,NgtSkeleton,NgtBone],exports:[NgtSkinnedMesh,NgtSkeleton,NgtBone]})],NgtSkinnedMeshModule)},"./libs/core/primitive/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>NgtPrimitive,v:()=>NgtPrimitiveModule});var NgtPrimitive_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),filter=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/filter.js");let NgtPrimitive=NgtPrimitive_1=class NgtPrimitive extends src.Jy{constructor(){super(...arguments),this.object$=this.select((s=>s.object)).pipe((0,filter.h)((object=>null!=object))),this.isPrimitive=!0}set object(object){src.is.ref(object)?(this.ref=object,this.set({object:object.value})):this.set({object})}get object(){return this.get((s=>s.object))}objectInitFn(){return this.object}get preObjectInit(){return initFn=>{this.effect((0,src.oe)((()=>{initFn()})))(this.object$)}}};NgtPrimitive.propDecorators={object:[{type:core.Input}]},NgtPrimitive=NgtPrimitive_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-primitive[object]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtPrimitive_1),(0,src.wY)(NgtPrimitive_1)]})],NgtPrimitive);let NgtPrimitiveModule=class NgtPrimitiveModule{};NgtPrimitiveModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPrimitive],exports:[NgtPrimitive]})],NgtPrimitiveModule)},"./libs/core/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Dh:()=>NGT_OBJECT_REF,DX:()=>NgtCanvasModule,f5:()=>NgtCommonAttribute,fc:()=>NgtCommonCamera,B:()=>NgtCommonGeometry,fA:()=>NgtCommonHelper,Xh:()=>NgtCommonLight,hZ:()=>NgtCommonMaterial,uT:()=>NgtCommonMesh,lW:()=>NgtCommonObjectHelper,rR:()=>NgtCommonSprite,vf:()=>NgtCommonTexture,gU:()=>NgtComponentStore,WZ:()=>NgtInstance,gj:()=>NgtLoader,KC:()=>NgtMaterialGeometry,uL:()=>NgtMathPipeModule,Jy:()=>NgtObject,VL:()=>NgtObjectPassThrough,y2:()=>NgtObjectPassThroughModule,Kw:()=>NgtObjectProps,Nh:()=>NgtPiPipeModule,WS:()=>NgtPortal,ZQ:()=>NgtPortalContent,yh:()=>NgtPortalModule,j4:()=>NgtRadianPipe,kZ:()=>NgtRadianPipeModule,l3:()=>NgtRepeat,iv:()=>NgtSidePipe,g8:()=>NgtSidePipeModule,W7:()=>NgtStore,Rl:()=>Ref,WC:()=>addAfterCallback,ll:()=>addCallback,nH:()=>applyProps,QF:()=>checkNeedsUpdate,Ig:()=>coerceBooleanProperty,su:()=>coerceNumberProperty,HK:()=>createPassThroughInput,nc:()=>injectBoneHostRef,zt:()=>injectSkeletonHostRef,cO:()=>injectSkinnedMeshHostRef,is:()=>is,Sy:()=>make,CE:()=>makeDpr,Pl:()=>prepare,_4:()=>provideCommonAttributeRef,dF:()=>provideCommonCameraRef,O2:()=>provideCommonGeometryRef,$m:()=>provideCommonHelperRef,tG:()=>provideCommonLightRef,Wm:()=>provideCommonMaterialRef,pb:()=>provideCommonMeshRef,ch:()=>provideCommonObjectHelperRef,aZ:()=>provideCommonSpriteRef,O4:()=>provideCommonTextureRef,UV:()=>provideInstanceRef,zd:()=>provideNgtCommonAttribute,hS:()=>provideNgtCommonCamera,Pc:()=>provideNgtCommonGeometry,rG:()=>provideNgtCommonHelper,Oq:()=>provideNgtCommonLight,uy:()=>provideNgtCommonMaterial,A5:()=>provideNgtCommonMesh,SE:()=>provideNgtCommonObjectHelper,O9:()=>provideNgtCommonSprite,RP:()=>provideNgtCommonTexture,Nx:()=>provideNgtInstance,RD:()=>provideNgtObject,Hm:()=>provideObjectHostRef,wY:()=>provideObjectRef,nD:()=>providePerformanceOptions,gh:()=>shaderMaterial,Xb:()=>startWithUndefined,oe:()=>tapEffect});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),switchMap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),filter=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/filter.js"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),withLatestFrom=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/withLatestFrom.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js"),of=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/of.js"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),BehaviorSubject=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");class Ref extends BehaviorSubject.X{constructor(value){super(value||null)}set(value){"function"==typeof value?this.next(value(this.value)):this.next(value)}}const is={obj:a=>a===Object(a)&&!is.arr(a)&&"function"!=typeof a,material:a=>!!a&&a.isMaterial,geometry:a=>!!a&&a.isBufferGeometry,mesh:a=>!!a&&a.isMesh,orthographic:a=>!!a&&a.isOrthographicCamera,perspective:a=>!!a&&a.isPerspectiveCamera,camera:a=>!!a&&a.isCamera,glRenderer:a=>!!a&&a instanceof three_module.CP7,scene:a=>!!a&&a.isScene,object3d:a=>!!a&&a.isObject3D,instance:a=>!!a&&!!a.__ngt__,ref:a=>!!a&&a instanceof Ref,vector3:a=>!!a&&a.isVector3,color:a=>!!a&&a.isColor,supportColorManagement:()=>!0,fun:a=>"function"==typeof a,str:a=>"string"==typeof a,num:a=>"number"==typeof a,boo:a=>"boolean"==typeof a,und:a=>void 0===a,eventEmitter:a=>a instanceof core.EventEmitter,arr:a=>Array.isArray(a),equ(a,b,{arrays="shallow",objects="reference",strict=!0}={}){if(typeof a!=typeof b||!!a!=!!b)return!1;if(is.str(a)||is.num(a))return a===b;const isObj=is.obj(a);if(isObj&&"reference"===objects)return a===b;const isArr=is.arr(a);if(isArr&&"reference"===arrays)return a===b;if((isArr||isObj)&&a===b)return!0;let i;for(i in a)if(!(i in b))return!1;for(i in strict?b:a)if(a[i]!==b[i])return!1;if(is.und(i)){if(isArr&&0===a.length&&0===b.length)return!0;if(isObj&&0===Object.keys(a).length&&0===Object.keys(b).length)return!0;if(a!==b)return!1}return!0}};function createNgtProvider(base,...providers){return sub=>[...(providers||[]).map((providerFn=>providerFn(sub))),{provide:base,useExisting:sub}]}function createInjection(description,{defaultValueOrFactory,provideValueFactory}={}){const factory=defaultValueOrFactory&&"function"==typeof defaultValueOrFactory?defaultValueOrFactory:()=>defaultValueOrFactory,injectionToken=new core.InjectionToken(description,{factory});return[function injectFn(options={}){return(0,core.inject)(injectionToken,options)},function provideFn(value){return{provide:injectionToken,useValue:provideValueFactory?provideValueFactory(value):value}},injectionToken]}function createRefInjection(description,hostOrProviderFactory,...providersFactory){is.fun(hostOrProviderFactory)&&(providersFactory=[hostOrProviderFactory,...providersFactory]);const injectionToken=new core.InjectionToken(description);return[function injectFn(options={}){return(0,core.inject)(injectionToken,options)},function providedFn(sub,factory){return[...(providersFactory||[]).map((providerFn=>providerFn(sub,factory))),{provide:injectionToken,useFactory:instance=>factory?()=>factory(instance):is.boo(hostOrProviderFactory)?instance.parentRef:()=>instance.instance,deps:[sub]}]},injectionToken]}const[injectInstanceRef,provideInstanceRef,NGT_INSTANCE_REF]=createRefInjection("NgtInstance ref"),[injectInstanceHostRef,provideInstanceHostRef,NGT_INSTANCE_HOST_REF]=createRefInjection("NgtInstance host ref");var ReplaySubject=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),take=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/take.js"),distinctUntilChanged=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),share=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/share.js"),takeUntil=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),isObservable=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/isObservable.js"),combineLatest=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),Subject=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/Subject.js"),concatMap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/concatMap.js"),scheduled=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js"),queue=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/queue.js"),startWith=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),noop=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/noop.js");let NgtComponentStore=class NgtComponentStore{constructor(){this.destroySubject$=new ReplaySubject.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new ReplaySubject.t(1)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}get(projector){let value;return this.stateSubject$.pipe((0,take.q)(1),skipUndefined(),(0,map.U)((state=>projector?projector(state):state)),skipUndefined()).subscribe((result=>{value=result})),value}set(partialStateOrUpdaterFn){const patchedState="function"==typeof partialStateOrUpdaterFn?partialStateOrUpdaterFn(this.get()):partialStateOrUpdaterFn;this.updateState(((state,partialState)=>({...state,...partialState})))(patchedState)}select(...args){if(0===args.length)return this.stateSubject$.pipe(skipUndefined(),(0,distinctUntilChanged.x)(),(0,share.B)({connector:()=>new ReplaySubject.t(1),resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}),(0,takeUntil.R)(this.destroy$));if((0,isObservable.b)(args[args.length-1])){const defaultProjector=()=>({});args.push(defaultProjector)}const{observables,projector}=function processSelectorArgs(args){const selectorArgs=Array.from(args),projector=selectorArgs.pop();return{observables:selectorArgs,projector}}(args);let observable$;return observable$=0===observables.length?this.stateSubject$.pipe(skipUndefined(),(0,map.U)(projector)):(0,combineLatest.a)(observables).pipe((0,map.U)((projectorArgs=>projector(...projectorArgs)))),observable$.pipe(skipUndefined(),(0,distinctUntilChanged.x)(),(0,share.B)({connector:()=>new ReplaySubject.t(1),resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}),(0,takeUntil.R)(this.destroy$))}effect(generator){const origin$=new Subject.x;return generator(origin$).pipe((0,takeUntil.R)(this.destroy$)).subscribe(),observableOrValue=>((0,isObservable.b)(observableOrValue)?observableOrValue:(0,of.of)(observableOrValue)).pipe((0,takeUntil.R)(this.destroy$)).subscribe((value=>{origin$.next(value)}))}updateState(updaterFn){return observableOrValue=>((0,isObservable.b)(observableOrValue)?observableOrValue:(0,of.of)(observableOrValue)).pipe((0,concatMap.b)((value=>(0,scheduled.x)([value],queue.N).pipe((0,withLatestFrom.M)(this.stateSubject$.pipe((0,startWith.O)({})))))),(0,takeUntil.R)(this.destroy$)).subscribe({next:([value,currentState])=>{this.stateSubject$.next(updaterFn(currentState||{},value))},error:error=>{this.stateSubject$.error(error)}})}};function tapEffect(effectFn){let prev,cleanupFn=noop.Z,firstRun=!1;const teardown=error=>()=>{cleanupFn&&cleanupFn({prev,complete:!0,error})};return(0,tap.b)({next:value=>{cleanupFn&&firstRun&&cleanupFn({prev,complete:!1,error:!1});const cleanUpOrVoid=effectFn(value);cleanUpOrVoid&&(cleanupFn=cleanUpOrVoid),prev=value,firstRun||(firstRun=!0)},complete:teardown(!1),unsubscribe:teardown(!1),error:teardown(!0)})}function skipUndefined(){return(0,filter.h)((value=>void 0!==value))}function startWithUndefined(){return(0,startWith.O)(void 0)}NgtComponentStore=(0,tslib_es6.gn)([(0,core.Directive)()],NgtComponentStore);var Observable=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/Observable.js");const defaultPerformance={current:1,min:.5,max:1,debounce:200},[injectPerformanceOptions,providePerformanceOptions,NGT_PERFORMANCE_OPTIONS]=createInjection("NgtPerformance options",{defaultValueOrFactory:defaultPerformance,provideValueFactory:value=>({...defaultPerformance,...value})}),[injectWindow,,NGT_WINDOW]=createInjection("window",{defaultValueOrFactory:()=>{const{defaultView}=(0,core.inject)(common.K0);if(!defaultView)throw"window is not available!";return defaultView}});var debounceTime=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),fromEvent=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js");const defaultResizeOptions={box:"content-box",scroll:!1,offsetSize:!1,debounce:{scroll:50,resize:0}},[injectResizeOptions,provideResizeOptions,NGT_RESIZE_OPTIONS]=createInjection("ngtResize Options",{defaultValueOrFactory:defaultResizeOptions,provideValueFactory:value=>({...defaultResizeOptions,...value})}),[injectResizeObserverSupport]=createInjection("Resize Observer API support",{defaultValueOrFactory:()=>{const window=injectWindow();return"ResizeObserver"in window&&null!=window.ResizeObserver}});let NgtResize=class NgtResize extends Observable.y{constructor(){const{nativeElement}=(0,core.inject)(core.ElementRef),zone=(0,core.inject)(core.NgZone),window=injectWindow(),isSupport=injectResizeObserverSupport(),{box,offsetSize,scroll,debounce}=injectResizeOptions();let observer,lastBounds,lastEntries=[];const torndown$=new Subject.x,scrollContainers=findScrollContainers(nativeElement),scrollDebounce=debounce?"number"==typeof debounce?debounce:debounce.scroll:null,resizeDebounce=debounce?"number"==typeof debounce?debounce:debounce.resize:null,debounceAndDestroy=debounce=>(0,pipe.z)((0,debounceTime.b)(debounce??0),(0,takeUntil.R)(torndown$));return super((subscriber=>{if(isSupport)return zone.runOutsideAngular((()=>{const callback=entries=>{lastEntries=entries;const{left,top,width,height,bottom,right,x,y}=nativeElement.getBoundingClientRect(),size={left,top,width,height,bottom,right,x,y};nativeElement instanceof HTMLElement&&offsetSize&&(size.height=nativeElement.offsetHeight,size.width=nativeElement.offsetWidth),Object.freeze(size),subscriber.next({entries,dpr:window.devicePixelRatio,...size}),areBoundsEqual(lastBounds||{},size)||(lastBounds=size)},boundEntriesCallback=()=>{callback(lastEntries)};observer=new ResizeObserver(callback),observer.observe(nativeElement,{box}),scroll&&(scrollContainers&&scrollContainers.forEach((scrollContainer=>{(0,fromEvent.R)(scrollContainer,"scroll",{capture:!0,passive:!0}).pipe(debounceAndDestroy(scrollDebounce)).subscribe(boundEntriesCallback)})),(0,fromEvent.R)(window,"scroll",{capture:!0,passive:!0}).pipe(debounceAndDestroy(scrollDebounce)).subscribe(boundEntriesCallback)),(0,fromEvent.R)(window,"resize").pipe(debounceAndDestroy(resizeDebounce)).subscribe(boundEntriesCallback)})),()=>{observer&&(observer.unobserve(nativeElement),observer.disconnect()),torndown$.next(),torndown$.complete()};subscriber.error("ResizeObserver is not supported in your browser. Please use a polyfill")})),this.pipe((0,debounceTime.b)(scrollDebounce||0),(0,share.B)({connector:()=>new ReplaySubject.t(1),resetOnRefCountZero:!0,resetOnComplete:!0}))}};function findScrollContainers(element){const result=[];if(!element||element===document.body)return result;const{overflow,overflowX,overflowY}=window.getComputedStyle(element);return[overflow,overflowX,overflowY].some((prop=>"auto"===prop||"scroll"===prop))&&result.push(element),[...result,...findScrollContainers(element.parentElement)]}NgtResize.ctorParameters=()=>[],NgtResize=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[])],NgtResize);const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(a,b)=>keys.every((key=>a[key]===b[key]));function checkNeedsUpdate(value){null!==value&&"object"==typeof value&&"needsUpdate"in value&&(value.needsUpdate=!0,"uniformsNeedUpdate"in value&&(value.uniformsNeedUpdate=!0))}var pairwise=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/pairwise.js");function getInstanceInternal(obj){if(obj)return obj.__ngt__}function prepare(instance,root,parentInstance,previousInstance,isPrimitive=!1){const previousInstanceInternal=getInstanceInternal(previousInstance?.value),parent=parentInstance||(previousInstanceInternal?previousInstanceInternal.parent:void 0);return is.scene(instance)&&applyProps(instance,{dispose:null}),Object.assign(instance,{__ngt__:{root,primitive:isPrimitive||previousInstanceInternal?.primitive,eventCount:previousInstanceInternal?.eventCount??0,handlers:previousInstanceInternal?.handlers??{},objects:previousInstanceInternal?.objects??new Ref([]),parent:parent?parent===instance?null:parent:null}})}function checkUpdate(value){is.object3d(value)?value.updateMatrix():is.camera(value)&&((is.perspective(value)||is.orthographic(value))&&value.updateProjectionMatrix(),value.updateMatrixWorld()),checkNeedsUpdate(value)}function applyProps(instance,props){if(!Object.keys(props).length)return;const rootState=(getInstanceInternal(instance)||{}).root?.()??{};"__ngt__"in props&&(instance.__ngt__=getInstanceInternal(props));for(const entry of Object.entries(props)){const key=entry[0];let prop=entry[1];if("raycast"===key&&null==prop)continue;is.ref(prop)&&(prop=prop.value);const currentInstance=instance,target=currentInstance[key];if(target&&target.set&&(target.copy||target instanceof three_module.S9g)){if(is.arr(prop))target.fromArray?target.fromArray(prop):target.set(...prop);else if(target.copy&&prop&&prop.constructor&&target.constructor.name===prop.constructor.name)target.copy(prop);else if(void 0!==prop){const isColor=target instanceof three_module.Ilk;!isColor&&target.setScalar?target.setScalar(prop):target instanceof three_module.S9g&&prop instanceof three_module.S9g?target.mask=prop.mask:target.set(prop),is.supportColorManagement()||rootState.linear||!isColor||target.convertSRGBToLinear()}}else currentInstance[key]=prop,!rootState.linear&&currentInstance[key]instanceof three_module.xEZ&&(currentInstance[key].encoding=three_module.knz);checkNeedsUpdate(prop),checkNeedsUpdate(target)}}function updateCamera(cameraOptions,camera,size){is.camera(cameraOptions)||camera.manual||(is.orthographic(camera)?(camera.left=size.width/-2,camera.right=size.width/2,camera.top=size.height/2,camera.bottom=size.height/-2):camera.aspect=size.width/size.height,camera.updateProjectionMatrix(),camera.updateMatrixWorld())}function make(type,input){return input?input instanceof type?input:(is.arr(input)||(input="number"==typeof input?[input,input,input]:[input]),new type(...input)):new type}function makeDpr(dpr){return is.arr(dpr)?Math.min(Math.max(dpr[0],window.devicePixelRatio),dpr[1]):dpr}const idCache={};function makeId(event){if(event)return(event.eventObject||event.object).uuid+"/"+event.index+event.instanceId;const newId=three_module.M8C.generateUUID();return idCache[newId]?makeId():(idCache[newId]=!0,newId)}function releaseInternalPointerCapture(capturedMap,obj,captures,pointerId){const captureData=captures.get(obj);captureData&&(captures.delete(obj),0===captures.size&&(capturedMap.delete(pointerId),captureData.target.releasePointerCapture(pointerId)))}function createEvents(state){const temp=new three_module.Pa4;function filterPointerEvents(objects){return objects.filter((obj=>["move","over","enter","out","leave"].some((name=>getInstanceInternal(obj)?.handlers?.["pointer"+name]))))}function cancelPointer(hits){const internal=state().internal;Array.from(internal.hovered.values()).forEach((hoveredObj=>{if(!hits.length||!hits.find((hit=>hit.object===hoveredObj.object&&hit.index===hoveredObj.index&&hit.instanceId===hoveredObj.instanceId))){const instance=getInstanceInternal(hoveredObj.eventObject),handlers=instance?.handlers;if(internal.hovered.delete(makeId(hoveredObj)),instance?.eventCount){const data={...hoveredObj,intersections:hits||[]};handlers.pointerout?.(data),handlers.pointerleave?.(data)}}}))}function objectPointerMissed(event,objects){objects.forEach((object=>getInstanceInternal(object)?.handlers?.pointermissed?.(event)))}return{handlePointer:name=>{switch(name){case"pointerleave":case"pointercancel":return()=>cancelPointer([]);case"lostpointercapture":return event=>{const internal=state().internal;"pointerId"in event&&!internal.capturedMap.has(event.pointerId)&&(internal.capturedMap.delete(event.pointerId),cancelPointer([]))}}return event=>{const{pointerMissed,internal}=state();internal.lastEvent=event;const isPointerMove="pointermove"===name,isClickEvent="click"===name||"contextmenu"===name||"dblclick"===name,hits=function intersect(event,filter){const rootState=state(),duplicates=new Set,intersections=[],eventsObjects=filter?filter(rootState.internal.interaction):rootState.internal.interaction;eventsObjects.forEach((obj=>{const instanceRootState=getInstanceInternal(obj)?.root();instanceRootState&&(instanceRootState.raycaster.camera=void 0)})),rootState.previousState||rootState.events.compute?.(event,rootState);let hits=eventsObjects.flatMap((obj=>{const instanceRootState=getInstanceInternal(obj)?.root();return instanceRootState&&instanceRootState.events.enabled&&null!==instanceRootState.raycaster.camera?(void 0===instanceRootState.raycaster.camera&&(instanceRootState.events.compute?.(event,instanceRootState,instanceRootState.previousState),void 0===instanceRootState.raycaster.camera&&(instanceRootState.raycaster.camera=null)),instanceRootState.raycaster.camera?instanceRootState.raycaster.intersectObject(obj,!0):[]):[]})).sort(((a,b)=>{const aState=getInstanceInternal(a.object)?.root(),bState=getInstanceInternal(b.object)?.root();return aState&&bState?bState.events.priority-aState.events.priority||a.distance-b.distance:0})).filter((item=>{const id=makeId(item);return!duplicates.has(id)&&(duplicates.add(id),!0)}));rootState.events.filter&&(hits=rootState.events.filter(hits,rootState));for(const hit of hits){let eventObject=hit.object;for(;eventObject;)getInstanceInternal(eventObject)?.eventCount&&intersections.push({...hit,eventObject}),eventObject=eventObject.parent}if("pointerId"in event&&rootState.internal.capturedMap.has(event.pointerId))for(const captureData of rootState.internal.capturedMap.get(event.pointerId).values())intersections.push(captureData.intersection);return intersections}(event,isPointerMove?filterPointerEvents:void 0),delta=isClickEvent?function calculateDistance(event){const internal=state().internal,dx=event.offsetX-internal.initialClick[0],dy=event.offsetY-internal.initialClick[1];return Math.round(Math.sqrt(dx*dx+dy*dy))}(event):0;"pointerdown"===name&&(internal.initialClick=[event.offsetX,event.offsetY],internal.initialHits=hits.map((hit=>hit.eventObject))),isClickEvent&&!hits.length&&delta<=2&&(objectPointerMissed(event,internal.interaction),pointerMissed&&pointerMissed(event)),isPointerMove&&cancelPointer(hits),function handleIntersects(intersections,event,delta,callback){const{raycaster,pointer,camera,internal}=state();if(intersections.length){const unprojectedPoint=temp.set(pointer.x,pointer.y,0).unproject(camera),localState={stopped:!1};for(const hit of intersections){const hasPointerCapture=id=>internal.capturedMap.get(id)?.has(hit.eventObject)??!1,setPointerCapture=id=>{const captureData={intersection:hit,target:event.target};internal.capturedMap.has(id)?internal.capturedMap.get(id).set(hit.eventObject,captureData):internal.capturedMap.set(id,new Map([[hit.eventObject,captureData]])),event.target.setPointerCapture(id)},releasePointerCapture=id=>{const captures=internal.capturedMap.get(id);captures&&releaseInternalPointerCapture(internal.capturedMap,hit.eventObject,captures,id)},extractEventProps={};for(const prop in event){const property=event[prop];"function"!=typeof property&&(extractEventProps[prop]=property)}const raycastEvent={...hit,...extractEventProps,pointer,intersections,stopped:localState.stopped,delta,unprojectedPoint,ray:raycaster.ray,camera,stopPropagation:()=>{const capturesForPointer="pointerId"in event&&internal.capturedMap.get(event.pointerId);(!capturesForPointer||capturesForPointer.has(hit.eventObject))&&(raycastEvent.stopped=localState.stopped=!0,internal.hovered.size&&Array.from(internal.hovered.values()).find((i=>i.eventObject===hit.eventObject)))&&cancelPointer([...intersections.slice(0,intersections.indexOf(hit)),hit])},target:{hasPointerCapture,setPointerCapture,releasePointerCapture},currentTarget:{hasPointerCapture,setPointerCapture,releasePointerCapture},nativeEvent:event};if(callback(raycastEvent),!0===localState.stopped)break}}return intersections}(hits,event,delta,(data=>{const eventObject=data.eventObject,instance=getInstanceInternal(eventObject),handlers=instance?.handlers;if(instance?.eventCount)if(isPointerMove){if(handlers.pointerover||handlers.pointerenter||handlers.pointerout||handlers.pointerleave){const id=makeId(data),hoveredItem=internal.hovered.get(id);hoveredItem?hoveredItem.stopped&&data.stopPropagation():(internal.hovered.set(id,data),handlers.pointerover?.(data),handlers.pointerenter?.(data))}handlers.pointermove?.(data)}else{const handler=handlers[name];handler?isClickEvent&&!internal.initialHits.includes(eventObject)||(objectPointerMissed(event,internal.interaction.filter((object=>!internal.initialHits.includes(object)))),handler(data)):isClickEvent&&internal.initialHits.includes(eventObject)&&objectPointerMissed(event,internal.interaction.filter((object=>!internal.initialHits.includes(object))))}}))}}}}var _NgtStore_instances,_NgtStore_pointer,_NgtStore_position,_NgtStore_defaultTarget,_NgtStore_tempTarget,_NgtStore_allConstructed$,_NgtStore_performanceTimeoutId,_NgtStore_dimensions$,_NgtStore_initRenderer,_NgtStore_resize,_NgtStore_updateDimensions,_NgtStore_registerBeforeRenderEffect,_NgtStore_updateSubscribers,_NgtStore_initEvents,_NgtStore_connectElement,_NgtStore_disconnectElement;const DOM_EVENTS={click:!1,contextmenu:!1,dblclick:!1,wheel:!1,pointerdown:!0,pointerup:!0,pointerleave:!0,pointermove:!0,pointercancel:!0,lostpointercapture:!0},shallowLoose={objects:"shallow",strict:!1};let NgtStore=class NgtStore extends NgtComponentStore{constructor({nativeElement:{clientWidth,clientHeight}},performanceOptions,{devicePixelRatio},parentStore,resizeResult$,zone){super(),this.parentStore=parentStore,this.resizeResult$=resizeResult$,this.zone=zone,_NgtStore_instances.add(this),_NgtStore_pointer.set(this,new three_module.FM8),_NgtStore_position.set(this,new three_module.Pa4),_NgtStore_defaultTarget.set(this,new three_module.Pa4),_NgtStore_tempTarget.set(this,new three_module.Pa4),this.ready$=this.select((s=>s.ready)).pipe((0,filter.h)((ready=>ready))),_NgtStore_allConstructed$.set(this,this.select(this.select((s=>s.camera)),this.select((s=>s.scene)),this.select((s=>s.gl)),this.select((s=>s.raycaster)),this.select((s=>s.internal.active)),((camera,scene,gl,raycaster,active)=>({ready:!!(camera&&gl&&scene&&raycaster&&!0===active)})))),_NgtStore_performanceTimeoutId.set(this,void 0),_NgtStore_dimensions$.set(this,this.select(this.select((s=>s.size)),this.select((s=>s.viewport)))),this.startLoop=this.effect((0,tap.b)((({invalidate})=>{invalidate()}))),_NgtStore_initRenderer.set(this,this.effect(tapEffect((({canvasElement,rootStateMap,advance,invalidate})=>{const state=this.get(),scene=prepare(new three_module.xsS,(()=>this.get()),this.parentStore?.get((s=>s.sceneRef)));applyProps(scene,state.sceneOptions),this.get((s=>s.sceneRef)).set(scene);let gl=state.gl;state.gl||(gl=function createRenderer(glOptions,canvasElement){const customRenderer="function"==typeof glOptions?glOptions(canvasElement):glOptions;if(null!=customRenderer?.render)return customRenderer;return new three_module.CP7({powerPreference:"high-performance",canvas:canvasElement,antialias:!0,alpha:!0,...glOptions})}(state.glOptions,canvasElement)),this.set({gl});let raycaster=state.raycaster;state.raycaster||(raycaster=new three_module.iMs);const{params,...options}=state.raycasterOptions||{};is.equ(options,raycaster,shallowLoose)||applyProps(raycaster,{...options}),is.equ(params,raycaster.params,shallowLoose)||applyProps(raycaster,{params:{...raycaster.params,...params||{}}});let camera=state.camera;if(!state.camera){const isCamera=is.camera(state.cameraOptions);camera=isCamera?state.cameraOptions:function createDefaultCamera(state){return state.orthographic?new three_module.iKG(0,0,0,0,.1,1e3):new three_module.cPb(75,state.size.width/state.size.height,.1,1e3)}(state),isCamera||(state.cameraOptions&&applyProps(camera,state.cameraOptions),state.cameraOptions?.position||(camera.position.z=5),state.cameraOptions?.rotation||camera.lookAt(state.lookAt??make(three_module.Pa4)),camera.updateProjectionMatrix()),is.instance(camera)||(camera=prepare(camera,(()=>this.get()),this.parentStore?.get((s=>s.cameraRef)))),this.get((s=>s.cameraRef)).set(camera)}let xr=state.xr;if(!state.xr){const handleXRFrame=(timestamp,frame)=>{"never"!==this.get().frameloop&&advance(timestamp,!0,this.get.bind(this),frame)},handleSessionChange=()=>{const gl=this.get((s=>s.gl));gl.xr.enabled=gl.xr.isPresenting,gl.xr.setAnimationLoop(gl.xr.isPresenting?handleXRFrame:null),gl.xr.isPresenting||invalidate(this.get.bind(this))};xr={connect:()=>{const gl=this.get((s=>s.gl));gl.xr.addEventListener("sessionstart",handleSessionChange),gl.xr.addEventListener("sessionend",handleSessionChange)},disconnect:()=>{const gl=this.get((s=>s.gl));gl.xr.removeEventListener("sessionstart",handleSessionChange),gl.xr.removeEventListener("sessionend",handleSessionChange)}},gl.xr&&xr.connect(),this.set({xr})}if(gl.shadowMap){const isBoolean=is.boo(state.shadows);if(isBoolean&&gl.shadowMap.enabled!==state.shadows||!is.equ(state.shadows,gl.shadowMap,shallowLoose)){const old=gl.shadowMap.enabled;gl.shadowMap.enabled=!!state.shadows,isBoolean?gl.shadowMap.type=three_module.ntZ:Object.assign(gl.shadowMap,state.shadows),old!==gl.shadowMap.enabled&&checkNeedsUpdate(gl.shadowMap)}}is.supportColorManagement()&&(three_module.epp.legacyMode=state.legacy);const outputEncoding=state.linear?three_module.rnI:three_module.knz,toneMapping=state.flat?three_module.uL9:three_module.LY2;return gl.outputEncoding!==outputEncoding&&(gl.outputEncoding=outputEncoding),gl.toneMapping!==toneMapping&&(gl.toneMapping=toneMapping),gl.setClearAlpha(0),gl.setPixelRatio(makeDpr(state.viewport.dpr)),gl.setSize(state.size.width,state.size.height),!is.obj(state.glOptions)||is.fun(state.glOptions)||is.glRenderer(state.glOptions)||applyProps(gl,state.glOptions),this.set({gl,camera,scene,raycaster}),()=>{const{gl,xr,cameraRef,sceneRef,events}=this.get();gl&&(events.disconnect&&events.disconnect(),gl.renderLists.dispose(),gl.forceContextLoss(),gl.xr&&gl.xr.enabled&&(gl.xr.setAnimationLoop(null),xr.disconnect()),cameraRef.complete(),sceneRef.complete(),this.set((state=>({...state,internal:{...state.internal,active:!1}}))),rootStateMap.delete(canvasElement))}})))),_NgtStore_resize.set(this,this.effect((0,tap.b)((({width,height,dpr})=>{this.set((({viewport,camera})=>{const size={width,height};return{size,viewport:{...viewport,...viewport.getCurrentViewport(camera,(0,tslib_es6.Q_)(this,_NgtStore_defaultTarget,"f"),size),dpr:makeDpr(dpr)}}}))})))),_NgtStore_updateDimensions.set(this,this.effect((0,tap.b)((()=>{const{camera,gl,ready,cameraOptions,size,viewport}=this.get();ready&&(updateCamera(cameraOptions,camera,size),gl.setPixelRatio(viewport.dpr),gl.setSize(size.width,size.height))})))),_NgtStore_registerBeforeRenderEffect.set(this,this.effect(tapEffect((({uuid,...record})=>(uuid&&this.set((state=>({internal:{...state.internal,animations:new Map(state.internal.animations).set(uuid,record),priority:state.internal.priority+((record.priority||0)>0?1:0)}}))),({prev:{uuid:prevUuid}={},complete})=>{(prevUuid!==uuid||complete)&&this.unregisterBeforeRender(uuid)}))))),_NgtStore_updateSubscribers.set(this,this.effect((0,tap.b)((()=>{const internal=this.get((s=>s.internal));if(!internal.animations.size)return;const subscribers=Array.from(internal.animations.values());subscribers.sort(((a,b)=>(a.priority||0)-(b.priority||0))),this.set((state=>({internal:{...state.internal,subscribers}})))})))),this.set({ready:!1,clock:new three_module.SUY,frameloop:"always",legacy:!1,linear:!1,flat:!1,orthographic:!1,shadows:!1,controls:null,pointer:(0,tslib_es6.Q_)(this,_NgtStore_pointer,"f"),mouse:(0,tslib_es6.Q_)(this,_NgtStore_pointer,"f"),sceneRef:new Ref,cameraRef:new Ref,events:{priority:1,enabled:!0,connected:void 0,handlers:{},compute:(event,state)=>{state.pointer.set(event.offsetX/state.size.width*2-1,-event.offsetY/state.size.height*2+1),state.raycaster.setFromCamera(state.pointer,state.camera)}},cameraOptions:{},glOptions:{},raycasterOptions:{},sceneOptions:{},pointerMissed:()=>{},internal:{active:!1,lastEvent:null,priority:0,frames:0,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,animations:new Map},dpr:[1,2],size:{width:clientWidth,height:clientHeight},viewport:{initialDpr:devicePixelRatio||1,dpr:devicePixelRatio||1,width:clientWidth,height:clientHeight,aspect:clientWidth/clientHeight,distance:0,factor:0,getCurrentViewport:(camera=this.get((s=>s.camera)),target=(0,tslib_es6.Q_)(this,_NgtStore_defaultTarget,"f"),size=this.get((s=>s.size)))=>{const{width,height}=size,aspect=width/height;target instanceof three_module.Pa4?(0,tslib_es6.Q_)(this,_NgtStore_tempTarget,"f").copy(target):(0,tslib_es6.Q_)(this,_NgtStore_tempTarget,"f").set(...target);const distance=camera.getWorldPosition((0,tslib_es6.Q_)(this,_NgtStore_position,"f")).distanceTo((0,tslib_es6.Q_)(this,_NgtStore_tempTarget,"f"));if(is.orthographic(camera))return{width:width/camera.zoom,height:height/camera.zoom,factor:1,distance,aspect};const fov=camera.fov*Math.PI/180,h=2*Math.tan(fov/2)*distance,w=h*(width/height);return{width:w,height:h,factor:width/w,distance,aspect}}},performance:{...performanceOptions,regress:()=>{this.zone.runOutsideAngular((()=>{const performance=this.get((s=>s.performance));(0,tslib_es6.Q_)(this,_NgtStore_performanceTimeoutId,"f")&&clearTimeout((0,tslib_es6.Q_)(this,_NgtStore_performanceTimeoutId,"f")),performance.current!==performance.min&&this.set((state=>({performance:{...state.performance,current:performance.min}}))),(0,tslib_es6.YH)(this,_NgtStore_performanceTimeoutId,setTimeout((()=>this.set((state=>({performance:{...state.performance,current:this.get((s=>s.performance.max))}})))),performance.debounce),"f")}))}},previousState:parentStore?.get()})}init(canvasElement,rootStateMap,invalidate,advance){(0,tslib_es6.Q_)(this,_NgtStore_instances,"m",_NgtStore_initEvents).call(this,canvasElement),(0,tslib_es6.Q_)(this,_NgtStore_resize,"f").call(this,this.resizeResult$),(0,tslib_es6.Q_)(this,_NgtStore_updateDimensions,"f").call(this,(0,tslib_es6.Q_)(this,_NgtStore_dimensions$,"f")),(0,tslib_es6.Q_)(this,_NgtStore_initRenderer,"f").call(this,{canvasElement,rootStateMap,advance,invalidate}),(0,tslib_es6.Q_)(this,_NgtStore_updateSubscribers,"f").call(this,this.select(this.select((s=>s.internal.animations)),this.select((s=>s.internal.priority)))),this.set((state=>({invalidate:()=>invalidate(this.get.bind(this)),advance:(timestamp,runGlobalCallbacks)=>advance(timestamp,runGlobalCallbacks,this.get.bind(this)),internal:{...state.internal,active:!0}}))),this.set((0,tslib_es6.Q_)(this,_NgtStore_allConstructed$,"f"))}onReady(cb){return this.effect(tapEffect(cb))(this.ready$)}registerBeforeRender(record){const uuid=is.object3d(record.obj)?record.obj.uuid:is.ref(record.obj)?record.obj.value.uuid:makeId();return(0,tslib_es6.Q_)(this,_NgtStore_registerBeforeRenderEffect,"f").call(this,{...record,uuid}),()=>{this.unregisterBeforeRender(uuid)}}unregisterBeforeRender(uuid){if(!uuid)return;const currentAnimations=this.get((s=>s.internal.animations)),record=currentAnimations.get(uuid);currentAnimations.delete(uuid)&&record&&this.set((state=>({internal:{...state.internal,animations:currentAnimations,priority:state.internal.priority-((record.priority||0)>0?1:0)}})))}addInteraction(interaction){this.set((state=>({...state,internal:{...state.internal,interaction:[...state.internal.interaction,interaction]}})))}removeInteraction(uuid){this.set((state=>({...state,internal:{...state.internal,interaction:state.internal.interaction.filter((interaction=>interaction.uuid!==uuid))}})))}setFrameloop(frameloop="always"){const clock=this.get((s=>s.clock));clock.stop(),clock.elapsedTime=0,"never"!==frameloop&&(clock.start(),clock.elapsedTime=0),this.set({frameloop})}setDpr(dpr){const resolved=makeDpr(dpr);this.set((({viewport})=>({dpr:resolved,viewport:{...viewport,dpr:resolved,initialDpr:viewport.initialDpr||resolved}})))}ngOnDestroy(){(0,tslib_es6.Q_)(this,_NgtStore_instances,"m",_NgtStore_disconnectElement).call(this),super.ngOnDestroy()}};function coerceBooleanProperty(value){return null!=value&&"false"!=`${value}`}function coerceNumberProperty(value,fallbackValue=0){return function isNumberValue(value){return!isNaN(parseFloat(value))&&!isNaN(Number(value))}(value)?Number(value):coerceNumberProperty(fallbackValue)}function mutate(object,path,value){const{decomposedPath,base}=function decomposePath(path){if(path.length<1)return{base:"",decomposedPath:[]};const decomposedPath=path;return{base:path[0],decomposedPath}}(path);void 0!==base&&(!function assignEmpty(obj,base){!Object.prototype.hasOwnProperty.call(obj,base)&&Reflect&&Reflect.has&&!Reflect.has(obj,base)&&(obj[base]={})}(object,base),decomposedPath.length<=1?applyProps(object,{[base]:value}):mutate(object[base],decomposedPath.slice(1),value))}_NgtStore_pointer=new WeakMap,_NgtStore_position=new WeakMap,_NgtStore_defaultTarget=new WeakMap,_NgtStore_tempTarget=new WeakMap,_NgtStore_allConstructed$=new WeakMap,_NgtStore_performanceTimeoutId=new WeakMap,_NgtStore_dimensions$=new WeakMap,_NgtStore_initRenderer=new WeakMap,_NgtStore_resize=new WeakMap,_NgtStore_updateDimensions=new WeakMap,_NgtStore_registerBeforeRenderEffect=new WeakMap,_NgtStore_updateSubscribers=new WeakMap,_NgtStore_instances=new WeakSet,_NgtStore_initEvents=function _NgtStore_initEvents(canvasElement){const{handlePointer}=createEvents((()=>this.get()));this.set((state=>({events:{...state.events,handlers:Object.keys(DOM_EVENTS).reduce(((handlers,supportedEventName)=>(handlers[supportedEventName]=handlePointer(supportedEventName),handlers)),{})}}))),(0,tslib_es6.Q_)(this,_NgtStore_instances,"m",_NgtStore_connectElement).call(this,canvasElement)},_NgtStore_connectElement=function _NgtStore_connectElement(canvasElement){this.set((state=>({events:{...state.events,connected:canvasElement}})));const handlers=this.get((s=>s.events.handlers));Object.entries(handlers??{}).forEach((([eventName,handler])=>{const passive=DOM_EVENTS[eventName];canvasElement.addEventListener(eventName,handler,{passive})}))},_NgtStore_disconnectElement=function _NgtStore_disconnectElement(){const{handlers,connected}=this.get((s=>s.events));connected&&Object.entries(handlers??{}).forEach((([eventName,handler])=>{connected instanceof HTMLElement&&connected.removeEventListener(eventName,handler)}))},NgtStore.ctorParameters=()=>[{type:core.ElementRef},{type:void 0,decorators:[{type:core.Inject,args:[NGT_PERFORMANCE_OPTIONS]}]},{type:Window,decorators:[{type:core.Inject,args:[NGT_WINDOW]}]},{type:NgtStore,decorators:[{type:core.Optional},{type:core.SkipSelf}]},{type:Observable.y,decorators:[{type:core.Inject,args:[NgtResize]}]},{type:core.NgZone}],NgtStore=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[core.ElementRef,Object,Window,NgtStore,Observable.y,core.NgZone])],NgtStore);let NgtInstance=class NgtInstance extends NgtComponentStore{constructor(skipSelfStore=!1){super(),this.skipSelfStore=skipSelfStore,this.ready=new core.EventEmitter,this.hasEmittedAlready=!1,this.update=new core.EventEmitter,this.instance$=this.select((s=>s.instance)).pipe((0,switchMap.w)((instance=>instance.pipe((0,filter.h)((instance=>null!=instance)))))),this.instanceArgs$=this.select((s=>s.instanceArgs)),this.zone=(0,core.inject)(core.NgZone),this.store=this.skipSelfStore?(0,core.inject)(NgtStore,{skipSelf:!0}):(0,core.inject)(NgtStore),this.document=(0,core.inject)(common.K0),this.parentRef=injectInstanceRef({skipSelf:!0,optional:!0}),this.parentHostRef=injectInstanceHostRef({skipSelf:!0,optional:!0}),this.isPrimitive=!1,this.isWrapper=!1,this.isRaw=!1,this.instanceReady=this.effect(tapEffect((()=>{const setOptionsSub=this.setOptions(this.select(function optionsFieldsToOptions(instance,fields,keepPrevious=!1){const optionEntries=Object.entries(fields);return 0===optionEntries.length?(0,of.of)({}):instance.select(...optionEntries.map((([inputKey,shouldStartWithUndefined])=>{const subInput$=instance.select((s=>s[inputKey]));return shouldStartWithUndefined?subInput$.pipe(startWithUndefined()):subInput$})),((...args)=>args.reduce(((record,arg,index)=>(record[optionEntries[index][0]]=arg,record)),{}))).pipe((0,startWith.O)({}),(0,pairwise.G)(),(0,map.U)((([prev,curr])=>Object.entries(curr).reduce(((options,[currKey,currValue])=>((!is.equ(prev[currKey],currValue)||keepPrevious&&is.equ(prev[currKey],currValue))&&(options[currKey]=currValue),options)),{}))))}(this,this.optionFields,is.material(this.instanceValue)),this.setOptionsTrigger$,(options=>options)));return this.get((s=>s.noAttach))||this.attachToParent(),()=>{setOptionsSub.unsubscribe()}}))),this.setOptions=this.effect((0,tap.b)((options=>{if(0!==Object.keys(options).length&&this.instanceValue){const state=this.get(),customOptions={},{rotation,quaternion,...restOptions}=options;rotation?customOptions.rotation=state.rotation:quaternion&&(customOptions.quaternion=state.quaternion);for(const option of Object.keys(restOptions)){(is.material(this.instanceValue)?void 0!==state[option]:null!=state[option])&&(customOptions[option]=state[option])}is.material(this.instanceValue)?(customOptions.uniforms={},"uniforms"in this.instanceValue&&"uniforms"in restOptions&&(customOptions.uniforms={...this.instanceValue.uniforms,...restOptions.uniforms}),this.instanceValue.setValues(customOptions)):applyProps(this.instanceValue,customOptions),this.postSetOptions(this.instanceValue),checkUpdate(this.instanceValue),this.update.observed&&this.update.emit(this.instanceValue)}}))),this.attachToParent=this.effect((0,pipe.z)((0,withLatestFrom.M)(this.select((s=>s.attach))),(0,tap.b)((([,attach])=>{let parentInstanceRef=this.__ngt__.parent;if(!parentInstanceRef||!parentInstanceRef.value){if(!this.parent?.value)return;this.__ngt__.parent=this.parent,parentInstanceRef=this.parent}if("function"==typeof attach){const attachCleanUp=attach(parentInstanceRef,this.instance);attachCleanUp&&(this.__ngt__.previousAttach=attachCleanUp)}else{const propertyToAttach=[...attach];if(0===propertyToAttach.length)return;if("material"===propertyToAttach[0]&&propertyToAttach[1]&&is.num(Number(propertyToAttach[1]))&&is.material(this.instanceValue)&&(is.arr(parentInstanceRef.value.material)||(parentInstanceRef.value.material=[])),("material"===propertyToAttach[0]||"geometry"===propertyToAttach[0])&&!is.mesh(parentInstanceRef.value))return;this.__ngt__.previousAttachValue=propertyToAttach.reduce(((value,property)=>value[property]),parentInstanceRef.value),mutate(parentInstanceRef.value,propertyToAttach,this.instanceValue),this.__ngt__&&this.__ngt__.root().invalidate(),parentInstanceRef.value.__ngt__&&parentInstanceRef.value.__ngt__.root().invalidate(),this.__ngt__.previousAttach=propertyToAttach,this.set({attach:propertyToAttach})}checkUpdate(parentInstanceRef.value),checkUpdate(this.instanceValue)})))),this.set({instance:new Ref(null),instanceArgs:[],attach:[],noAttach:!1,skipParent:!1})}set ref(ref){this.set({instance:ref})}set skipParent(skipParent){this.set({attachExplicit:!0,skipParent:coerceBooleanProperty(skipParent)})}get skipParent(){return this.get((s=>s.skipParent))}set noAttach(noAttach){this.set({noAttachExplicit:!0,noAttach:coerceBooleanProperty(noAttach)})}get noAttach(){return this.get((s=>s.noAttach))}set attach(value){value&&this.set({skipParentExplicit:!0,attach:"function"==typeof value||is.arr(value)?value:[value]})}get attach(){return this.get((s=>s.attach))}get instance(){return this.get((s=>s.instance))}get instanceValue(){return this.isRaw?this.instance.value.valueOf():this.instance.value}get __ngt__(){return this.instance.value.__ngt__}get parent(){return this.skipParent&&this.parentHostRef?.()||this.parentRef?.()}set instanceArgs(v){this.set({instanceArgs:is.arr(v)?v:[v]})}get instanceArgs(){return this.get((s=>s.instanceArgs))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.preInit(),this.store.onReady((()=>{this.instanceReady(this.instance$)}))}))}preInit(){}postInit(){}emitReady(){this.hasEmittedAlready||(this.ready.emit(this.instanceValue),this.hasEmittedAlready=!0)}prepareInstance(instance,uuid){uuid&&"uuid"in instance&&(instance.uuid=uuid);const prepInstance=prepare(instance,(()=>this.store.get()),this.parent,this.instance,this.isPrimitive);if(this.postPrepare(prepInstance),this.instance.set(prepInstance),this.emitReady(),!is.object3d(prepInstance)&&!this.noAttach&&!this.skipParent){const parentObjects=prepInstance.__ngt__.parent?.value?.__ngt__?.objects;parentObjects&&parentObjects.set([...parentObjects.value,this.instance])}return prepInstance}adjustCtorParams(instanceArgs){return instanceArgs}get ctorParams$(){return this.instanceArgs$.pipe((0,map.U)((()=>({}))))}destroy(){if(this.instanceValue){if(is.object3d(this.instanceValue)){const parentInstance=this.parent;parentInstance&&is.object3d(parentInstance.value)&&function removeInteractivity(state,object){const internal=state().internal;internal.interaction=internal.interaction.filter((o=>o!==object)),internal.initialHits=internal.initialHits.filter((o=>o!==object)),internal.hovered.forEach(((value,key)=>{value.eventObject!==object&&value.object!==object||internal.hovered.delete(key)})),internal.capturedMap.forEach(((captures,pointerId)=>{releaseInternalPointerCapture(internal.capturedMap,object,captures,pointerId)}))}(this.__ngt__.root.bind(this.__ngt__),this.instanceValue),null!=this.instanceValue.clear&&this.instanceValue.clear()}else{const previousAttach=this.__ngt__.previousAttach;if(null!=previousAttach)if("function"==typeof previousAttach)previousAttach(),this.__ngt__.parent&&this.__ngt__.parent.value&&checkNeedsUpdate(this.__ngt__.parent.value);else{const previousAttachValue=this.__ngt__.previousAttachValue;this.__ngt__.parent&&this.__ngt__.parent.value&&(mutate(this.__ngt__.parent.value,previousAttach,previousAttachValue),checkNeedsUpdate(this.__ngt__.parent.value))}}const dispose=this.instanceValue.dispose;dispose&&"function"==typeof dispose&&dispose.apply(this.instanceValue)}this.set({attach:[]}),this.instance.complete()}postPrepare(_){}get optionFields(){return{}}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.destroy()})),super.ngOnDestroy()}postSetOptions(_){}get setOptionsTrigger$(){return(0,of.of)({})}};NgtInstance.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:["NGT_SKIP_SELF_STORE"]}]}],NgtInstance.propDecorators={ref:[{type:core.Input}],skipParent:[{type:core.Input}],ready:[{type:core.Output}],update:[{type:core.Output}],noAttach:[{type:core.Input}],attach:[{type:core.Input}]},NgtInstance=(0,tslib_es6.gn)([(0,core.Directive)(),(0,tslib_es6.w6)("design:paramtypes",[Object])],NgtInstance);const provideNgtInstance=createNgtProvider(NgtInstance),[injectObjectRef,provideObjectRef,NGT_OBJECT_REF]=createRefInjection("NgtObject ref",provideInstanceRef),[injectObjectHostRef,provideObjectHostRef,NGT_OBJECT_HOST_REF]=createRefInjection("NgtObject host ref",!0,provideInstanceHostRef),[injectCameraRef,provideCameraRef,NGT_CAMERA_REF]=createRefInjection("NgtCamera ref"),[injectSceneRef,provideSceneRef,NGT_SCENE_REF]=createRefInjection("NgtScene ref"),supportedEvents=["click","contextmenu","dblclick","pointerup","pointerdown","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointermissed","pointercancel","wheel"];let NgtObjectProps=class NgtObjectProps extends NgtInstance{constructor(){super(),this.click=new core.EventEmitter,this.contextmenu=new core.EventEmitter,this.dblclick=new core.EventEmitter,this.pointerup=new core.EventEmitter,this.pointerdown=new core.EventEmitter,this.pointerover=new core.EventEmitter,this.pointerout=new core.EventEmitter,this.pointerenter=new core.EventEmitter,this.pointerleave=new core.EventEmitter,this.pointermove=new core.EventEmitter,this.pointermissed=new core.EventEmitter,this.pointercancel=new core.EventEmitter,this.wheel=new core.EventEmitter,this.shouldPassThroughRef=!0,this.parentRef=injectObjectRef({optional:!0,skipSelf:!0}),this.parentHostRef=injectObjectHostRef({optional:!0,skipSelf:!0}),this.set({name:"",position:new three_module.Pa4,rotation:new three_module.USm,quaternion:new three_module._fP,scale:new three_module.Pa4(1,1,1),color:new three_module.Ilk,castShadow:!1,receiveShadow:!1,priority:0,visible:!0,matrixAutoUpdate:!0,appendMode:"immediate",userData:{}})}set name(name){this.set({nameExplicit:!0,name})}get name(){return this.get((s=>s.name))}set position(position){this.set({positionExplicit:!0,position:make(three_module.Pa4,position)})}get position(){return this.get((s=>s.position))}get rotation(){return this.get((s=>s.rotation))}set rotation(rotation){this.set({rotationExplicit:!0,rotation:make(three_module.USm,rotation)})}get quaternion(){return this.get((s=>s.quaternion))}set quaternion(quaternion){this.set({quaternionExplicit:!0,quaternion:make(three_module._fP,quaternion)})}get scale(){return this.get((s=>s.scale))}set scale(scale){this.set({scaleExplicit:!0,scale:make(three_module.Pa4,scale)})}get color(){return this.get((s=>s.color))}set color(color){this.set({colorExplicit:!0,color:make(three_module.Ilk,color)})}get castShadow(){return this.get((s=>s.castShadow))}set castShadow(value){this.set({castShadowExplicit:!0,castShadow:coerceBooleanProperty(value)})}get receiveShadow(){return this.get((s=>s.receiveShadow))}set receiveShadow(value){this.set({receiveShadowExplicit:!0,receiveShadow:coerceBooleanProperty(value)})}get priority(){return this.get((s=>s.priority))}set priority(priority){this.set({priorityExplicit:!0,priority:coerceNumberProperty(priority)})}get visible(){return this.get((s=>s.visible))}set visible(visible){this.set({visibleExplicit:!0,visible:coerceBooleanProperty(visible)})}get matrixAutoUpdate(){return this.get((s=>s.matrixAutoUpdate))}set matrixAutoUpdate(matrixAutoUpdate){this.set({matrixAutoUpdateExplicit:!0,matrixAutoUpdate:coerceBooleanProperty(matrixAutoUpdate)})}get userData(){return this.get((s=>s.userData))}set userData(userData){this.set({userDataExplicit:!0,userData})}get dispose(){return this.get((s=>s.dispose))}set dispose(dispose){this.set({disposeExplicit:!0,dispose})}get raycast(){return this.get((s=>s.raycast))}set raycast(raycast){this.set({raycastExplicit:!0,raycast})}get appendMode(){return this.get((s=>s.appendMode))}set appendMode(appendMode){this.set({appendModeExplicit:!0,appendMode})}get appendTo(){return this.get((s=>s.appendTo))}set appendTo(appendTo){this.set({appendToExplicit:!0,appendTo:appendTo?is.ref(appendTo)?appendTo:new Ref(appendTo):void 0})}get optionFields(){return{name:!1,position:!1,rotation:!1,quaternion:!1,scale:!1,color:!1,castShadow:!1,receiveShadow:!1,visible:!1,matrixAutoUpdate:!1,userData:!1,dispose:!0,raycast:!0}}};NgtObjectProps.ctorParameters=()=>[],NgtObjectProps.propDecorators={name:[{type:core.Input}],position:[{type:core.Input}],rotation:[{type:core.Input}],quaternion:[{type:core.Input}],scale:[{type:core.Input}],color:[{type:core.Input}],castShadow:[{type:core.Input}],receiveShadow:[{type:core.Input}],priority:[{type:core.Input}],visible:[{type:core.Input}],matrixAutoUpdate:[{type:core.Input}],userData:[{type:core.Input}],dispose:[{type:core.Input}],raycast:[{type:core.Input}],appendMode:[{type:core.Input}],appendTo:[{type:core.Input}],click:[{type:core.Output}],contextmenu:[{type:core.Output}],dblclick:[{type:core.Output}],pointerup:[{type:core.Output}],pointerdown:[{type:core.Output}],pointerover:[{type:core.Output}],pointerout:[{type:core.Output}],pointerenter:[{type:core.Output}],pointerleave:[{type:core.Output}],pointermove:[{type:core.Output}],pointermissed:[{type:core.Output}],pointercancel:[{type:core.Output}],wheel:[{type:core.Output}]},NgtObjectProps=(0,tslib_es6.gn)([(0,core.Directive)(),(0,tslib_es6.w6)("design:paramtypes",[])],NgtObjectProps);let NgtObject=class NgtObject extends NgtObjectProps{constructor(){super(...arguments),this.appended=new core.EventEmitter,this.beforeRender=new core.EventEmitter,this.animateReady=this.beforeRender,this.init=this.effect(tapEffect((()=>{if(this.instance.value&&this.__ngt__?this.switch():this.prepareInstance(this.objectInitFn(),this.instance?.value?.uuid),this.instance.value){this.postInit&&this.postInit();const observedEvents=supportedEvents.reduce(((result,event)=>{const controllerEvent=this[event].observed?this[event]:null;return controllerEvent&&(result.handlers[event]=this.eventNameToHandler(controllerEvent),result.eventCount+=1),result}),{handlers:{},eventCount:0});applyProps(this.__ngt__,{handlers:observedEvents.handlers,eventCount:observedEvents.eventCount}),observedEvents.eventCount>0&&this.store.addInteraction(this.instance.value),is.object3d(this.instance.value)&&this.appendToParent(),this.beforeRender.observed&&this.store.registerBeforeRender({obj:this.instance,callback:state=>{this.beforeRender.emit({state,object:this.instance.value})},priority:this.get((s=>s.priority))})}return()=>{this.destroy()}})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.preObjectInit?this.preObjectInit((()=>this.init(this.instanceArgs$))):this.init(this.instanceArgs$)}))}))}get preObjectInit(){}destroy(){this.instance.value&&(this.store.unregisterBeforeRender(this.instance.value.uuid),this.__ngt__.eventCount>0&&this.store.removeInteraction(this.instance.value.uuid),this.remove()),super.destroy()}appendToParent(){const callback=()=>{const appendToRef=this.get((s=>s.appendTo));if(appendToRef&&appendToRef.value)return appendToRef.value.add(this.instance.value),void this.appended.emit(this.instance.value);const appendMode=this.get((s=>s.appendMode));return"none"!==appendMode?"root"===appendMode?(this.addToScene(),void this.appended.emit(this.instance.value)):void("immediate"===appendMode&&(this.addToParent(),this.appended.emit(this.instance.value))):void 0},gl=this.store.get((s=>s.gl));gl.xr.enabled?gl.xr.getSession()?.requestAnimationFrame(callback):requestAnimationFrame(callback)}addToScene(){const scene=this.store.get((s=>s.scene));scene&&scene.add(this.instance.value)}addToParent(){let parent=this.parent;this.shouldUseParent(parent)?parent.value.add(this.instance.value):(parent=this.parentHostRef?.(),this.shouldUseParent(parent)?parent.value.add(this.instance.value):this.addToScene())}shouldUseParent(parent){return parent&&parent.value&&parent.value.uuid!==this.instance.value.uuid}remove(){const{appendMode,appendTo}=this.get();if(appendTo&&appendTo.value)appendTo.value.remove(this.instance.value);else if(this.shouldUseParent(this.parent)&&"immediate"===appendMode)this.parent.value.remove(this.instance.value);else{const scene=this.store.get((s=>s.scene));scene&&scene.remove(this.instance.value)}}switch(){const newObject3d=this.objectInitFn();this.instance.value.children&&(this.instance.value.traverse((object=>{object!==this.instance.value&&object.parent===this.instance.value&&(object.parent=newObject3d)})),this.instance.value.children=[]),this.__ngt__.eventCount>0&&this.store.removeInteraction(this.instance.value.uuid),this.remove(),this.prepareInstance(newObject3d)}eventNameToHandler(controllerEvent){return event=>{this.zone.run((()=>{controllerEvent.emit(event)}))}}};NgtObject.propDecorators={appended:[{type:core.Output}],beforeRender:[{type:core.Output}],animateReady:[{type:core.Output}]},NgtObject=(0,tslib_es6.gn)([(0,core.Directive)()],NgtObject);const provideNgtObject=createNgtProvider(NgtObject,provideNgtInstance);let NgtMaterialGeometry=class NgtMaterialGeometry extends NgtObject{set material(material){this.set({material})}set geometry(geometry){this.set({geometry})}set morphTargetInfluences(morphTargetInfluences){this.set({morphTargetInfluences})}set morphTargetDictionary(morphTargetDictionary){this.set({morphTargetDictionary})}objectInitFn(){const state=this.get(),objectArgs=this.argsKeys.reduce(((args,argKey)=>(args.push(state[argKey]),args)),[]),object=new this.objectType(is.ref(state.geometry)?state.geometry.value:state.geometry,is.arr(state.material)?state.material.map((m=>is.ref(m)?m.value:m)):is.ref(state.material)?state.material.value:state.material,...objectArgs);return state.morphTargetDictionary&&"morphTargetDictionary"in object&&(object.morphTargetDictionary=state.morphTargetDictionary),state.morphTargetInfluences&&"morphTargetInfluences"in object&&(object.morphTargetInfluences=state.morphTargetInfluences),object}get argsKeys(){return[]}get optionFields(){return{...super.optionFields,material:!0,geometry:!0,morphTargetInfluences:!0,morphTargetDictionary:!0}}};NgtMaterialGeometry.propDecorators={material:[{type:core.Input}],geometry:[{type:core.Input}],morphTargetInfluences:[{type:core.Input}],morphTargetDictionary:[{type:core.Input}]},NgtMaterialGeometry=(0,tslib_es6.gn)([(0,core.Directive)()],NgtMaterialGeometry);var from=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/from.js"),retry=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/retry.js"),catchError=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),forkJoin=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js");let NgtLoader=class NgtLoader{constructor(){this.cached=new Map}use(loaderConstructor,input,extensions,onProgress){const keys=is.arr(input)?input:[input],loader=new loaderConstructor;extensions&&extensions(loader);const observables$=keys.map((key=>(this.cached.has(key)||this.cached.set(key,(0,from.D)(loader.loadAsync(key,onProgress)).pipe((0,tap.b)((data=>{data.scene&&Object.assign(data,function buildGraph(object){const data={nodes:{},materials:{}};return object&&object.traverse((obj=>{obj.name&&(data.nodes[obj.name]=obj),obj.material&&!data.materials[obj.material.name]&&(data.materials[obj.material.name]=obj.material)})),data}(data.scene))})),(0,retry.X)({count:2}),(0,catchError.K)((err=>(console.error(`Error loading ${key}: ${err.message}`),(0,of.of)(null)))),(0,share.B)({connector:()=>new ReplaySubject.t,resetOnComplete:!0,resetOnRefCountZero:!0,resetOnError:!0}))),this.cached.get(key))));return(0,forkJoin.D)(observables$).pipe((0,map.U)((results=>is.arr(input)?results:results[0])))}destroy(){this.cached.clear()}ngOnDestroy(){this.destroy()}};NgtLoader=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],NgtLoader);const globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function createSub(callback,subs){const sub={callback};return subs.add(sub),()=>{subs.delete(sub)}}function run(effects,timestamp){effects.forEach((({callback})=>callback(timestamp)))}function addCallback(callback){return createSub(callback,globalEffects)}function addAfterCallback(callback){return createSub(callback,globalAfterEffects)}function render(timestamp,state,frame){const rootState=state();let delta=rootState.clock.getDelta();"never"===rootState.frameloop&&"number"==typeof timestamp&&(delta=timestamp-rootState.clock.elapsedTime,rootState.clock.oldTime=rootState.clock.elapsedTime,rootState.clock.elapsedTime=timestamp);for(const subscriber of rootState.internal.subscribers){const object=is.ref(subscriber.obj)?subscriber.obj.value:subscriber.obj;subscriber.callback({...rootState,delta,frame},object)}return!rootState.internal.priority&&rootState.gl.render&&rootState.gl.render(rootState.scene,rootState.camera),rootState.internal.frames=Math.max(0,rootState.internal.frames-1),"always"===rootState.frameloop?1:rootState.internal.frames}var NgtCanvas_1;const rootStateMap=new Map,{invalidate,advance}=function createLoop(rootStateMap){let repeat,frame,state,running=!1;function loop(timestamp){if(frame=requestAnimationFrame(loop),running=!0,repeat=0,globalEffects.size&&run(globalEffects,timestamp),rootStateMap.forEach((rootState=>{state=rootState(),state.internal.active&&("always"===state.frameloop||state.internal.frames>0)&&!state.gl.xr?.isPresenting&&(repeat+=render(timestamp,rootState))})),globalAfterEffects.size&&run(globalAfterEffects,timestamp),0===repeat)return globalTailEffects.size&&run(globalTailEffects,timestamp),running=!1,cancelAnimationFrame(frame)}return{loop,invalidate:function invalidate(state,frames=1){const stateToInvalidate=state?.();if(!stateToInvalidate)return rootStateMap.forEach((rootState=>invalidate(rootState,frames)));!stateToInvalidate.gl.xr?.isPresenting&&stateToInvalidate.internal.active&&"never"!==stateToInvalidate.frameloop&&(stateToInvalidate.internal.frames=Math.min(60,stateToInvalidate.internal.frames+frames),running||(running=!0,requestAnimationFrame(loop)))},advance:function advance(timestamp,runGlobalEffects=!0,state,frame){runGlobalEffects&&run(globalEffects,timestamp),state?render(timestamp,state,frame):rootStateMap.forEach((rootState=>render(timestamp,rootState))),runGlobalEffects&&run(globalAfterEffects,timestamp)}}}(rootStateMap);let NgtCanvas=NgtCanvas_1=class NgtCanvas extends NgtComponentStore{constructor(){super(...arguments),this.hostClass=!0,this._initialLog=!1,this._projectContent=!1,this.created=new core.EventEmitter,this.pointermissed=new core.EventEmitter,this.zone=(0,core.inject)(core.NgZone),this.store=(0,core.inject)(NgtStore),this.loader=(0,core.inject)(NgtLoader)}set linear(linear){this.store.set({linear:coerceBooleanProperty(linear)})}set legacy(legacy){this.store.set({legacy:coerceBooleanProperty(legacy)})}set flat(flat){this.store.set({flat:coerceBooleanProperty(flat)})}set frameloop(frameloop){this.store.setFrameloop(frameloop)}set orthographic(orthographic){this.store.set({orthographic:coerceBooleanProperty(orthographic)})}set dpr(dpr){this.store.setDpr(dpr)}set raycaster(raycaster){this.store.set({raycasterOptions:raycaster})}set shadows(shadows){this.store.set({shadows:"object"==typeof shadows?shadows:coerceBooleanProperty(shadows)})}set camera(cameraOptions){this.store.set({cameraOptions})}get cameraRef(){return this.store.get((s=>s.cameraRef))}set lookAt(lookAt){this.store.set({lookAt:make(three_module.Pa4,lookAt)})}set scene(sceneOptions){this.store.set({sceneOptions})}get sceneRef(){return this.store.get((s=>s.sceneRef))}set gl(glOptions){this.store.set({glOptions})}get initialLog(){return this._initialLog}set initialLog(value){this._initialLog=coerceBooleanProperty(value)}get projectContent(){return this._projectContent}set projectContent(value){this._projectContent=coerceBooleanProperty(value)}ngOnInit(){this.zone.runOutsideAngular((()=>{this.pointermissed.observed&&this.store.set({pointerMissed:event=>{this.pointermissed.emit(event)}}),rootStateMap.set(this.rendererCanvas.nativeElement,(()=>this.store.get())),this.store.init(this.rendererCanvas.nativeElement,rootStateMap,invalidate,advance),this.store.onReady((()=>{const canvasState=this.store.get();this.created.emit(canvasState),this.initialLog&&(console.group("[NgtCanvas] Initialized"),console.log(canvasState),console.groupEnd()),this.store.startLoop(this.store.select())}))}))}ngOnDestroy(){super.ngOnDestroy(),this.loader.destroy()}};NgtCanvas.propDecorators={hostClass:[{type:core.HostBinding,args:["class.ngt-canvas"]}],linear:[{type:core.Input}],legacy:[{type:core.Input}],flat:[{type:core.Input}],frameloop:[{type:core.Input}],orthographic:[{type:core.Input}],dpr:[{type:core.Input}],raycaster:[{type:core.Input}],shadows:[{type:core.Input}],camera:[{type:core.Input}],lookAt:[{type:core.Input}],scene:[{type:core.Input}],gl:[{type:core.Input}],initialLog:[{type:core.Input}],projectContent:[{type:core.Input}],created:[{type:core.Output}],pointermissed:[{type:core.Output}],rendererCanvas:[{type:core.ViewChild,args:["rendererCanvas",{static:!0}]}]},NgtCanvas=NgtCanvas_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-canvas",standalone:!0,template:'\n    <canvas #rendererCanvas></canvas>\n    <ng-container *ngIf="projectContent" [ngTemplateOutlet]="contentTemplate"></ng-container>\n    <ng-template #contentTemplate>\n      <ng-content></ng-content>\n    </ng-template>\n  ',imports:[common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[NgtStore,NgtResize,provideObjectRef(NgtCanvas_1,(canvas=>canvas.sceneRef)),provideSceneRef(NgtCanvas_1,(canvas=>canvas.sceneRef)),provideCameraRef(NgtCanvas_1,(canvas=>canvas.cameraRef))],styles:["\n      :host {\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n\n      :host canvas {\n        display: block;\n      }\n    "]})],NgtCanvas);let NgtCanvasModule=class NgtCanvasModule{};NgtCanvasModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCanvas],exports:[NgtCanvas]})],NgtCanvasModule);const[injectCommonAttributeRef,provideCommonAttributeRef,NGT_COMMON_ATTRIBUTE_REF]=createRefInjection("NgtCommonAttribute ref",provideInstanceRef),[injectCommonAudioRef,provideCommonAudioRef,NGT_COMMON_AUDIO_REF]=createRefInjection("NgtCommonAudio ref",provideObjectRef),[injectCommonCameraRef,provideCommonCameraRef,NGT_COMMON_CAMERA_REF]=createRefInjection("NgtCommonCamera ref",provideObjectRef),[injectCommonCurveRef,provideCommonCurveRef,NGT_COMMON_CURVE_REF]=createRefInjection("NgtCommonCurve ref",provideInstanceRef),[injetCommonGeometryRef,provideCommonGeometryRef,NGT_COMMON_GEOMETRY_REF]=createRefInjection("NgtCommonGeometry ref",provideInstanceRef),[injectCommonHelperRef,provideCommonHelperRef,NGT_COMMON_HELPER_REF]=createRefInjection("NgtCommonHelper ref",provideObjectRef),[injectCommonObjectHelperRef,provideCommonObjectHelperRef,NGT_COMMON_OBJECT_HELPER_REF]=createRefInjection("NgtCommonObjectHelper ref",provideInstanceRef),[injectIsWebGLAvailable,,NGT_IS_WEBGL_AVAILABLE]=createInjection("isWebGLAvailable",{defaultValueOrFactory:()=>{const document=(0,core.inject)(common.K0),window=injectWindow();try{const canvas=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!canvas.getContext("webgl2"))}catch(e){return!1}}}),[injectCommonLightRef,provideCommonLightRef,NGT_COMMON_LIGHT_REF]=createRefInjection("NgtCommonLight ref",provideObjectRef),[injectCommonLineRef,provideCommonLineRef,NGT_COMMON_LINE_REF]=createRefInjection("NgtCommonLine ref",provideObjectRef),[injectCommonMaterialRef,provideCommonMaterialRef,NGT_COMMON_MATERIAL_REF]=createRefInjection("NgtCommonMaterial ref",provideInstanceRef),[injectCommonMeshRef,provideCommonMeshRef,NGT_COMMON_MESH_REF]=createRefInjection("NgtCommonMesh ref",provideObjectRef),[injectSkinnedMeshHostRef,provideSkinnedMeshHostRef,NGT_HOST_SKINNED_MESH_REF]=createRefInjection("NgtSkinnedMesh host ref",!0),[injectSkeletonHostRef,provideSkeletonHostRef,NGT_HOST_SKELETON_REF]=createRefInjection("NgtSkeleton host ref",!0),[injectBoneHostRef,provideBoneHostRef,NGT_HOST_BONE_REF]=createRefInjection("NgtBone host ref",!0),[injectCommonSpriteRef,provideCommonSpriteRef,NGT_COMMON_SPRITE_REF]=createRefInjection("NgtCommonSprite ref",provideObjectRef),[injectCommonTextureRef,provideCommonTextureRef,NGT_COMMON_TEXTURE_REF]=createRefInjection("NgtCommonTexture ref",provideInstanceRef);var merge=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/merge.js");let NgtCursor=class NgtCursor{constructor(object,document){object&&(0,merge.T)(object.pointerover.pipe((0,map.U)((()=>!0))),object.pointerout.pipe((0,map.U)((()=>!1)))).pipe((0,takeUntil.R)(object.destroy$)).subscribe((hovered=>{document.body.style.cursor=hovered?"pointer":"auto"}))}};NgtCursor.ctorParameters=()=>[{type:NgtObject,decorators:[{type:core.Optional},{type:core.Self}]},{type:Document,decorators:[{type:core.Inject,args:[common.K0]}]}],NgtCursor=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtCursor]",standalone:!0,exportAs:"ngtCursor"}),(0,tslib_es6.w6)("design:paramtypes",[NgtObject,Document])],NgtCursor);let NgtCursorModule=class NgtCursorModule{};function createPassThroughInput(wrapper,host){return(key,shouldStartWithUndefined=!1,useMergeValue=!1)=>{let wrapper$=wrapper.select((s=>s[key])),host$=host.select((s=>s[key]));shouldStartWithUndefined&&(wrapper$=wrapper$.pipe(startWithUndefined()),host$=host$.pipe(startWithUndefined())),(0,merge.T)(wrapper$,host$).pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe((mergedValue=>{host[key]=useMergeValue?void 0!==host[key]&&void 0===mergedValue?host[key]:mergedValue:host.get((s=>s[key+"Explicit"]))?host[key]:wrapper[key]}))}}var NgtObjectPassThrough_1;NgtCursorModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtCursor],exports:[NgtCursor]})],NgtCursorModule);let NgtObjectPassThrough=NgtObjectPassThrough_1=class NgtObjectPassThrough{constructor(host){this.host=host}set ngtObjectPassThrough(wrapper){NgtObjectPassThrough_1.assertWrapper(wrapper);const passThroughInput=createPassThroughInput(wrapper,this.host),passThroughOutput=function createPassThroughOutput(wrapper,host){return key=>{const wrapperEvent=wrapper[key],hostEvent=host[key];is.eventEmitter(wrapperEvent)&&is.eventEmitter(hostEvent)&&wrapperEvent.observed&&hostEvent.pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe(wrapperEvent.emit.bind(wrapperEvent))}}(wrapper,this.host);passThroughOutput("click"),passThroughOutput("contextmenu"),passThroughOutput("dblclick"),passThroughOutput("pointerup"),passThroughOutput("pointerdown"),passThroughOutput("pointerover"),passThroughOutput("pointerout"),passThroughOutput("pointerenter"),passThroughOutput("pointerleave"),passThroughOutput("pointermove"),passThroughOutput("pointermissed"),passThroughOutput("pointercancel"),passThroughOutput("wheel"),passThroughOutput("ready"),wrapper.shouldPassThroughRef&&(this.host.ref=wrapper.instance),passThroughInput("attach"),passThroughInput("skipParent"),passThroughInput("noAttach"),passThroughInput("name"),passThroughInput("position"),passThroughInput("rotation"),passThroughInput("quaternion"),passThroughInput("scale"),passThroughInput("color"),passThroughInput("userData"),passThroughInput("castShadow",!0),passThroughInput("receiveShadow",!0),passThroughInput("visible"),passThroughInput("matrixAutoUpdate"),passThroughInput("dispose",!0),passThroughInput("raycast",!0),passThroughInput("appendMode"),passThroughInput("appendTo",!0)}static assertWrapper(wrapper){if(!(wrapper instanceof NgtObjectProps))throw new Error("[NgtObjectPassThrough] wrapper is not an NgtObject")}};NgtObjectPassThrough.ctorParameters=()=>[{type:NgtObject,decorators:[{type:core.Optional},{type:core.Self}]}],NgtObjectPassThrough.propDecorators={ngtObjectPassThrough:[{type:core.Input}]},NgtObjectPassThrough=NgtObjectPassThrough_1=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtObjectPassThrough]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[NgtObject])],NgtObjectPassThrough);let NgtObjectPassThroughModule=class NgtObjectPassThroughModule{};NgtObjectPassThroughModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtObjectPassThrough],exports:[NgtObjectPassThrough]})],NgtObjectPassThroughModule);let NgtRepeat=class NgtRepeat extends common.sg{set ngForRepeat(count){this.ngForOf=Number.isInteger(count)?Array.from({length:count},((_,i)=>i)):[]}};NgtRepeat.propDecorators={ngForRepeat:[{type:core.Input}]},NgtRepeat=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngFor][ngForRepeat]",standalone:!0})],NgtRepeat);let NgtRepeatModule=class NgtRepeatModule{};NgtRepeatModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtRepeat],exports:[NgtRepeat]})],NgtRepeatModule);let NgtMathPipe=class NgtMathPipe{transform(value,keyOfMath){const params=is.arr(value)?value:[value];return Math[keyOfMath](...params)}};NgtMathPipe=(0,tslib_es6.gn)([(0,core.Pipe)({name:"math",standalone:!0})],NgtMathPipe);let NgtMathPipeModule=class NgtMathPipeModule{};NgtMathPipeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtMathPipe],exports:[NgtMathPipe]})],NgtMathPipeModule);let NgtPiPipe=class NgtPiPipe{transform(value){return value*Math.PI}};NgtPiPipe=(0,tslib_es6.gn)([(0,core.Pipe)({name:"pi",standalone:!0})],NgtPiPipe);let NgtPiPipeModule=class NgtPiPipeModule{};NgtPiPipeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPiPipe],exports:[NgtPiPipe]})],NgtPiPipeModule);let NgtRadianPipe=class NgtRadianPipe{transform(degree){return degree*Math.PI/180}};NgtRadianPipe=(0,tslib_es6.gn)([(0,core.Pipe)({name:"radian",standalone:!0})],NgtRadianPipe);let NgtRadianPipeModule=class NgtRadianPipeModule{};NgtRadianPipeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtRadianPipe],exports:[NgtRadianPipe]})],NgtRadianPipeModule);let NgtSidePipe=class NgtSidePipe{transform(side){switch(side){case"front":return three_module.Wl3;case"back":return three_module._Li;case"double":return three_module.ehD}}};NgtSidePipe=(0,tslib_es6.gn)([(0,core.Pipe)({name:"side",standalone:!0})],NgtSidePipe);let NgtSidePipeModule=class NgtSidePipeModule{};var NgtPortal_1;NgtSidePipeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSidePipe],exports:[NgtSidePipe]})],NgtSidePipeModule);const privateKeys=["events","invalidate","advance","size","viewport"];let NgtPortalContent=class NgtPortalContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtPortalContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtPortalContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-portal-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtPortalContent);let NgtPortal=NgtPortal_1=class NgtPortal extends NgtInstance{constructor(){super(!0),this.resizeResult$=(0,core.inject)(NgtResize),this.init=this.effect((0,tap.b)((()=>{const previousState=this.store.get();this.set((state=>({raycaster:new three_module.iMs,pointer:new three_module.FM8,size:state.size??previousState.size,events:state.events??previousState.events})))}))),this.initPortalStore=this.effect((0,tap.b)((()=>{const previousState=this.store.get(),portalState=this.get(),clientDimensions={clientWidth:portalState.size.width,clientHeight:portalState.size.height},{regress:_,...performanceOptions}=previousState.performance,portalStore=new NgtStore({nativeElement:clientDimensions},performanceOptions,{devicePixelRatio:makeDpr(previousState.viewport.dpr)},this.store,this.resizeResult$,this.zone),sceneRef=this.instance;let scene=this.instance.value;scene||(scene=prepare(new three_module.xsS,(()=>portalStore.get()),this.parentRef?.()),this.instance.set(scene)),portalStore.set({...previousState,scene,sceneRef,raycaster:portalState.raycaster,pointer:portalState.pointer,mouse:portalState.pointer,previousState:this.store.get(),events:{...previousState.events,...portalState.events},size:{...previousState.size,...portalState.size}}),this.set({portalStore})}))),this.subscribeToRoot=this.effect(tapEffect((()=>{const unsub=this.store.select().subscribe((root=>{this.get((s=>s.portalStore)).set((portal=>this.inject(root,portal)))}));return()=>{unsub.unsubscribe()}}))),this.setInitialPortalState=this.effect((0,tap.b)((()=>{this.get((s=>s.portalStore)).set((portal=>this.inject(this.store.get(),portal)))})))}set size(size){this.set({size})}set events(events){this.set({events})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.init(),this.store.onReady((()=>{this.initPortalStore(),this.subscribeToRoot(),this.setInitialPortalState()}))}))}inject(root,injected){const{size,events,portalStore}=this.get(),{scene,raycaster,pointer,previousState,events:portalStoreEvents,size:portalStoreSize,viewport:portalStoreViewport,mouse,...rest}=portalStore.get(),intersect={...root};let viewport;if(Object.keys(root).forEach((key=>{(privateKeys.includes(key)||root[key]!==injected[key])&&delete intersect[key]})),injected&&size){const camera=injected.camera;viewport=root.viewport.getCurrentViewport(camera,new three_module.Pa4,size),camera!==root.camera&&updateCamera(root.cameraOptions,camera,size)}return{...intersect,scene,raycaster,pointer,mouse,previousState,events:{...root.events,...injected?.events||portalStoreEvents,...events},size:{...root.size,...portalStoreSize,...size},viewport:{...root.viewport,...viewport||portalStoreViewport},...rest}}};NgtPortal.ctorParameters=()=>[],NgtPortal.propDecorators={size:[{type:core.Input}],events:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtPortalContent]}]},NgtPortal=NgtPortal_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-portal",standalone:!0,template:'\n    <ng-container\n      *ngIf="content"\n      [ngTemplateOutlet]="content.templateRef"\n      [ngTemplateOutletContext]="{ portal: instance }"\n    ></ng-container>\n    <ng-content></ng-content>\n  ',imports:[common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[NgtResize,{provide:NgtStore,useFactory:portal=>portal.get((s=>s.portalStore)),deps:[NgtPortal_1]},provideObjectRef(NgtPortal_1,(portal=>portal.get((s=>s.portalStore)).get((s=>s.sceneRef)))),provideSceneRef(NgtPortal_1,(portal=>portal.get((s=>s.portalStore)).get((s=>s.sceneRef)))),provideCameraRef(NgtPortal_1,(portal=>portal.get((s=>s.portalStore)).get((s=>s.cameraRef))))]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgtPortal);let NgtPortalModule=class NgtPortalModule{};NgtPortalModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPortal,NgtPortalContent],exports:[NgtPortal,NgtPortalContent]})],NgtPortalModule);let NgtCommonAttribute=class NgtCommonAttribute extends NgtInstance{constructor(){super(...arguments),this.init=this.effect(tapEffect((instanceArgs=>{this.prepareInstance(new this.attributeType(...instanceArgs))})))}set args(v){this.instanceArgs=v}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{const initSub=this.init(this.instanceArgs$);return this.postInit(),()=>{initSub&&initSub.unsubscribe&&initSub.unsubscribe()}}))}))}};NgtCommonAttribute.propDecorators={args:[{type:core.Input}]},NgtCommonAttribute=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonAttribute);const provideNgtCommonAttribute=createNgtProvider(NgtCommonAttribute,provideNgtInstance);let NgtCommonAudio=class NgtCommonAudio extends NgtObject{set listener(listener){this.set({listener})}set buffer(buffer){this.set({buffer})}set detune(detune){this.set({detune:coerceNumberProperty(detune)})}set loop(loop){this.set({loop:coerceBooleanProperty(loop)})}set loopStart(loopStart){this.set({loopStart:coerceNumberProperty(loopStart)})}set loopEnd(loopEnd){this.set({loopEnd:coerceNumberProperty(loopEnd)})}set offset(offset){this.set({offset:coerceNumberProperty(offset)})}set playbackRate(playbackRate){this.set({playbackRate:coerceNumberProperty(playbackRate)})}set isPlaying(isPlaying){this.set({isPlaying:coerceBooleanProperty(isPlaying)})}set hasPlaybackControl(hasPlaybackControl){this.set({hasPlaybackControl:coerceBooleanProperty(hasPlaybackControl)})}set sourceType(sourceType){this.set({sourceType})}set source(source){this.set({source})}set filters(filters){this.set({filters})}set duration(duration){this.set({duration:coerceNumberProperty(duration)})}set autoplay(autoplay){this.set({autoplay:coerceBooleanProperty(autoplay)})}objectInitFn(){const{listener}=this.get();if(!listener)throw new Error(`[NgtCommonAudio] Cannot initialize ${this.audioType} without "THREE.AudioListener"`);return new this.audioType(listener)}preInit(){this.set((state=>({buffer:state.buffer||null,detune:state.detune||0,loop:state.loop||!1,loopStart:state.loopStart||0,loopEnd:state.loopEnd||0,offset:state.offset||0,duration:state.duration||void 0,playbackRate:state.playbackRate||1,isPlaying:state.isPlaying||!1,hasPlaybackControl:state.hasPlaybackControl||!0,sourceType:state.sourceType||"empty",source:state.source||null,filters:state.filters||[]})))}get preObjectInit(){return initFn=>{this.effect(tapEffect((()=>{initFn()})))(this.select((s=>s.listener)))}}get optionFields(){return{...super.optionFields,autoplay:!0,buffer:!1,detune:!1,loop:!1,loopStart:!1,loopEnd:!1,offset:!1,duration:!0,playbackRate:!1,isPlaying:!1,hasPlaybackControl:!1,sourceType:!1,source:!1,filters:!1}}};NgtCommonAudio.propDecorators={listener:[{type:core.Input}],buffer:[{type:core.Input}],detune:[{type:core.Input}],loop:[{type:core.Input}],loopStart:[{type:core.Input}],loopEnd:[{type:core.Input}],offset:[{type:core.Input}],playbackRate:[{type:core.Input}],isPlaying:[{type:core.Input}],hasPlaybackControl:[{type:core.Input}],sourceType:[{type:core.Input}],source:[{type:core.Input}],filters:[{type:core.Input}],duration:[{type:core.Input}],autoplay:[{type:core.Input}]},NgtCommonAudio=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonAudio);createNgtProvider(NgtCommonAudio,provideNgtObject);let NgtCommonCamera=class NgtCommonCamera extends NgtObject{set args(v){this.instanceArgs=v}objectInitFn(){const instanceArgs=this.get((s=>s.instanceArgs));return new this.cameraType(...instanceArgs)}};NgtCommonCamera.propDecorators={args:[{type:core.Input}]},NgtCommonCamera=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonCamera);const provideNgtCommonCamera=createNgtProvider(NgtCommonCamera,provideNgtObject);let NgtCommonCurve=class NgtCommonCurve extends NgtInstance{constructor(){super(...arguments),this.init=this.effect(tapEffect((instanceArgs=>{this.prepareInstance(new this.curveType(...instanceArgs))})))}set args(v){this.instanceArgs=v}set arcLengthDivisions(arcLengthDivisions){this.set({arcLengthDivisions:coerceNumberProperty(arcLengthDivisions)})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.instanceArgs$),this.postInit()}))}))}postPrepare(curve){const arcLengthDivisions=this.get((s=>s.arcLengthDivisions));null!=arcLengthDivisions&&(curve.arcLengthDivisions=arcLengthDivisions)}};NgtCommonCurve.propDecorators={args:[{type:core.Input}],arcLengthDivisions:[{type:core.Input}]},NgtCommonCurve=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonCurve);createNgtProvider(NgtCommonCurve,provideNgtInstance);let NgtCommonGeometry=class NgtCommonGeometry extends NgtInstance{constructor(){super(...arguments),this.parentRef=injectObjectRef({optional:!0,skipSelf:!0}),this.parentHostRef=injectObjectHostRef({optional:!0,skipSelf:!0}),this.init=this.effect(tapEffect((()=>{const instanceArgs=this.get((s=>s.instanceArgs)),geometryArgs=this.adjustCtorParams(instanceArgs),geometry=this.prepareInstance(new this.geometryType(...geometryArgs));return()=>{geometry.dispose()}})))}set args(v){this.instanceArgs=v}preInit(){this.set((state=>({attach:state.attach.length?state.attach:["geometry"]})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.ctorParams$),this.postInit()}))}))}};NgtCommonGeometry.propDecorators={args:[{type:core.Input}]},NgtCommonGeometry=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonGeometry);const provideNgtCommonGeometry=createNgtProvider(NgtCommonGeometry,provideNgtInstance);let NgtCommonHelper=class NgtCommonHelper extends NgtObject{set args(v){this.instanceArgs=v}objectInitFn(){const instanceArgs=this.get((s=>s.instanceArgs));return new this.helperType(...instanceArgs)}};NgtCommonHelper.propDecorators={args:[{type:core.Input}]},NgtCommonHelper=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonHelper);const provideNgtCommonHelper=createNgtProvider(NgtCommonHelper,provideNgtObject);let NgtCommonLight=class NgtCommonLight extends NgtObject{set args(v){this.instanceArgs=v}set intensity(intensity){this.set({intensity:coerceNumberProperty(intensity)})}objectInitFn(){const{intensity,instanceArgs}=this.get(),light=new this.lightType(...instanceArgs);return null!=intensity&&(light.intensity=intensity),light}get preObjectInit(){return initFn=>{this.set((state=>({intensity:state.intensity??1}))),initFn()}}get optionFields(){return{...super.optionFields,intensity:!1}}};NgtCommonLight.propDecorators={args:[{type:core.Input}],intensity:[{type:core.Input}]},NgtCommonLight=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonLight);const provideNgtCommonLight=createNgtProvider(NgtCommonLight,provideNgtObject);let NgtCommonLine=class NgtCommonLine extends NgtMaterialGeometry{get objectType(){return this.lineType}};NgtCommonLine=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonLine);createNgtProvider(NgtCommonLine,provideNgtObject);let NgtCommonMaterial=class NgtCommonMaterial extends NgtInstance{constructor(){super(...arguments),this.parentRef=injectObjectRef({optional:!0,skipSelf:!0}),this.parentHostRef=injectObjectHostRef({optional:!0,skipSelf:!0}),this.init=this.effect(tapEffect((()=>{const material=this.prepareInstance(new this.materialType);return()=>{material.dispose()}})))}set alphaTest(alphaTest){this.set({alphaTest:coerceNumberProperty(alphaTest)})}set alphaToCoverage(alphaToCoverage){this.set({alphaToCoverage:coerceBooleanProperty(alphaToCoverage)})}set blendDst(blendDst){this.set({blendDst})}set blendDstAlpha(blendDstAlpha){this.set({blendDstAlpha:coerceNumberProperty(blendDstAlpha)})}set blendEquation(blendEquation){this.set({blendEquation})}set blendEquationAlpha(blendEquationAlpha){this.set({blendEquationAlpha:coerceNumberProperty(blendEquationAlpha)})}set blending(blending){this.set({blending})}set blendSrc(blendSrc){this.set({blendSrc})}set blendSrcAlpha(blendSrcAlpha){this.set({blendSrcAlpha:coerceNumberProperty(blendSrcAlpha)})}set clipIntersection(clipIntersection){this.set({clipIntersection:coerceBooleanProperty(clipIntersection)})}set clippingPlanes(clippingPlanes){this.set({clippingPlanes})}set clipShadows(clipShadows){this.set({clipShadows:coerceBooleanProperty(clipShadows)})}set colorWrite(colorWrite){this.set({colorWrite:coerceBooleanProperty(colorWrite)})}set defines(defines){this.set({defines})}set depthFunc(depthFunc){this.set({depthFunc})}set depthTest(depthTest){this.set({depthTest:coerceBooleanProperty(depthTest)})}set depthWrite(depthWrite){this.set({depthWrite:coerceBooleanProperty(depthWrite)})}set name(name){this.set({name})}set opacity(opacity){this.set({opacity:coerceNumberProperty(opacity)})}set polygonOffset(polygonOffset){this.set({polygonOffset:coerceBooleanProperty(polygonOffset)})}set polygonOffsetFactor(polygonOffsetFactor){this.set({polygonOffsetFactor:coerceNumberProperty(polygonOffsetFactor)})}set polygonOffsetUnits(polygonOffsetUnits){this.set({polygonOffsetUnits:coerceNumberProperty(polygonOffsetUnits)})}set precision(precision){this.set({precision})}set premultipliedAlpha(premultipliedAlpha){this.set({premultipliedAlpha:coerceBooleanProperty(premultipliedAlpha)})}set dithering(dithering){this.set({dithering:coerceBooleanProperty(dithering)})}set side(side){this.set({side})}set shadowSide(shadowSide){this.set({shadowSide})}set toneMapped(toneMapped){this.set({toneMapped:coerceBooleanProperty(toneMapped)})}set transparent(transparent){this.set({transparent:coerceBooleanProperty(transparent)})}set vertexColors(vertexColors){this.set({vertexColors:coerceBooleanProperty(vertexColors)})}set visible(visible){this.set({visible:coerceBooleanProperty(visible)})}set format(format){this.set({format})}set stencilWrite(stencilWrite){this.set({stencilWrite:coerceBooleanProperty(stencilWrite)})}set stencilFunc(stencilFunc){this.set({stencilFunc})}set stencilRef(stencilRef){this.set({stencilRef:coerceNumberProperty(stencilRef)})}set stencilWriteMask(stencilWriteMask){this.set({stencilWriteMask:coerceNumberProperty(stencilWriteMask)})}set stencilFuncMask(stencilFuncMask){this.set({stencilFuncMask:coerceNumberProperty(stencilFuncMask)})}set stencilFail(stencilFail){this.set({stencilFail})}set stencilZFail(stencilZFail){this.set({stencilZFail})}set stencilZPass(stencilZPass){this.set({stencilZPass})}set userData(userData){this.set({userData})}preInit(){this.set((state=>({attach:state.attach.length?state.attach:["material"]})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.ctorParams$),this.postInit()}))}))}get optionFields(){return{...super.optionFields,alphaTest:!0,alphaToCoverage:!0,blendDst:!0,blendDstAlpha:!0,blendEquation:!0,blendEquationAlpha:!0,blending:!0,blendSrc:!0,blendSrcAlpha:!0,clipIntersection:!0,clippingPlanes:!0,clipShadows:!0,colorWrite:!0,defines:!0,depthFunc:!0,depthTest:!0,depthWrite:!0,fog:!0,name:!0,opacity:!0,polygonOffset:!0,polygonOffsetFactor:!0,polygonOffsetUnits:!0,precision:!0,premultipliedAlpha:!0,dithering:!0,side:!0,shadowSide:!0,toneMapped:!0,transparent:!0,vertexColors:!0,visible:!0,format:!0,stencilWrite:!0,stencilFunc:!0,stencilRef:!0,stencilWriteMask:!0,stencilFuncMask:!0,stencilFail:!0,stencilZFail:!0,stencilZPass:!0,userData:!0}}};NgtCommonMaterial.propDecorators={alphaTest:[{type:core.Input}],alphaToCoverage:[{type:core.Input}],blendDst:[{type:core.Input}],blendDstAlpha:[{type:core.Input}],blendEquation:[{type:core.Input}],blendEquationAlpha:[{type:core.Input}],blending:[{type:core.Input}],blendSrc:[{type:core.Input}],blendSrcAlpha:[{type:core.Input}],clipIntersection:[{type:core.Input}],clippingPlanes:[{type:core.Input}],clipShadows:[{type:core.Input}],colorWrite:[{type:core.Input}],defines:[{type:core.Input}],depthFunc:[{type:core.Input}],depthTest:[{type:core.Input}],depthWrite:[{type:core.Input}],name:[{type:core.Input}],opacity:[{type:core.Input}],polygonOffset:[{type:core.Input}],polygonOffsetFactor:[{type:core.Input}],polygonOffsetUnits:[{type:core.Input}],precision:[{type:core.Input}],premultipliedAlpha:[{type:core.Input}],dithering:[{type:core.Input}],side:[{type:core.Input}],shadowSide:[{type:core.Input}],toneMapped:[{type:core.Input}],transparent:[{type:core.Input}],vertexColors:[{type:core.Input}],visible:[{type:core.Input}],format:[{type:core.Input}],stencilWrite:[{type:core.Input}],stencilFunc:[{type:core.Input}],stencilRef:[{type:core.Input}],stencilWriteMask:[{type:core.Input}],stencilFuncMask:[{type:core.Input}],stencilFail:[{type:core.Input}],stencilZFail:[{type:core.Input}],stencilZPass:[{type:core.Input}],userData:[{type:core.Input}]},NgtCommonMaterial=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonMaterial);const provideNgtCommonMaterial=createNgtProvider(NgtCommonMaterial,provideNgtInstance);let NgtCommonMesh=class NgtCommonMesh extends NgtMaterialGeometry{get objectType(){return this.meshType}};NgtCommonMesh=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonMesh);const provideNgtCommonMesh=createNgtProvider(NgtCommonMesh,provideNgtObject);let NgtCommonObjectHelper=class NgtCommonObjectHelper extends NgtInstance{constructor(){super(...arguments),this.parentRef=injectObjectRef({optional:!0}),this.parentHostRef=injectObjectHostRef({optional:!0}),this.init=this.effect(tapEffect((instanceArgs=>{if(!this.parent||!this.parent.value)return void console.info("Parent is not an object3d");const objectHelper=this.prepareInstance(new this.objectHelperType(this.parent.value,...instanceArgs)),scene=this.store.get((s=>s.scene));if(objectHelper&&scene){scene.add(objectHelper);const unregister=this.store.registerBeforeRender({callback:()=>{objectHelper&&objectHelper.update()},obj:this.instance});return()=>{objectHelper&&scene&&(scene.remove(objectHelper),unregister())}}})))}set helperVisible(helperVisible){this.set({visible:coerceBooleanProperty(helperVisible)})}preInit(){super.preInit(),this.set((state=>({visible:state.visible??!0})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.instanceArgs$),this.postInit()}))}))}get optionFields(){return{...super.optionFields,visible:!1}}};NgtCommonObjectHelper.propDecorators={helperVisible:[{type:core.Input}]},NgtCommonObjectHelper=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonObjectHelper);const provideNgtCommonObjectHelper=createNgtProvider(NgtCommonObjectHelper,provideNgtInstance);let NgtCommonSprite=class NgtCommonSprite extends NgtObject{set args(v){this.instanceArgs=v}set material(material){this.set({material})}objectInitFn(){const{material}=this.get();return new this.spriteType(material)}get optionFields(){return{...super.optionFields,material:!0}}};NgtCommonSprite.propDecorators={args:[{type:core.Input}],material:[{type:core.Input}]},NgtCommonSprite=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonSprite);const provideNgtCommonSprite=createNgtProvider(NgtCommonSprite,provideNgtObject);let NgtCommonTexture=class NgtCommonTexture extends NgtInstance{constructor(){super(...arguments),this.init=this.effect(tapEffect((()=>{const gl=this.store.get((s=>s.gl)),instanceArgs=this.get((s=>s.instanceArgs)),textureInstanceArgs=this.adjustCtorParams(instanceArgs),texture=this.prepareInstance(new this.textureType(...textureInstanceArgs));return texture.encoding=gl.outputEncoding,checkNeedsUpdate(texture),()=>{texture.dispose()}})))}set args(v){this.instanceArgs=v}set image(image){this.set({image})}set mapping(mapping){this.set({mapping})}set wrapS(wrapS){this.set({wrapS})}set wrapT(wrapT){this.set({wrapT})}set magFilter(magFilter){this.set({magFilter})}set minFilter(minFilter){this.set({minFilter})}set format(format){this.set({format})}set type(type){this.set({type})}set anisotropy(anisotropy){this.set({anisotropy:coerceNumberProperty(anisotropy)})}set encoding(encoding){this.set({encoding})}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.ctorParams$),this.postInit()}))}))}get optionFields(){return{...super.optionFields,image:!0,mapping:!0,wrapS:!0,wrapT:!0,magFilter:!0,minFilter:!0,format:!0,type:!0,anisotropy:!0,encoding:!0}}};NgtCommonTexture.propDecorators={args:[{type:core.Input}],image:[{type:core.Input}],mapping:[{type:core.Input}],wrapS:[{type:core.Input}],wrapT:[{type:core.Input}],magFilter:[{type:core.Input}],minFilter:[{type:core.Input}],format:[{type:core.Input}],type:[{type:core.Input}],anisotropy:[{type:core.Input}],encoding:[{type:core.Input}]},NgtCommonTexture=(0,tslib_es6.gn)([(0,core.Directive)()],NgtCommonTexture);const provideNgtCommonTexture=createNgtProvider(NgtCommonTexture,provideNgtInstance);function shaderMaterial(uniforms,vertexShader,fragmentShader,onInit){return class extends three_module.jyz{constructor(){const entries=Object.entries(uniforms);super({uniforms:entries.reduce(((acc,[name,value])=>({...acc,...three_module.rDY.clone({[name]:{value}})})),{}),vertexShader,fragmentShader}),entries.forEach((([name])=>Object.defineProperty(this,name,{get:()=>this.uniforms[name].value,set:v=>this.uniforms[name].value=v}))),onInit&&onInit(this)}}}},"./libs/soba/abstractions/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ag:()=>NgtSobaBillboardModule,N2:()=>NgtSobaCubicBezierLineModule,co:()=>NgtSobaGizmoHelperModule,gV:()=>NgtSobaGizmoViewcubeModule,vj:()=>NgtSobaGizmoViewportModule,mq:()=>NgtSobaGradientTextureModule,oi:()=>NgtSobaLineModule,Xz:()=>NgtSobaQuadraticBezierLineModule,pD:()=>NgtSobaText3dModule,GG:()=>NgtSobaTextModule});var NgtSobaBillboard_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),group_src=__webpack_require__("./libs/core/group/src/index.ts"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs");let NgtSobaBillboardContent=class NgtSobaBillboardContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaBillboardContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaBillboardContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-billboard-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaBillboardContent);let NgtSobaBillboard=NgtSobaBillboard_1=class NgtSobaBillboard extends src.Kw{constructor(){super(...arguments),this.beforeRender=new core.EventEmitter,this.isWrapper=!0}set follow(value){this.set({follow:(0,src.Ig)(value)})}set lockX(value){this.set({lockX:(0,src.Ig)(value)})}set lockY(value){this.set({lockY:(0,src.Ig)(value)})}set lockZ(value){this.set({lockZ:(0,src.Ig)(value)})}preInit(){this.set((state=>({follow:state.follow||!0,lockX:state.lockX||!1,lockY:state.lockY||!1,lockZ:state.lockZ||!1})))}onBeforeRender({state:{camera},object}){const{follow,lockX,lockY,lockZ}=this.get();if(!follow)return;const prevRotation=object.rotation.clone();object.quaternion.copy(camera.quaternion),lockX&&(object.rotation.x=prevRotation.x),lockY&&(object.rotation.y=prevRotation.y),lockZ&&(object.rotation.z=prevRotation.z)}};NgtSobaBillboard.propDecorators={follow:[{type:core.Input}],lockX:[{type:core.Input}],lockY:[{type:core.Input}],lockZ:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaBillboardContent]}],beforeRender:[{type:core.Output}]},NgtSobaBillboard=NgtSobaBillboard_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-billboard",standalone:!0,template:'\n    <ngt-group (beforeRender)="onBeforeRender($event); beforeRender.emit($event)" [ngtObjectPassThrough]="this">\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ billboard: instance }"\n      ></ng-container>\n    </ngt-group>\n  ',imports:[group_src.I,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaBillboard_1),(0,src.wY)(NgtSobaBillboard_1),(0,src.Hm)(NgtSobaBillboard_1)]})],NgtSobaBillboard);let NgtSobaBillboardModule=class NgtSobaBillboardModule{};NgtSobaBillboardModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaBillboard,NgtSobaBillboardContent],exports:[NgtSobaBillboard,NgtSobaBillboardContent]})],NgtSobaBillboardModule);var NgtSobaLineGeometry_1,three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),primitive_src=__webpack_require__("./libs/core/primitive/src/index.ts"),pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),observeOn=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),animationFrame=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Line2=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/lines/Line2.js"),LineGeometry=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/lines/LineGeometry.js");let NgtSobaLineGeometry=NgtSobaLineGeometry_1=class NgtSobaLineGeometry extends src.B{set points(points){this.set({points})}set vertexColors(vertexColors){this.set({vertexColors})}get geometryType(){return LineGeometry.L}get ctorParams$(){return this.select(this.select((s=>s.points)),this.select((s=>s.vertexColors)))}postInit(){const{instance:geometry,points,vertexColors}=this.get(),pointValues=points.map((p=>src.is.vector3(p)?p.toArray():p));if(geometry.value.setPositions(pointValues.flat()),vertexColors.length){const colorValues=vertexColors.map((c=>src.is.color(c)?c.toArray():c));geometry.value.setColors(colorValues.flat())}}};NgtSobaLineGeometry.propDecorators={points:[{type:core.Input}],vertexColors:[{type:core.Input}]},NgtSobaLineGeometry=NgtSobaLineGeometry_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-line-geometry",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Pc)(NgtSobaLineGeometry_1),(0,src.O2)(NgtSobaLineGeometry_1)]})],NgtSobaLineGeometry);let NgtSobaLineGeometryModule=class NgtSobaLineGeometryModule{};NgtSobaLineGeometryModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaLineGeometry],exports:[NgtSobaLineGeometry]})],NgtSobaLineGeometryModule);var NgtSobaLineMaterial_1,materials_src=__webpack_require__("./libs/core/materials/src/index.ts"),LineMaterial=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/lines/LineMaterial.js");let NgtSobaLineMaterial=NgtSobaLineMaterial_1=class NgtSobaLineMaterial extends materials_src.yS{constructor(){super(...arguments),this.setDashedParams$=this.select(this.instance,this.select((s=>s.dashed))),this.setDashed=this.effect((0,tap.b)((()=>{const{instance:material,dashed}=this.get();dashed?material.value.defines.USE_DASH="":delete material.value.defines.USE_DASH,(0,src.QF)(material.value)})))}set dashed(dashed){this.set({dashed:(0,src.Ig)(dashed)})}set dashOffset(dashOffset){this.set({dashOffset:(0,src.su)(dashOffset)})}set dashScale(dashScale){this.set({dashScale:(0,src.su)(dashScale)})}set dashSize(dashSize){this.set({dashSize:(0,src.su)(dashSize)})}set gapSize(gapSize){this.set({gapSize:(0,src.su)(gapSize)})}set resolution(resolution){this.set({resolution:(0,src.Sy)(three_module.FM8,resolution)})}set color(color){this.set({color})}get materialType(){return LineMaterial.Y}postInit(){this.setDashed(this.setDashedParams$)}get optionFields(){return{...super.optionFields,dashed:!0,dashOffset:!0,dashScale:!0,dashSize:!0,gapSize:!0,resolution:!0,color:!0}}};NgtSobaLineMaterial.propDecorators={dashed:[{type:core.Input}],dashOffset:[{type:core.Input}],dashScale:[{type:core.Input}],dashSize:[{type:core.Input}],gapSize:[{type:core.Input}],resolution:[{type:core.Input}],color:[{type:core.Input}]},NgtSobaLineMaterial=NgtSobaLineMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-line-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtSobaLineMaterial_1),(0,src.Wm)(NgtSobaLineMaterial_1)]})],NgtSobaLineMaterial);let NgtSobaLineMaterialModule=class NgtSobaLineMaterialModule{};var NgtSobaLine_1;NgtSobaLineMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaLineMaterial],exports:[NgtSobaLineMaterial]})],NgtSobaLineMaterialModule);let NgtSobaCommonLine=class NgtSobaCommonLine extends src.Kw{set points(points){this.set({points})}set vertexColors(vertexColors){this.set({vertexColors})}set dashed(dashed){this.set({dashed:(0,src.Ig)(dashed)})}set lineWidth(lineWidth){this.set({lineWidth:(0,src.su)(lineWidth)})}set resolution(resolution){this.set({resolution})}preInit(){super.preInit(),this.set((state=>({points:state.points??[],vertexColors:state.vertexColors??[],dashed:state.dashed??!1,color:state.color??(0,src.Sy)(three_module.Ilk,"black"),resolution:state.resolution??(0,src.Sy)(three_module.FM8,[512,512])})))}};NgtSobaCommonLine.propDecorators={points:[{type:core.Input}],vertexColors:[{type:core.Input}],dashed:[{type:core.Input}],lineWidth:[{type:core.Input}],resolution:[{type:core.Input}]},NgtSobaCommonLine=(0,tslib_es6.gn)([(0,core.Directive)()],NgtSobaCommonLine);let NgtSobaLineContent=class NgtSobaLineContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaLineContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaLineContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-line-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaLineContent);let NgtSobaLine=NgtSobaLine_1=class NgtSobaLine extends NgtSobaCommonLine{constructor(){super(...arguments),this.beforeRender=new core.EventEmitter,this.lineViewModel$=this.select(this.instance,this.select((s=>s.points)),this.select((s=>s.vertexColors)),this.select((s=>s.resolution)),this.select((s=>s.dashed)),this.select((s=>s.color)),this.select((s=>s.lineWidth)),((line,points,vertexColors,resolution,dashed,color,lineWidth)=>({line,points,vertexColors,hasVertexColors:vertexColors.length>0,resolution,dashed,color,lineWidth}))),this.init=this.effect((0,src.oe)((()=>{const line=this.prepareInstance(new Line2.w);return()=>{line.clear()}}))),this.computeLineDistancesParams$=this.select(this.instance,this.select((s=>s.points))),this.computeLineDistances=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,tap.b)((()=>{this.get((s=>s.instance)).value.computeLineDistances()}))))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.shouldPassThroughRef&&(this.init(),this.computeLineDistances(this.computeLineDistancesParams$))}))}))}};NgtSobaLine.propDecorators={beforeRender:[{type:core.Output}],content:[{type:core.ContentChild,args:[NgtSobaLineContent]}]},NgtSobaLine=NgtSobaLine_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-line",standalone:!0,template:'\n    <ngt-primitive\n      *ngIf="lineViewModel$ | async as lineViewModel"\n      (beforeRender)="beforeRender.emit($any($event))"\n      [object]="lineViewModel.line"\n      [ngtObjectPassThrough]="this"\n    >\n      <ngt-soba-line-geometry\n        [points]="lineViewModel.points"\n        [vertexColors]="lineViewModel.vertexColors"\n      ></ngt-soba-line-geometry>\n      <ngt-soba-line-material\n        [color]="lineViewModel.color"\n        [resolution]="lineViewModel.resolution"\n        [vertexColors]="lineViewModel.hasVertexColors"\n        [linewidth]="lineViewModel.lineWidth"\n        [dashed]="lineViewModel.dashed"\n      ></ngt-soba-line-material>\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ line: instance }"\n      ></ng-container>\n    </ngt-primitive>\n  ',imports:[primitive_src.U,src.VL,NgtSobaLineGeometry,NgtSobaLineMaterial,common.O5,common.Ov,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaLine_1),(0,src.wY)(NgtSobaLine_1),(0,src.Hm)(NgtSobaLine_1)]})],NgtSobaLine);let NgtSobaLineModule=class NgtSobaLineModule{};var NgtSobaCubicBezierLine_1;NgtSobaLineModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaLine,NgtSobaLineContent],exports:[NgtSobaLine,NgtSobaLineContent]})],NgtSobaLineModule);let NgtSobaCubicBezierLine=NgtSobaCubicBezierLine_1=class NgtSobaCubicBezierLine extends NgtSobaLine{constructor(){super(...arguments),this.shouldPassThroughRef=!1,this.cubicBezierPoints$=this.select(this.select((s=>s.start)),this.select((s=>s.end)),this.select((s=>s.midA)),this.select((s=>s.midB)),this.select((s=>s.segments)),((start,end,midA,midB,segments)=>{const startV=src.is.vector3(start)?start:(0,src.Sy)(three_module.Pa4,start),endV=src.is.vector3(end)?end:(0,src.Sy)(three_module.Pa4,end),midAV=src.is.vector3(midA)?midA:(0,src.Sy)(three_module.Pa4,midA),midBV=src.is.vector3(midB)?midB:(0,src.Sy)(three_module.Pa4,midB);return new three_module.yj7(startV,midAV,midBV,endV).getPoints(segments)})),this.cubicLineViewModel$=this.select(this.cubicBezierPoints$,this.select((s=>s.vertexColors)),this.select((s=>s.resolution)),this.select((s=>s.dashed)),this.select((s=>s.color)),this.select((s=>s.lineWidth)),((points,vertexColors,resolution,dashed,color,lineWidth)=>({points,vertexColors,resolution,dashed,color,lineWidth})))}set start(start){this.set({start})}set end(end){this.set({end})}set midA(midA){this.set({midA})}set midB(midB){this.set({midB})}set segments(segments){this.set({segments:(0,src.su)(segments)})}preInit(){super.preInit(),this.set((state=>({segments:state.segments??20})))}};NgtSobaCubicBezierLine.propDecorators={start:[{type:core.Input}],end:[{type:core.Input}],midA:[{type:core.Input}],midB:[{type:core.Input}],segments:[{type:core.Input}]},NgtSobaCubicBezierLine=NgtSobaCubicBezierLine_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-cubic-bezier-line[start][end][midA][midB]",standalone:!0,template:'\n    <ngt-soba-line\n      *ngIf="cubicLineViewModel$ | async as cubicLineViewModel"\n      (beforeRender)="beforeRender.emit($event)"\n      [points]="cubicLineViewModel.points"\n      [vertexColors]="cubicLineViewModel.vertexColors"\n      [resolution]="cubicLineViewModel.resolution"\n      [dashed]="cubicLineViewModel.dashed"\n      [color]="cubicLineViewModel.color"\n      [lineWidth]="cubicLineViewModel.lineWidth"\n      [ngtObjectPassThrough]="this"\n    >\n      <ng-container *ngIf="content">\n        <ng-template ngt-soba-line-content let-line="line">\n          <ng-container [ngTemplateOutlet]="content.templateRef" [ngTemplateOutletContext]="{line}"></ng-container>\n        </ng-template>\n      </ng-container>\n    </ngt-soba-line>\n  ',imports:[NgtSobaLine,src.VL,NgtSobaLineContent,common.tP,common.O5,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaCubicBezierLine_1),(0,src.wY)(NgtSobaCubicBezierLine_1),(0,src.Hm)(NgtSobaCubicBezierLine_1)]})],NgtSobaCubicBezierLine);let NgtSobaCubicBezierLineModule=class NgtSobaCubicBezierLineModule{};NgtSobaCubicBezierLineModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaCubicBezierLine],exports:[NgtSobaCubicBezierLine]})],NgtSobaCubicBezierLineModule);var NgtSobaGizmoHelper_1,cameras_src=__webpack_require__("./libs/soba/cameras/src/index.ts"),timer=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/timer.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/filter.js");let NgtSobaGizmoHelperContent=class NgtSobaGizmoHelperContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaGizmoHelperContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaGizmoHelperContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-gizmo-helper-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaGizmoHelperContent);const turnRate=2*Math.PI,dummy=new three_module.Tme,matrix=(0,src.Sy)(three_module.yGw),[q1,q2]=[(0,src.Sy)(three_module._fP),(0,src.Sy)(three_module._fP)],target=(0,src.Sy)(three_module.Pa4),targetPosition=(0,src.Sy)(three_module.Pa4);let NgtSobaGizmoHelper=NgtSobaGizmoHelper_1=class NgtSobaGizmoHelper extends src.Kw{constructor(){super(...arguments),this.ready$=(0,timer.H)(250).pipe((0,map.U)((()=>!0))),this.beforeRender=new core.EventEmitter,this.update=new core.EventEmitter,this.position$=this.select(this.select((s=>s.margin)),this.select((s=>s.alignment)),this.store.select((s=>s.size)),(([marginX,marginY],alignment,size)=>{const x=alignment.endsWith("-left")?-size.width/2+marginX:size.width/2-marginX,y=alignment.startsWith("top-")?size.height/2-marginY:-size.height/2+marginY;return(0,src.Sy)(three_module.Pa4,[x,y,0])})),this.animating=!1,this.focusPoint=(0,src.Sy)(three_module.Pa4,[0,0,0]),this.radius=0,this.switchSceneBackground=this.effect((0,src.oe)((()=>{let mainSceneBackground;const scene=this.store.get((s=>s.scene)),virtualScene=this.get((s=>s.virtualScene));return scene.background&&(mainSceneBackground=scene.background,scene.background=null,virtualScene.value.background=mainSceneBackground),()=>{mainSceneBackground&&(scene.background=mainSceneBackground)}}))),this.setBeforeRender=this.effect((0,src.oe)((()=>{const renderPriority=this.get((s=>s.renderPriority)),gl=this.store.get((s=>s.gl));return this.store.registerBeforeRender({callback:({delta})=>{const gizmo=this.instance,{camera:mainCamera,controls:defaultControls,invalidate}=this.store.get(),{virtualScene,virtualCamera,autoClear}=this.get();if(gizmo.value&&virtualScene.value&&virtualCamera.value){if(this.animating)if(q1.angleTo(q2)<.01)this.animating=!1;else{const step=delta*turnRate;q1.rotateTowards(q2,step),mainCamera.position.set(0,0,1).applyQuaternion(q1).multiplyScalar(this.radius).add(this.focusPoint),mainCamera.up.set(0,1,0).applyQuaternion(q1).normalize(),mainCamera.quaternion.copy(q1),this.update.observed?this.update.emit():defaultControls&&defaultControls.update(),invalidate()}matrix.copy(mainCamera.matrix).invert(),gizmo.value?.quaternion.setFromRotationMatrix(matrix),autoClear&&(gl.autoClear=!1),gl.clearDepth(),gl.render(virtualScene.value,virtualCamera.value)}},priority:renderPriority})}))),this.setRaycast=this.effect((0,tap.b)((virtualCamera=>{const pointer=this.store.get((s=>s.pointer)),raycaster=new three_module.iMs;this.set({raycast:function(_,intersects){raycaster.setFromCamera(pointer,virtualCamera);const rc=this.constructor.prototype.raycast.bind(this);rc&&rc(raycaster,intersects)}})}))),this.tweenCamera=this.effect((0,tap.b)((direction=>{this.animating=!0;const{controls:defaultControls,camera:mainCamera,invalidate}=this.store.get();defaultControls&&(this.focusPoint=defaultControls.target),this.radius=mainCamera.position.distanceTo(target),q1.copy(mainCamera.quaternion),targetPosition.copy(direction).multiplyScalar(this.radius).add(target),dummy.lookAt(targetPosition),q2.copy(dummy.quaternion),invalidate()})))}set alignment(alignment){this.set({alignment})}set margin(margin){this.set({margin})}set renderPriority(renderPriority){this.set({renderPriority})}set autoClear(autoClear){this.set({autoClear:(0,src.Ig)(autoClear)})}get virtualScene(){return this.get((s=>s.virtualScene))}get virtualCamera(){return this.get((s=>s.virtualCamera))}preInit(){super.preInit(),this.set((state=>({virtualCamera:new src.Rl,virtualScene:new src.Rl((0,src.Pl)(new three_module.xsS,(()=>this.store.get()))),alignment:state.alignment??"bottom-right",margin:state.margin??[80,80],renderPriority:state.renderPriority??0,autoClear:state.autoClear??!0})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.switchSceneBackground(),this.setBeforeRender(),this.setRaycast(this.get((s=>s.virtualCamera)).pipe((0,filter.h)((camera=>!!camera))))}))}))}};NgtSobaGizmoHelper.propDecorators={alignment:[{type:core.Input}],margin:[{type:core.Input}],renderPriority:[{type:core.Input}],autoClear:[{type:core.Input}],beforeRender:[{type:core.Output}],update:[{type:core.Output}],content:[{type:core.ContentChild,args:[NgtSobaGizmoHelperContent]}]},NgtSobaGizmoHelper=NgtSobaGizmoHelper_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-helper",standalone:!0,template:'\n    <ngt-portal *ngIf="ready$ | async" [ref]="virtualScene">\n      <ng-template ngt-portal-content>\n        <ngt-group\n          (beforeRender)="beforeRender.emit($event)"\n          [ngtObjectPassThrough]="this"\n          [position]="(position$ | async)!"\n        >\n          <ng-container\n            *ngIf="content"\n            [ngTemplateOutlet]="content.templateRef"\n            [ngTemplateOutletContext]="{ gizmo: instance }"\n          ></ng-container>\n        </ngt-group>\n\n        <ngt-soba-orthographic-camera [ref]="virtualCamera" [position]="[0, 0, 200]"></ngt-soba-orthographic-camera>\n      </ng-template>\n    </ngt-portal>\n  ',imports:[src.WS,src.ZQ,group_src.U,src.VL,cameras_src.Xm,common.O5,common.tP,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaGizmoHelper_1),(0,src.wY)(NgtSobaGizmoHelper_1),(0,src.Hm)(NgtSobaGizmoHelper_1)]})],NgtSobaGizmoHelper);let NgtSobaGizmoHelperModule=class NgtSobaGizmoHelperModule{};NgtSobaGizmoHelperModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaGizmoHelper,NgtSobaGizmoHelperContent],exports:[NgtSobaGizmoHelper,NgtSobaGizmoHelperContent]})],NgtSobaGizmoHelperModule);var NgtSobaGizmoFaceMaterial_1,NgtSobaGizmoFaceCube_1,NgtSobaGizmoEdgeCube_1,NgtSobaGizmoViewcube_1,geometries_src=__webpack_require__("./libs/core/geometries/src/index.ts"),lights_src=__webpack_require__("./libs/core/lights/src/index.ts"),meshes_src=__webpack_require__("./libs/core/meshes/src/index.ts"),takeUntil=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");const makePositionVector=xyz=>(0,src.Sy)(three_module.Pa4,xyz).multiplyScalar(.38),colors_bg="#f0f0f0",colors_hover="#999",colors_text="black",colors_stroke="black",defaultFaces=["Right","Left","Top","Bottom","Front","Back"],corners=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(makePositionVector),cornerDimensions=[.25,.25,.25],edges=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(makePositionVector),edgeDimensions=edges.map((edge=>edge.toArray().map((axis=>0==axis?.5:.25))));let NgtSobaGizmoViewCubeGeneric=class NgtSobaGizmoViewCubeGeneric extends src.WZ{constructor(){if(super(),this.click=new core.EventEmitter,this.gizmoHelper=(0,core.inject)(NgtSobaGizmoHelper,{optional:!0}),!this.gizmoHelper)throw new Error("<ngt-soba-gizmo-viewcube> can only be used in <ngt-soba-gizmo-helper>")}set font(font){this.set({font})}get font(){return this.get((s=>s.font))}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}get opacity(){return this.get((s=>s.opacity))}set color(color){this.set({color})}get color(){return this.get((s=>s.color))}set hoverColor(hoverColor){this.set({hoverColor})}get hoverColor(){return this.get((s=>s.hoverColor))}set textColor(textColor){this.set({textColor})}get textColor(){return this.get((s=>s.textColor))}set strokeColor(strokeColor){this.set({strokeColor})}get strokeColor(){return this.get((s=>s.strokeColor))}set faces(faces){this.set({faces})}get faces(){return this.get((s=>s.faces))}get raycast(){return this.gizmoHelper.get((s=>s.raycast))}preInit(){super.preInit(),this.set((state=>({font:state.font??"20px Inter var, Arial, sans-serif",faces:state.faces??defaultFaces,color:state.color??colors_bg,hoverColor:state.hoverColor??colors_hover,textColor:state.textColor??colors_text,strokeColor:state.strokeColor??colors_stroke,opacity:state.opacity??1})))}};NgtSobaGizmoViewCubeGeneric.ctorParameters=()=>[],NgtSobaGizmoViewCubeGeneric.propDecorators={font:[{type:core.Input}],opacity:[{type:core.Input}],color:[{type:core.Input}],hoverColor:[{type:core.Input}],textColor:[{type:core.Input}],strokeColor:[{type:core.Input}],faces:[{type:core.Input}],click:[{type:core.Output}]},NgtSobaGizmoViewCubeGeneric=(0,tslib_es6.gn)([(0,core.Directive)(),(0,tslib_es6.w6)("design:paramtypes",[])],NgtSobaGizmoViewCubeGeneric);let NgtSobaGizmoViewCubePassThrough=class NgtSobaGizmoViewCubePassThrough{constructor(host){this.host=host}set ngtSobaGizmoViewCubeGenericPassThrough(wrapper){this.assertWrapper(wrapper),wrapper.select(wrapper.select((s=>s.font)).pipe((0,src.Xb)()),wrapper.select((s=>s.opacity)).pipe((0,src.Xb)()),wrapper.select((s=>s.color)).pipe((0,src.Xb)()),wrapper.select((s=>s.hoverColor)).pipe((0,src.Xb)()),wrapper.select((s=>s.textColor)).pipe((0,src.Xb)()),wrapper.select((s=>s.strokeColor)).pipe((0,src.Xb)()),wrapper.select((s=>s.faces)).pipe((0,src.Xb)())).pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe((()=>{this.host.font=wrapper.font,this.host.opacity=wrapper.opacity,this.host.color=wrapper.color,this.host.hoverColor=wrapper.hoverColor,this.host.textColor=wrapper.textColor,this.host.strokeColor=wrapper.strokeColor,this.host.faces=wrapper.faces})),wrapper.click.observed&&this.host.click.pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe(wrapper.click.emit.bind(wrapper.click))}assertWrapper(wrapper){if(!(wrapper instanceof NgtSobaGizmoViewCubeGeneric))throw new Error("[NgtSobaGizmoViewCubePassThrough] wrapper is not an NgtSobaGizmoViewCubeGeneric")}};NgtSobaGizmoViewCubePassThrough.ctorParameters=()=>[{type:NgtSobaGizmoViewCubeGeneric,decorators:[{type:core.Self},{type:core.Optional}]}],NgtSobaGizmoViewCubePassThrough.propDecorators={ngtSobaGizmoViewCubeGenericPassThrough:[{type:core.Input}]},NgtSobaGizmoViewCubePassThrough=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSobaGizmoViewCubeGenericPassThrough]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[NgtSobaGizmoViewCubeGeneric])],NgtSobaGizmoViewCubePassThrough);let NgtSobaGizmoFaceMaterial=NgtSobaGizmoFaceMaterial_1=class NgtSobaGizmoFaceMaterial extends NgtSobaGizmoViewCubeGeneric{constructor(){super(...arguments),this.texture$=this.select(this.select((s=>s.index)),this.select((s=>s.faces)),this.select((s=>s.font)),this.select((s=>s.color)),this.select((s=>s.textColor)),this.select((s=>s.strokeColor)),(()=>{const gl=this.store.get((s=>s.gl)),{color,strokeColor,textColor,font,faces,index}=this.get(),canvas=document.createElement("canvas");canvas.width=128,canvas.height=128;const context=canvas.getContext("2d");context.fillStyle=color,context.fillRect(0,0,canvas.width,canvas.height),context.strokeStyle=strokeColor,context.strokeRect(0,0,canvas.width,canvas.height),context.font=font,context.textAlign="center",context.fillStyle=textColor,context.fillText(faces[index].toUpperCase(),64,76);const texture=new three_module.ROQ(canvas);return texture.encoding=gl.outputEncoding,texture.anisotropy=gl.capabilities.getMaxAnisotropy()||1,texture}))}set hover(hover){this.set({hover:(0,src.Ig)(hover)})}get hover(){return this.get((s=>s.hover))}set index(index){this.set({index:(0,src.su)(index)})}get index(){return this.get((s=>s.index))}};NgtSobaGizmoFaceMaterial.propDecorators={hover:[{type:core.Input}],index:[{type:core.Input}]},NgtSobaGizmoFaceMaterial=NgtSobaGizmoFaceMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-face-material[hover][index]",standalone:!0,template:'\n    <ngt-mesh-lambert-material\n      [ref]="instance"\n      [map]="texture$ | async"\n      [attach]="[\'material\', \'\' + index]"\n      [color]="hover ? hoverColor : \'white\'"\n      transparent\n      [opacity]="opacity"\n    ></ngt-mesh-lambert-material>\n  ',imports:[materials_src.sA,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaGizmoViewCubeGeneric,useExisting:NgtSobaGizmoFaceMaterial_1}]})],NgtSobaGizmoFaceMaterial);let NgtSobaGizmoFaceCube=NgtSobaGizmoFaceCube_1=class NgtSobaGizmoFaceCube extends NgtSobaGizmoViewCubeGeneric{constructor(){super(...arguments),this.hover=-1}onClick($event){this.click.observed?this.click.emit($event):($event.stopPropagation(),this.gizmoHelper.tweenCamera($event.face.normal))}onPointerOut($event){$event.stopPropagation(),this.hover=-1}onPointerMove($event){$event.stopPropagation(),this.hover=Math.floor($event.faceIndex/2)}};NgtSobaGizmoFaceCube=NgtSobaGizmoFaceCube_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-face-cube",standalone:!0,template:'\n    <ngt-mesh\n      [raycast]="raycast"\n      (click)="onClick($event)"\n      (pointerout)="onPointerOut($event)"\n      (pointermove)="onPointerMove($event)"\n    >\n      <ngt-box-geometry></ngt-box-geometry>\n      <ngt-soba-gizmo-face-material\n        *ngFor="let index; repeat: 6"\n        [hover]="hover === index"\n        [index]="index"\n        [ngtSobaGizmoViewCubeGenericPassThrough]="this"\n      ></ngt-soba-gizmo-face-material>\n    </ngt-mesh>\n  ',imports:[meshes_src.oX,geometries_src.gB,NgtSobaGizmoFaceMaterial,NgtSobaGizmoViewCubePassThrough,src.l3,common.sg],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaGizmoViewCubeGeneric,useExisting:NgtSobaGizmoFaceCube_1}]})],NgtSobaGizmoFaceCube);let NgtSobaGizmoEdgeCube=NgtSobaGizmoEdgeCube_1=class NgtSobaGizmoEdgeCube extends NgtSobaGizmoViewCubeGeneric{constructor(){super(...arguments),this.hover=!1}set dimensions(dimensions){this.set({dimensions})}get dimensions(){return this.get((s=>s.dimensions))}set position(position){this.set({position})}get position(){return this.get((s=>s.position))}onClick($event){this.click.observed?this.click.emit($event):($event.stopPropagation(),this.gizmoHelper.tweenCamera((0,src.Sy)(three_module.Pa4,this.position)))}onPointerOut($event){$event.stopPropagation(),this.hover=!1}onPointerOver($event){$event.stopPropagation(),this.hover=!0}};NgtSobaGizmoEdgeCube.propDecorators={dimensions:[{type:core.Input}],position:[{type:core.Input}]},NgtSobaGizmoEdgeCube=NgtSobaGizmoEdgeCube_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-edge-cube[dimensions][position]",standalone:!0,template:'\n    <ngt-mesh\n      [scale]="1.01"\n      [position]="position"\n      [raycast]="raycast"\n      (click)="onClick($event)"\n      (pointerout)="onPointerOut($event)"\n      (pointerover)="onPointerOver($event)"\n    >\n      <ngt-box-geometry [args]="dimensions"></ngt-box-geometry>\n      <ngt-mesh-basic-material\n        [color]="hover ? hoverColor : \'white\'"\n        transparent\n        opacity="0.6"\n        [visible]="hover"\n      ></ngt-mesh-basic-material>\n    </ngt-mesh>\n  ',imports:[meshes_src.oX,geometries_src.gB,materials_src.$t],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaGizmoViewCubeGeneric,useExisting:NgtSobaGizmoEdgeCube_1}]})],NgtSobaGizmoEdgeCube);let NgtSobaGizmoViewcube=NgtSobaGizmoViewcube_1=class NgtSobaGizmoViewcube extends NgtSobaGizmoViewCubeGeneric{constructor(){super(...arguments),this.edges=edges,this.edgeDimensions=edgeDimensions,this.corners=corners,this.cornerDimensions=cornerDimensions}};NgtSobaGizmoViewcube=NgtSobaGizmoViewcube_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-viewcube",standalone:!0,template:'\n    <ngt-group [scale]="60">\n      <ngt-soba-gizmo-face-cube [ngtSobaGizmoViewCubeGenericPassThrough]="this"></ngt-soba-gizmo-face-cube>\n\n      <ngt-soba-gizmo-edge-cube\n        *ngFor="let edge of edges; index as i"\n        [position]="edge"\n        [dimensions]="edgeDimensions[i]"\n        [ngtSobaGizmoViewCubeGenericPassThrough]="this"\n      ></ngt-soba-gizmo-edge-cube>\n\n      <ngt-soba-gizmo-edge-cube\n        *ngFor="let corner of corners"\n        [position]="corner"\n        [dimensions]="cornerDimensions"\n        [ngtSobaGizmoViewCubeGenericPassThrough]="this"\n      ></ngt-soba-gizmo-edge-cube>\n\n      <ngt-ambient-light intensity="0.5"></ngt-ambient-light>\n      <ngt-point-light [position]="10" intensity="0.5"></ngt-point-light>\n    </ngt-group>\n  ',imports:[group_src.U,NgtSobaGizmoFaceCube,NgtSobaGizmoEdgeCube,lights_src.wx,lights_src.HY,NgtSobaGizmoViewCubePassThrough,common.sg],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaGizmoViewCubeGeneric,useExisting:NgtSobaGizmoViewcube_1}]})],NgtSobaGizmoViewcube);let NgtSobaGizmoViewcubeModule=class NgtSobaGizmoViewcubeModule{};var NgtSprite_1;NgtSobaGizmoViewcubeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaGizmoViewcube],exports:[NgtSobaGizmoViewcube]})],NgtSobaGizmoViewcubeModule);let NgtSprite=NgtSprite_1=class NgtSprite extends src.rR{get spriteType(){return three_module.jyi}};NgtSprite=NgtSprite_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-sprite",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.O9)(NgtSprite_1),(0,src.aZ)(NgtSprite_1)]})],NgtSprite);let NgtSpriteModule=class NgtSpriteModule{};var NgtSobaGizmoViewportAxisHead_1,NgtSobaGizmoViewport_1;NgtSpriteModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSprite],exports:[NgtSprite]})],NgtSpriteModule);let NgtSobaGizmoViewportAxis=class NgtSobaGizmoViewportAxis extends src.WZ{set color(color){this.set({color})}get color(){return this.get((s=>s.color))}set rotation(rotation){this.set({rotation})}get rotation(){return this.get((s=>s.rotation))}set scale(scale){this.set({scale})}get scale(){return this.get((s=>s.scale))}preInit(){super.preInit(),this.set((state=>({scale:state.scale??[.8,.05,.05]})))}};NgtSobaGizmoViewportAxis.propDecorators={color:[{type:core.Input}],rotation:[{type:core.Input}],scale:[{type:core.Input}]},NgtSobaGizmoViewportAxis=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-viewport-axis[color][rotation]",standalone:!0,template:'\n    <ngt-group [rotation]="rotation">\n      <ngt-mesh [position]="[0.4, 0, 0]">\n        <ngt-box-geometry [args]="scale"></ngt-box-geometry>\n        <ngt-mesh-basic-material [color]="color" toneMapped="false"></ngt-mesh-basic-material>\n      </ngt-mesh>\n    </ngt-group>\n  ',imports:[group_src.U,meshes_src.oX,geometries_src.gB,materials_src.$t],changeDetection:core.ChangeDetectionStrategy.OnPush})],NgtSobaGizmoViewportAxis);let NgtSobaGizmoViewportAxisHead=NgtSobaGizmoViewportAxisHead_1=class NgtSobaGizmoViewportAxisHead extends src.Kw{constructor(){if(super(),this.gizmoHelper=(0,core.inject)(NgtSobaGizmoHelper,{optional:!0}),this.texture$=this.select(this.select((s=>s.arcStyle)),this.select((s=>s.label)).pipe((0,src.Xb)()),this.select((s=>s.labelColor)),this.select((s=>s.font)),((arcStyle,label,labelColor,font)=>{const gl=this.store.get((s=>s.gl)),canvas=this.document.createElement("canvas");canvas.width=64,canvas.height=64;const context=canvas.getContext("2d");context.beginPath(),context.arc(32,32,16,0,2*Math.PI),context.closePath(),context.fillStyle=arcStyle,context.fill(),label&&(context.font=font,context.textAlign="center",context.fillStyle=labelColor,context.fillText(label,32,41));const texture=new three_module.ROQ(canvas);return texture.encoding=gl.outputEncoding,texture.anisotropy=gl.capabilities.getMaxAnisotropy()||1,texture})),this.opacity$=this.select(this.select((s=>s.label)).pipe((0,src.Xb)()),(label=>label?1:.75)),this.scale$=this.select(this.select((s=>s.active)),this.select((s=>s.label)).pipe((0,src.Xb)()),this.select((s=>s.axisHeadScale)),((active,label,axisHeadScale)=>(label?1:.75)*(active?1.2:1)*axisHeadScale)),!this.gizmoHelper)throw new Error("<ngt-soba-gizmo-viewport> can only be used in <ngt-soba-gizmo-helper>")}set arcStyle(arcStyle){this.set({arcStyle})}set label(label){this.set({label})}set labelColor(labelColor){this.set({labelColor})}set axisHeadScale(axisHeadScale){this.set({axisHeadScale:(0,src.su)(axisHeadScale)})}set disabled(disabled){this.set({disabled:(0,src.Ig)(disabled)})}set font(font){this.set({font})}get raycast(){return this.gizmoHelper.get((s=>s.raycast))}preInit(){super.preInit(),this.set((state=>({axisHeadScale:state.axisHeadScale??1,active:!1})))}onPointerOut($event){this.disabled||(this.click.observed?this.click.emit($event):($event.stopPropagation(),this.set({active:!1})))}onPointerOver($event){this.disabled||($event.stopPropagation(),this.set({active:!0}))}onPointerDown($event){this.disabled||(this.gizmoHelper.tweenCamera($event.object.position),$event.stopPropagation())}};NgtSobaGizmoViewportAxisHead.ctorParameters=()=>[],NgtSobaGizmoViewportAxisHead.propDecorators={arcStyle:[{type:core.Input}],label:[{type:core.Input}],labelColor:[{type:core.Input}],axisHeadScale:[{type:core.Input}],disabled:[{type:core.Input}],font:[{type:core.Input}]},NgtSobaGizmoViewportAxisHead=NgtSobaGizmoViewportAxisHead_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-viewport-axis-head[arcStyle][labelColor][font], ngt-soba-gizmo-viewport-axis-head[ngtSobaGizmoViewportAxisHead]",standalone:!0,template:'\n    <ngt-sprite\n      [ngtObjectPassThrough]="this"\n      [scale]="(scale$ | async)!"\n      [raycast]="raycast"\n      (pointerout)="onPointerOut($event)"\n      (pointerover)="onPointerOver($event)"\n      (pointerdown)="onPointerDown($event)"\n    >\n      <ngt-sprite-material\n        [map]="texture$ | async"\n        [opacity]="opacity$ | async"\n        alphaTest="0.3"\n        toneMapped="false"\n      ></ngt-sprite-material>\n    </ngt-sprite>\n  ',imports:[NgtSprite,src.VL,materials_src.Ll,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaGizmoViewportAxisHead_1),(0,src.wY)(NgtSobaGizmoViewportAxisHead_1),(0,src.Hm)(NgtSobaGizmoViewportAxisHead_1)]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgtSobaGizmoViewportAxisHead);let NgtSobaGizmoViewportAxisHeadPassThrough=class NgtSobaGizmoViewportAxisHeadPassThrough{constructor(axisHead){this.axisHead=axisHead}set ngtSobaGizmoViewportAxisHead(wrapper){this.assertWrapper(wrapper),wrapper.select(wrapper.select((s=>s.labelColor)).pipe((0,src.Xb)()),wrapper.select((s=>s.font)).pipe((0,src.Xb)()),wrapper.select((s=>s.disabled)).pipe((0,src.Xb)()),wrapper.select((s=>s.axisHeadScale)).pipe((0,src.Xb)())).pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe((()=>{this.axisHead.labelColor=wrapper.labelColor,this.axisHead.font=wrapper.font,this.axisHead.disabled=wrapper.disabled,this.axisHead.axisHeadScale=wrapper.axisHeadScale})),wrapper.click.observed&&this.axisHead.click.pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe(wrapper.click.emit.bind(wrapper.click))}assertWrapper(wrapper){if(!(wrapper instanceof NgtSobaGizmoViewport))throw new Error("wrapper must be NgtSobaGizmoViewport")}};NgtSobaGizmoViewportAxisHeadPassThrough.ctorParameters=()=>[{type:NgtSobaGizmoViewportAxisHead,decorators:[{type:core.Self}]}],NgtSobaGizmoViewportAxisHeadPassThrough.propDecorators={ngtSobaGizmoViewportAxisHead:[{type:core.Input}]},NgtSobaGizmoViewportAxisHeadPassThrough=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSobaGizmoViewportAxisHead]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[NgtSobaGizmoViewportAxisHead])],NgtSobaGizmoViewportAxisHeadPassThrough);let NgtSobaGizmoViewport=NgtSobaGizmoViewport_1=class NgtSobaGizmoViewport extends src.Kw{set axisColors(axisColors){this.set({axisColors})}get axisColors(){return this.get((s=>s.axisColors))}set axisScale(axisScale){this.set({axisScale})}get axisScale(){return this.get((s=>s.axisScale))}set labels(labels){this.set({labels})}get labels(){return this.get((s=>s.labels))}set axisHeadScale(axisHeadScale){this.set({axisHeadScale:(0,src.su)(axisHeadScale)})}get axisHeadScale(){return this.get((s=>s.axisHeadScale))}set labelColor(labelColor){this.set({labelColor})}get labelColor(){return this.get((s=>s.labelColor))}set hideNegativeAxes(hideNegativeAxes){this.set({hideNegativeAxes:(0,src.Ig)(hideNegativeAxes)})}get hideNegativeAxes(){return this.get((s=>s.hideNegativeAxes))}set hideAxisHeads(hideAxisHeads){this.set({hideAxisHeads:(0,src.Ig)(hideAxisHeads)})}get hideAxisHeads(){return this.get((s=>s.hideAxisHeads))}set disabled(disabled){this.set({disabled:(0,src.Ig)(disabled)})}get disabled(){return this.get((s=>s.disabled))}set font(font){this.set({font})}get font(){return this.get((s=>s.font))}preInit(){super.preInit(),this.set((state=>({font:state.font??"18px Inter var, Arial, sans-serif",axisColors:state.axisColors??["#ff3653","#0adb50","#2c8fdf"],axisHeadScale:state.axisHeadScale??1,labels:state.labels??["X","Y","Z"],labelColor:state.labelColor??"#000"})))}};NgtSobaGizmoViewport.propDecorators={axisColors:[{type:core.Input}],axisScale:[{type:core.Input}],labels:[{type:core.Input}],axisHeadScale:[{type:core.Input}],labelColor:[{type:core.Input}],hideNegativeAxes:[{type:core.Input}],hideAxisHeads:[{type:core.Input}],disabled:[{type:core.Input}],font:[{type:core.Input}]},NgtSobaGizmoViewport=NgtSobaGizmoViewport_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gizmo-viewport",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this" [scale]="40">\n      <ngt-soba-gizmo-viewport-axis\n        [color]="axisColors[0]"\n        [rotation]="[0, 0, 0]"\n        [scale]="axisScale"\n      ></ngt-soba-gizmo-viewport-axis>\n      <ngt-soba-gizmo-viewport-axis\n        [color]="axisColors[1]"\n        [rotation]="[0, 0, 90 | radian]"\n        [scale]="axisScale"\n      ></ngt-soba-gizmo-viewport-axis>\n      <ngt-soba-gizmo-viewport-axis\n        [color]="axisColors[2]"\n        [rotation]="[0, -90 | radian, 0]"\n        [scale]="axisScale"\n      ></ngt-soba-gizmo-viewport-axis>\n\n      <ng-container *ngIf="!hideAxisHeads">\n        <ngt-soba-gizmo-viewport-axis-head\n          [arcStyle]="axisColors[0]"\n          [position]="[1, 0, 0]"\n          [label]="labels[0]"\n          [ngtSobaGizmoViewportAxisHead]="this"\n        ></ngt-soba-gizmo-viewport-axis-head>\n        <ngt-soba-gizmo-viewport-axis-head\n          [arcStyle]="axisColors[1]"\n          [position]="[0, 1, 0]"\n          [label]="labels[1]"\n          [ngtSobaGizmoViewportAxisHead]="this"\n        ></ngt-soba-gizmo-viewport-axis-head>\n        <ngt-soba-gizmo-viewport-axis-head\n          [arcStyle]="axisColors[2]"\n          [position]="[0, 0, 1]"\n          [label]="labels[2]"\n          [ngtSobaGizmoViewportAxisHead]="this"\n        ></ngt-soba-gizmo-viewport-axis-head>\n        <ng-container *ngIf="!hideNegativeAxes">\n          <ngt-soba-gizmo-viewport-axis-head\n            [arcStyle]="axisColors[0]"\n            [position]="[-1, 0, 0]"\n            [ngtSobaGizmoViewportAxisHead]="this"\n          ></ngt-soba-gizmo-viewport-axis-head>\n          <ngt-soba-gizmo-viewport-axis-head\n            [arcStyle]="axisColors[1]"\n            [position]="[0, -1, 0]"\n            [ngtSobaGizmoViewportAxisHead]="this"\n          ></ngt-soba-gizmo-viewport-axis-head>\n          <ngt-soba-gizmo-viewport-axis-head\n            [arcStyle]="axisColors[2]"\n            [position]="[0, 0, -1]"\n            [ngtSobaGizmoViewportAxisHead]="this"\n          ></ngt-soba-gizmo-viewport-axis-head>\n        </ng-container>\n      </ng-container>\n\n      <ngt-ambient-light intensity="0.5"></ngt-ambient-light>\n      <ngt-point-light [position]="10" intensity="0.5"></ngt-point-light>\n    </ngt-group>\n  ',imports:[group_src.U,src.VL,lights_src.wx,lights_src.HY,NgtSobaGizmoViewportAxis,NgtSobaGizmoViewportAxisHead,NgtSobaGizmoViewportAxisHeadPassThrough,src.j4,common.O5],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaGizmoViewport_1),(0,src.wY)(NgtSobaGizmoViewport_1),(0,src.Hm)(NgtSobaGizmoViewport_1)]})],NgtSobaGizmoViewport);let NgtSobaGizmoViewportModule=class NgtSobaGizmoViewportModule{};var NgtSobaGradientTexture_1;NgtSobaGizmoViewportModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaGizmoViewport],exports:[NgtSobaGizmoViewport]})],NgtSobaGizmoViewportModule);let NgtSobaGradientTexture=NgtSobaGradientTexture_1=class NgtSobaGradientTexture extends src.vf{set stops(stops){this.set({stops})}set colors(colors){this.set({colors})}set size(size){this.set({size:(0,src.su)(size)})}get textureType(){return three_module.xEZ}adjustCtorParams(instanceArgs){const{stops,colors,size}=this.get(),canvas=this.document.createElement("canvas"),context=canvas.getContext("2d");canvas.width=16,canvas.height=size;const gradient=context.createLinearGradient(0,0,0,size);let i=Math.min(stops.length,colors.length);for(;i--;)gradient.addColorStop(stops[i],colors[i]);return context.fillStyle=gradient,context.fillRect(0,0,16,size),[canvas,...instanceArgs]}get ctorParams$(){return this.select(this.select((s=>s.stops)),this.select((s=>s.colors)),this.instanceArgs$)}preInit(){this.set((state=>({size:state.size||1024,attach:state.attach.length?state.attach:["map"]})))}};NgtSobaGradientTexture.propDecorators={stops:[{type:core.Input}],colors:[{type:core.Input}],size:[{type:core.Input}]},NgtSobaGradientTexture=NgtSobaGradientTexture_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-gradient-texture[stops][colors]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RP)(NgtSobaGradientTexture_1),(0,src.O4)(NgtSobaGradientTexture_1)]})],NgtSobaGradientTexture);let NgtSobaGradientTextureModule=class NgtSobaGradientTextureModule{};NgtSobaGradientTextureModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaGradientTexture],exports:[NgtSobaGradientTexture]})],NgtSobaGradientTextureModule);var NgtSobaImage_1,loaders_src=__webpack_require__("./libs/soba/loaders/src/index.ts"),shaders_src=__webpack_require__("./libs/soba/shaders/src/index.ts"),switchMap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),catchError=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),empty=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/empty.js");let NgtSobaImageContent=class NgtSobaImageContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaImageContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaImageContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-image-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaImageContent);let NgtSobaImage=NgtSobaImage_1=class NgtSobaImage extends src.Kw{constructor(){super(...arguments),this.beforeRender=new core.EventEmitter,this.planeBounds=[1,1],this.textureLoader=(0,core.inject)(loaders_src.Wt),this.imageViewModel$=this.select(this.select((s=>s.texture)),this.select((s=>s.zoom)),this.select((s=>s.color)),this.select((s=>s.segments)),this.select((s=>s.scale)),this.select((s=>s.grayscale)),this.select((s=>s.toneMapped)).pipe((0,src.Xb)()),((texture,zoom,color,segments,scale,grayscale,toneMapped)=>({texture,zoom,color,segments,grayscale,toneMapped,planeBounds:[scale.x,scale.y],imageBounds:[texture.image.width,texture.image.height]}))),this.setTexture=this.effect((0,switchMap.w)((url=>this.textureLoader.load(url).pipe((0,tap.b)((texture=>{const gl=this.store.get((s=>s.gl));texture.encoding=gl.outputEncoding,this.set({texture})})),(0,catchError.K)((()=>empty.E))))))}set url(url){this.set({url})}set segments(segments){this.set({segments:(0,src.su)(segments)})}set zoom(zoom){this.set({zoom:(0,src.su)(zoom)})}set grayscale(grayscale){this.set({grayscale:(0,src.su)(grayscale)})}set toneMapped(toneMapped){this.set({toneMapped:(0,src.Ig)(toneMapped)})}preInit(){this.set((state=>({segments:state.segments??1,zoom:state.zoom??1,grayscale:state.grayscale??0})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setTexture(this.select((s=>s.url)))}))}))}};NgtSobaImage.propDecorators={beforeRender:[{type:core.Output}],url:[{type:core.Input}],segments:[{type:core.Input}],zoom:[{type:core.Input}],grayscale:[{type:core.Input}],toneMapped:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaImageContent]}]},NgtSobaImage=NgtSobaImage_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-image[url]",standalone:!0,template:'\n    <ng-container *ngIf="imageViewModel$ | async as imageViewModel">\n      <ngt-plane-geometry\n        noAttach\n        #ngtPlane\n        [args]="[1, 1, imageViewModel.segments, imageViewModel.segments]"\n      ></ngt-plane-geometry>\n\n      <ngt-soba-image-shader-material\n        #ngtMaterial\n        [color]="color!"\n        [map]="imageViewModel.texture"\n        [zoom]="imageViewModel.zoom!"\n        [grayscale]="imageViewModel.grayscale!"\n        [scale]="imageViewModel.planeBounds"\n        [imageBounds]="imageViewModel.imageBounds"\n        [toneMapped]="imageViewModel.toneMapped!"\n      ></ngt-soba-image-shader-material>\n\n      <ngt-mesh\n        (beforeRender)="beforeRender.emit($event)"\n        [material]="$any(ngtMaterial.instance)"\n        [geometry]="$any(ngtPlane.instance)"\n        [ngtObjectPassThrough]="this"\n      >\n        <ng-container\n          *ngIf="content"\n          [ngTemplateOutlet]="content.templateRef"\n          [ngTemplateOutletContext]="{ image: instance }"\n        ></ng-container>\n      </ngt-mesh>\n    </ng-container>\n  ',imports:[meshes_src.oX,src.VL,geometries_src.U4,shaders_src.oG,common.O5,common.tP,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[loaders_src.Wt,(0,src.RD)(NgtSobaImage_1),(0,src.wY)(NgtSobaImage_1),(0,src.Hm)(NgtSobaImage_1)]})],NgtSobaImage);let NgtSobaImageModule=class NgtSobaImageModule{};var NgtSobaQuadraticBezierLine_1;NgtSobaImageModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaImage,NgtSobaImageContent],exports:[NgtSobaImage,NgtSobaImageContent]})],NgtSobaImageModule);const v=new three_module.Pa4;let NgtSobaQuadraticBezierLine=NgtSobaQuadraticBezierLine_1=class NgtSobaQuadraticBezierLine extends NgtSobaLine{constructor(){super(...arguments),this.shouldPassThroughRef=!1,this.quadraticBezierPoints$=this.select(this.select((s=>s.start)),this.select((s=>s.end)),this.select((s=>s.mid)).pipe((0,src.Xb)()),this.select((s=>s.segments)),((start,end,mid,segments)=>this.getPoints(start,end,mid,segments))),this.quadraticLineViewModel$=this.select(this.quadraticBezierPoints$,this.select((s=>s.vertexColors)),this.select((s=>s.resolution)),this.select((s=>s.dashed)),this.select((s=>s.color)),this.select((s=>s.lineWidth)),((points,vertexColors,resolution,dashed,color,lineWidth)=>({points,vertexColors,resolution,dashed,color,lineWidth}))),this.setLineSetPoints=this.effect((0,tap.b)((()=>{const lineRef=this.get((s=>s.instance));lineRef.value&&(lineRef.value.setPoints=(start,end,mid)=>{const points=this.getPoints(start,end,mid);lineRef.value.geometry&&lineRef.value.geometry.setPositions(points.map((p=>p.toArray())).flat())})}))),this.curve=new three_module.mXe(new three_module.Pa4,new three_module.Pa4,new three_module.Pa4)}set start(start){this.set({start})}set end(end){this.set({end})}set mid(mid){this.set({mid})}set segments(segments){this.set({segments:(0,src.su)(segments)})}preInit(){super.preInit(),this.set((state=>({start:state.start??[0,0,0],end:state.end??[0,0,0],segments:state.segments??20})))}postInit(){super.postInit(),this.setLineSetPoints(this.instance)}getPoints(start,end,mid,segments=20){return src.is.vector3(start)?this.curve.v0.copy(start):this.curve.v0.set(...start),src.is.vector3(end)?this.curve.v2.copy(end):this.curve.v2.set(...end),src.is.vector3(mid)?this.curve.v1.copy(mid):this.curve.v1.copy(this.curve.v0.clone().add(this.curve.v2.clone().sub(this.curve.v0)).add(v.set(0,this.curve.v0.y-this.curve.v2.y,0))),this.curve.getPoints(segments)}};NgtSobaQuadraticBezierLine.propDecorators={start:[{type:core.Input}],end:[{type:core.Input}],mid:[{type:core.Input}],segments:[{type:core.Input}]},NgtSobaQuadraticBezierLine=NgtSobaQuadraticBezierLine_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-quadratic-bezier-line",standalone:!0,template:'\n    <ngt-soba-line\n      *ngIf="quadraticLineViewModel$ | async as quadraticLineViewModel"\n      (beforeRender)="beforeRender.emit($event)"\n      [points]="quadraticLineViewModel.points"\n      [vertexColors]="quadraticLineViewModel.vertexColors"\n      [resolution]="quadraticLineViewModel.resolution"\n      [dashed]="quadraticLineViewModel.dashed"\n      [color]="quadraticLineViewModel.color"\n      [lineWidth]="quadraticLineViewModel.lineWidth"\n      [ngtObjectPassThrough]="this"\n    >\n      <ng-container *ngIf="content">\n        <ng-template ngt-soba-line-content let-line="line">\n          <ng-container [ngTemplateOutlet]="content.templateRef" [ngTemplateOutletContext]="{line}"></ng-container>\n        </ng-template>\n      </ng-container>\n    </ngt-soba-line>\n  ',imports:[NgtSobaLine,src.VL,NgtSobaLineContent,common.O5,common.Ov,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaQuadraticBezierLine_1),(0,src.wY)(NgtSobaQuadraticBezierLine_1),(0,src.Hm)(NgtSobaQuadraticBezierLine_1)]})],NgtSobaQuadraticBezierLine);let NgtSobaQuadraticBezierLineModule=class NgtSobaQuadraticBezierLineModule{};NgtSobaQuadraticBezierLineModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaQuadraticBezierLine],exports:[NgtSobaQuadraticBezierLine]})],NgtSobaQuadraticBezierLineModule);var NgtSobaText_1,troika_three_text_esm=__webpack_require__("./node_modules/.pnpm/troika-three-text@0.46.4_three@0.142.0/node_modules/troika-three-text/dist/troika-three-text.esm.js");let NgtSobaTextContent=class NgtSobaTextContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaTextContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaTextContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-text-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaTextContent);let NgtSobaText=NgtSobaText_1=class NgtSobaText extends src.Kw{constructor(){super(...arguments),this.beforeRender=new core.EventEmitter,this.sync=new core.EventEmitter,this.init=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,src.oe)((()=>{const material=this.get((s=>s.material));return material&&(this.textMesh.value.material=src.is.ref(material)?material.value:material,this.textMesh.value.sync()),(material||this.commonMaterial)&&delete this.textMesh.value.color,()=>{this.textMesh.value.dispose()}})))),this.preloadFont=this.effect((0,tap.b)((()=>{const{font,characters}=this.get();font&&characters&&(0,troika_three_text_esm.C5)({font,characters})})))}set text(text){this.set({text})}set characters(characters){this.set({characters})}set fontSize(fontSize){this.set({fontSize:(0,src.su)(fontSize)})}set maxWidth(maxWidth){this.set({maxWidth:(0,src.su)(maxWidth)})}set lineHeight(lineHeight){this.set({lineHeight:(0,src.su)(lineHeight)})}set letterSpacing(letterSpacing){this.set({letterSpacing:(0,src.su)(letterSpacing)})}set textAlign(textAlign){this.set({textAlign})}set font(font){this.set({font})}set anchorX(anchorX){this.set({anchorX})}set anchorY(anchorY){this.set({anchorY})}set clipRect(clipRect){this.set({clipRect})}set depthOffset(depthOffset){this.set({depthOffset:(0,src.su)(depthOffset)})}set direction(direction){this.set({direction})}set overflowWrap(overflowWrap){this.set({overflowWrap})}set whiteSpace(whiteSpace){this.set({whiteSpace})}set outlineWidth(outlineWidth){this.set({outlineWidth:(0,src.su)(outlineWidth,outlineWidth)})}set outlineOffsetX(outlineOffsetX){this.set({outlineOffsetX:(0,src.su)(outlineOffsetX,outlineOffsetX)})}set outlineOffsetY(outlineOffsetY){this.set({outlineOffsetY:(0,src.su)(outlineOffsetY,outlineOffsetY)})}set outlineBlur(outlineBlur){this.set({outlineBlur:(0,src.su)(outlineBlur,outlineBlur)})}set outlineColor(outlineColor){this.set({outlineColor})}set outlineOpacity(outlineOpacity){this.set({outlineOpacity:(0,src.su)(outlineOpacity)})}set strokeWidth(strokeWidth){this.set({strokeWidth:(0,src.su)(strokeWidth,strokeWidth)})}set strokeColor(strokeColor){this.set({strokeColor})}set strokeOpacity(strokeOpacity){this.set({strokeOpacity:(0,src.su)(strokeOpacity)})}set fillOpacity(fillOpacity){this.set({fillOpacity:(0,src.su)(fillOpacity)})}set debugSDF(debugSDF){this.set({debugSDF:(0,src.Ig)(debugSDF)})}set material(material){this.set({material})}get textMesh(){return this.get((s=>s.textMesh))}preInit(){this.set((state=>({textMesh:new src.Rl(new troika_three_text_esm.xv),anchorX:state.anchorX||"center",anchorY:state.anchorY||"middle",text:state.text||""})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.preloadFont(this.select(this.select((s=>s.fonts)),this.select((s=>s.characters))))})),this.store.onReady((()=>{this.init()}))}postSetOptions(textMesh){const invalidate=this.store.get((s=>s.invalidate));textMesh.sync((()=>{invalidate(),this.sync.observed&&this.sync.emit(textMesh)}))}get optionFields(){return{...super.optionFields,text:!1,characters:!0,fontSize:!0,maxWidth:!0,lineHeight:!0,letterSpacing:!0,textAlign:!0,font:!0,anchorX:!1,anchorY:!1,clipRect:!0,depthOffset:!0,direction:!0,overflowWrap:!0,whiteSpace:!0,outlineWidth:!0,outlineOffsetX:!0,outlineOffsetY:!0,outlineBlur:!0,outlineColor:!0,outlineOpacity:!0,strokeWidth:!0,strokeColor:!0,strokeOpacity:!0,fillOpacity:!0,debugSDF:!0}}};NgtSobaText.propDecorators={text:[{type:core.Input}],characters:[{type:core.Input}],fontSize:[{type:core.Input}],maxWidth:[{type:core.Input}],lineHeight:[{type:core.Input}],letterSpacing:[{type:core.Input}],textAlign:[{type:core.Input}],font:[{type:core.Input}],anchorX:[{type:core.Input}],anchorY:[{type:core.Input}],clipRect:[{type:core.Input}],depthOffset:[{type:core.Input}],direction:[{type:core.Input}],overflowWrap:[{type:core.Input}],whiteSpace:[{type:core.Input}],outlineWidth:[{type:core.Input}],outlineOffsetX:[{type:core.Input}],outlineOffsetY:[{type:core.Input}],outlineBlur:[{type:core.Input}],outlineColor:[{type:core.Input}],outlineOpacity:[{type:core.Input}],strokeWidth:[{type:core.Input}],strokeColor:[{type:core.Input}],strokeOpacity:[{type:core.Input}],fillOpacity:[{type:core.Input}],debugSDF:[{type:core.Input}],material:[{type:core.Input}],beforeRender:[{type:core.Output}],sync:[{type:core.Output}],content:[{type:core.ContentChild,args:[NgtSobaTextContent]}],commonMaterial:[{type:core.ContentChild,args:[src.hZ]}]},NgtSobaText=NgtSobaText_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-text[text]",standalone:!0,template:'\n    <ngt-primitive [object]="textMesh" (beforeRender)="beforeRender.emit($event)" [ngtObjectPassThrough]="this">\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ textMesh: instance }"\n      ></ng-container>\n    </ngt-primitive>\n  ',imports:[primitive_src.U,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaText_1),(0,src.wY)(NgtSobaText_1,(text=>text.textMesh)),(0,src.Hm)(NgtSobaText_1)]})],NgtSobaText);let NgtSobaTextModule=class NgtSobaTextModule{};NgtSobaTextModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaText,NgtSobaTextContent],exports:[NgtSobaText,NgtSobaTextContent]})],NgtSobaTextModule);var FontLoader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/loaders/FontLoader.js"),TextGeometry=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/geometries/TextGeometry.js");let NgtSobaText3d=class NgtSobaText3d{constructor(){this._text="",this._fontUrl="",this._size=2,this._height=.5,this._curveSegments=2,this._bevelEnabled=!1,this._bevelThickness=.1,this._bevelSize=.1,this._bevelOffset=0,this._center=!0,this._position=new three_module.Pa4,this._rotation=new three_module.USm,this._scale=new three_module.Pa4(1,1,1),this.material=new three_module.vBJ}get text(){return this._text}set text(newvalue){newvalue!=this._text&&(this._text=newvalue,this.refreshtext())}get fontUrl(){return this._fontUrl}set fontUrl(newvalue){if(newvalue&&newvalue!=this._fontUrl){this._fontUrl=newvalue;(new FontLoader.J).load(newvalue,(font=>{this.font=font,this.refreshtext()}),(_=>{}),(err=>{console.error(err)}))}}get size(){return this._size}set size(newvalue){newvalue!=this._size&&(this._size=newvalue,this.refreshtext())}get height(){return this._height}set height(newvalue){newvalue!=this._height&&(this._height=newvalue,this.refreshtext())}get curveSegments(){return this._curveSegments}set curveSegments(newvalue){newvalue!=this._curveSegments&&(this._curveSegments=newvalue,this.refreshtext())}get bevelEnabled(){return this._bevelEnabled}set bevelEnabled(newvalue){newvalue!=this._bevelEnabled&&(this._bevelEnabled=newvalue,this.refreshtext())}get bevelThickness(){return this._bevelThickness}set bevelThickness(newvalue){newvalue!=this._bevelThickness&&(this._bevelThickness=newvalue,this.refreshtext())}get bevelSize(){return this._bevelSize}set bevelSize(newvalue){newvalue!=this._bevelSize&&(this._bevelSize=newvalue,this.refreshtext())}get bevelOffset(){return this._bevelOffset}set bevelOffset(newvalue){newvalue!=this._bevelOffset&&(this._bevelOffset=newvalue,this.refreshtext())}get center(){return this._center}set center(newvalue){newvalue!=this._center&&(this._center=newvalue,this.refreshtext())}set position(position){this._position=(0,src.Sy)(three_module.Pa4,position)}get position(){return this._position}set rotation(rotation){this._rotation=(0,src.Sy)(three_module.USm,rotation)}get rotation(){return this._rotation}set scale(scale){this._scale=(0,src.Sy)(three_module.Pa4,scale)}get scale(){return this._scale}ready(group){this.group=group}refreshtext(){if(!this.font)return;this.lastMesh&&this.group.remove(this.lastMesh);const textGeo=new TextGeometry.M(this.text,{font:this.font,size:this.size,height:this.height,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset});let centerOffset=0;if(this.center){textGeo.computeBoundingBox();const boundingBox=textGeo.boundingBox??new three_module.ZzF;centerOffset=-.5*(boundingBox.max.x-boundingBox.min.x)}const mesh=new three_module.Kj0(textGeo,this.material);mesh.position.set(this.position.x+centerOffset,this.position.y,this.position.z),mesh.rotation.copy(this.rotation),mesh.scale.copy(this.scale),this.group.add(mesh),this.lastMesh=mesh}};NgtSobaText3d.propDecorators={text:[{type:core.Input}],fontUrl:[{type:core.Input}],size:[{type:core.Input}],height:[{type:core.Input}],curveSegments:[{type:core.Input}],bevelEnabled:[{type:core.Input}],bevelThickness:[{type:core.Input}],bevelSize:[{type:core.Input}],bevelOffset:[{type:core.Input}],center:[{type:core.Input}],position:[{type:core.Input}],rotation:[{type:core.Input}],scale:[{type:core.Input}],material:[{type:core.Input}]},NgtSobaText3d=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-text3d[fontUrl]",standalone:!0,template:'\n    <ngt-group (ready)="ready($event)" [position]="position" [scale]="scale" [rotation]="rotation"></ngt-group>\n  ',imports:[group_src.U],changeDetection:core.ChangeDetectionStrategy.OnPush})],NgtSobaText3d);let NgtSobaText3dModule=class NgtSobaText3dModule{};NgtSobaText3dModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaText3d],exports:[NgtSobaText3d]})],NgtSobaText3dModule)},"./libs/soba/cameras/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Xm:()=>NgtSobaOrthographicCamera,MY:()=>NgtSobaPerspectiveCameraModule});var NgtSobaOrthographicCamera_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),cameras_src=__webpack_require__("./libs/core/cameras/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs");let NgtSobaOrthographicCamera=NgtSobaOrthographicCamera_1=class NgtSobaOrthographicCamera extends cameras_src.pB{constructor(){super(...arguments),this.setDefaultCamera=this.effect((0,src.oe)((()=>{const camera=this.store.get((s=>s.camera)),cameraRef=this.store.get((s=>s.cameraRef)),makeDefault=this.get((s=>s.makeDefault));if(this.instance.value&&makeDefault){const oldCamera=camera;return this.store.set({camera:this.instance.value}),cameraRef.set(this.instance.value),()=>{this.store.set({camera:oldCamera}),cameraRef.set(oldCamera)}}})))}set makeDefault(makeDefault){this.set({makeDefault:(0,src.Ig)(makeDefault)})}set manual(manual){this.set({manual:(0,src.Ig)(manual)})}get preObjectInit(){return initFn=>{const size=this.store.get((s=>s.size));this.set((state=>({left:size.width/-2,right:size.width/2,top:size.height/2,bottom:size.height/-2,near:state.near,far:state.far}))),initFn()}}get setOptionsTrigger$(){return this.select((s=>s.manual)).pipe((0,src.Xb)())}postSetOptions(camera){this.get((s=>s.manual))||camera.updateProjectionMatrix()}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setDefaultCamera(this.select(this.instance$,this.select((s=>s.makeDefault))))}))}))}};NgtSobaOrthographicCamera.propDecorators={makeDefault:[{type:core.Input}],manual:[{type:core.Input}]},NgtSobaOrthographicCamera=NgtSobaOrthographicCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-orthographic-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtSobaOrthographicCamera_1),(0,src.dF)(NgtSobaOrthographicCamera_1)]})],NgtSobaOrthographicCamera);let NgtSobaOrthographicCameraModule=class NgtSobaOrthographicCameraModule{};var NgtSobaPerspectiveCamera_1;NgtSobaOrthographicCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaOrthographicCamera],exports:[NgtSobaOrthographicCamera]})],NgtSobaOrthographicCameraModule);let NgtSobaPerspectiveCamera=NgtSobaPerspectiveCamera_1=class NgtSobaPerspectiveCamera extends cameras_src.$A{constructor(){super(...arguments),this.setDefaultCamera=this.effect((0,src.oe)((()=>{const camera=this.store.get((s=>s.camera)),cameraRef=this.store.get((s=>s.cameraRef)),makeDefault=this.get((s=>s.makeDefault));if(this.instance.value&&makeDefault){const oldCamera=camera;return this.store.set({camera:this.instance.value}),cameraRef.set(this.instance.value),()=>{this.store.set({camera:oldCamera}),cameraRef.set(oldCamera)}}})))}set makeDefault(makeDefault){this.set({makeDefault:(0,src.Ig)(makeDefault)})}set manual(manual){this.set({manual:(0,src.Ig)(manual)})}get setOptionsTrigger$(){return this.select(this.select((s=>s.manual)).pipe((0,src.Xb)()),this.store.select((s=>s.size)))}postSetOptions(camera){const manual=this.get((s=>s.manual)),size=this.store.get((s=>s.size));manual||(camera.aspect=size.width/size.height,camera.updateProjectionMatrix())}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setDefaultCamera(this.select(this.instance$,this.select((s=>s.makeDefault))))}))}))}};NgtSobaPerspectiveCamera.propDecorators={makeDefault:[{type:core.Input}],manual:[{type:core.Input}]},NgtSobaPerspectiveCamera=NgtSobaPerspectiveCamera_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-perspective-camera",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.hS)(NgtSobaPerspectiveCamera_1),(0,src.dF)(NgtSobaPerspectiveCamera_1)]})],NgtSobaPerspectiveCamera);let NgtSobaPerspectiveCameraModule=class NgtSobaPerspectiveCameraModule{};NgtSobaPerspectiveCameraModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaPerspectiveCamera],exports:[NgtSobaPerspectiveCamera]})],NgtSobaPerspectiveCameraModule)},"./libs/soba/controls/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{NP:()=>NgtSobaFirstPersonControlsModule,Li:()=>NgtSobaOrbitControlsModule,gH:()=>NgtSobaTransformControlsModule});var NgtSobaOrbitControls_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js"),OrbitControls=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/controls/OrbitControls.js");let NgtSobaOrbitControls=NgtSobaOrbitControls_1=class NgtSobaOrbitControls extends src.WZ{constructor(){super(...arguments),this.change=new core.EventEmitter,this.start=new core.EventEmitter,this.end=new core.EventEmitter,this.init=this.effect((0,tap.b)((()=>{const camera=this.get((s=>s.camera));camera&&this.prepareInstance(new OrbitControls.z(camera))}))),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({priority:-1,callback:()=>{this.instance.value.enabled&&this.instance.value.update()}})))),this.connectDomElement=this.effect((0,src.oe)((()=>{const domElement=this.get((s=>s.domElement))||this.store.get((s=>s.events.connected))||this.store.get((s=>s.gl.domElement));return this.instance.value.connect(domElement),()=>{this.instance.value.dispose()}}))),this.setEvents=this.effect((0,src.oe)((()=>{const{invalidate,performance}=this.store.get(),regress=this.get((s=>s.regress)),changeCallback=e=>{invalidate(),regress&&performance.regress(),this.change.observed&&this.change.emit(e)};let startCallback,endCallback;return this.instance.value.addEventListener("change",changeCallback),this.start.observed&&(startCallback=event=>{this.start.emit(event)},this.instance.value.addEventListener("start",startCallback)),this.end.observed&&(endCallback=event=>{this.end.emit(event)},this.instance.value.addEventListener("end",endCallback)),()=>{this.instance.value.removeEventListener("change",changeCallback),endCallback&&this.instance.value.removeEventListener("end",endCallback),startCallback&&this.instance.value.removeEventListener("start",startCallback)}}))),this.setDefaultControls=this.effect((0,src.oe)((()=>{if(this.get((s=>s.makeDefault))){const oldControls=this.store.get((s=>s.controls));return this.store.set({controls:this.instance.value}),()=>{this.store.set({controls:oldControls})}}})))}set enabled(enabled){this.set({enabled:(0,src.Ig)(enabled)})}set camera(camera){this.set({camera})}set domElement(domElement){this.set({domElement})}set makeDefault(makeDefault){this.set({makeDefault:(0,src.Ig)(makeDefault)})}set regress(regress){this.set({regress:(0,src.Ig)(regress)})}set target(target){this.set({target})}set enableDamping(enableDamping){this.set({enableDamping:(0,src.Ig)(enableDamping)})}set minDistance(minDistance){this.set({minDistance:(0,src.su)(minDistance)})}set maxDistance(maxDistance){this.set({maxDistance:(0,src.su)(maxDistance)})}set minZoom(minZoom){this.set({minZoom:(0,src.su)(minZoom)})}set maxZoom(maxZoom){this.set({maxZoom:(0,src.su)(maxZoom)})}set minPolarAngle(minPolarAngle){this.set({minPolarAngle:(0,src.su)(minPolarAngle)})}set maxPolarAngle(maxPolarAngle){this.set({maxPolarAngle:(0,src.su)(maxPolarAngle)})}set minAzimuthAngle(minAzimuthAngle){this.set({minAzimuthAngle:(0,src.su)(minAzimuthAngle)})}set maxAzimuthAngle(maxAzimuthAngle){this.set({maxAzimuthAngle:(0,src.su)(maxAzimuthAngle)})}set dampingFactor(dampingFactor){this.set({dampingFactor:(0,src.su)(dampingFactor)})}set enableZoom(enableZoom){this.set({enableZoom:(0,src.Ig)(enableZoom)})}set zoomSpeed(zoomSpeed){this.set({zoomSpeed:(0,src.su)(zoomSpeed)})}set enableRotate(enableRotate){this.set({enableRotate:(0,src.Ig)(enableRotate)})}set rotateSpeed(rotateSpeed){this.set({rotateSpeed:(0,src.su)(rotateSpeed)})}set enablePan(enablePan){this.set({enablePan:(0,src.Ig)(enablePan)})}set panSpeed(panSpeed){this.set({panSpeed:(0,src.su)(panSpeed)})}set screenSpacePanning(screenSpacePanning){this.set({screenSpacePanning:(0,src.Ig)(screenSpacePanning)})}set keyPanSpeed(keyPanSpeed){this.set({keyPanSpeed:(0,src.su)(keyPanSpeed)})}set autoRotate(autoRotate){this.set({autoRotate:(0,src.Ig)(autoRotate)})}set autoRotateSpeed(autoRotateSpeed){this.set({autoRotateSpeed:(0,src.su)(autoRotateSpeed)})}set reverseOrbit(reverseOrbit){this.set({reverseOrbit:(0,src.Ig)(reverseOrbit)})}set keys(keys){this.set({keys})}set mouseButtons(mouseButtons){this.set({mouseButtons})}set touches(touches){this.set({touches})}preInit(){this.set((state=>({enabled:state.enabled??!0,enableDamping:state.enableDamping??!0,domElement:state.domElement??this.store.get((s=>s.events.connected))??this.store.get((s=>s.gl.domElement))})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.get((s=>s.camera))||this.set(this.store.select((s=>s.camera)).pipe((0,map.U)((camera=>({camera}))))),this.init(this.select((s=>s.camera))),this.setBeforeRender(),this.connectDomElement(this.select(this.instance$,this.select((s=>s.domElement)))),this.setEvents(this.instance$),this.setDefaultControls(this.select(this.instance$,this.select((s=>s.makeDefault))))}))}))}get optionFields(){return{...super.optionFields,enabled:!1,target:!0,enableDamping:!1,minDistance:!0,maxDistance:!0,minZoom:!0,maxZoom:!0,minPolarAngle:!0,maxPolarAngle:!0,minAzimuthAngle:!0,maxAzimuthAngle:!0,dampingFactor:!0,enableZoom:!0,zoomSpeed:!0,enableRotate:!0,rotateSpeed:!0,enablePan:!0,panSpeed:!0,screenSpacePanning:!0,keyPanSpeed:!0,autoRotate:!0,autoRotateSpeed:!0,reverseOrbit:!0,keys:!0,mouseButtons:!0,touches:!0}}};NgtSobaOrbitControls.propDecorators={enabled:[{type:core.Input}],camera:[{type:core.Input}],domElement:[{type:core.Input}],makeDefault:[{type:core.Input}],regress:[{type:core.Input}],target:[{type:core.Input}],enableDamping:[{type:core.Input}],minDistance:[{type:core.Input}],maxDistance:[{type:core.Input}],minZoom:[{type:core.Input}],maxZoom:[{type:core.Input}],minPolarAngle:[{type:core.Input}],maxPolarAngle:[{type:core.Input}],minAzimuthAngle:[{type:core.Input}],maxAzimuthAngle:[{type:core.Input}],dampingFactor:[{type:core.Input}],enableZoom:[{type:core.Input}],zoomSpeed:[{type:core.Input}],enableRotate:[{type:core.Input}],rotateSpeed:[{type:core.Input}],enablePan:[{type:core.Input}],panSpeed:[{type:core.Input}],screenSpacePanning:[{type:core.Input}],keyPanSpeed:[{type:core.Input}],autoRotate:[{type:core.Input}],autoRotateSpeed:[{type:core.Input}],reverseOrbit:[{type:core.Input}],keys:[{type:core.Input}],mouseButtons:[{type:core.Input}],touches:[{type:core.Input}],change:[{type:core.Output}],start:[{type:core.Output}],end:[{type:core.Output}]},NgtSobaOrbitControls=NgtSobaOrbitControls_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-orbit-controls",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtSobaOrbitControls_1),(0,src.UV)(NgtSobaOrbitControls_1)]})],NgtSobaOrbitControls);let NgtSobaOrbitControlsModule=class NgtSobaOrbitControlsModule{};NgtSobaOrbitControlsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaOrbitControls],exports:[NgtSobaOrbitControls]})],NgtSobaOrbitControlsModule);var NgtSobaFirstPersonControls_1,FirstPersonControls=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/controls/FirstPersonControls.js");let NgtSobaFirstPersonControls=NgtSobaFirstPersonControls_1=class NgtSobaFirstPersonControls extends src.WZ{constructor(){super(...arguments),this.init=this.effect((0,tap.b)((()=>{const camera=this.store.get((s=>s.camera)),domElement=this.get((s=>s.domElement));this.prepareInstance(new FirstPersonControls.o(camera,domElement))}))),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({priority:-1,callback:({delta})=>{this.instance.value.enabled&&this.instance.value.update(delta)}}))))}set domElement(domElement){this.set({domElement})}set enabled(enabled){this.set({enabled:(0,src.Ig)(enabled)})}set movementSpeed(movementSpeed){this.set({movementSpeed:(0,src.su)(movementSpeed)})}set lookSpeed(lookSpeed){this.set({lookSpeed:(0,src.su)(lookSpeed)})}set lookVertical(lookVertical){this.set({lookVertical:(0,src.Ig)(lookVertical)})}set autoForward(autoForward){this.set({autoForward:(0,src.Ig)(autoForward)})}set activeLook(activeLook){this.set({activeLook:(0,src.Ig)(activeLook)})}set heightSpeed(heightSpeed){this.set({heightSpeed:(0,src.Ig)(heightSpeed)})}set heightCoef(heightCoef){this.set({heightCoef:(0,src.su)(heightCoef)})}set heightMin(heightMin){this.set({heightMin:(0,src.su)(heightMin)})}set heightMax(heightMax){this.set({heightMax:(0,src.su)(heightMax)})}set constrainVertical(constrainVertical){this.set({constrainVertical:(0,src.Ig)(constrainVertical)})}set verticalMin(verticalMin){this.set({verticalMin:(0,src.su)(verticalMin)})}set verticalMax(verticalMax){this.set({verticalMax:(0,src.su)(verticalMax)})}set mouseDragOn(mouseDragOn){this.set({mouseDragOn:(0,src.Ig)(mouseDragOn)})}preInit(){super.preInit(),this.set((state=>({enabled:state.enabled??!0,domElement:state.domElement??this.store.get((s=>s.events.connected))??this.store.get((s=>s.gl.domElement))})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.store.select((s=>s.camera))),this.setBeforeRender(this.instance$)}))}))}get optionFields(){return{...super.optionFields,enabled:!1,movementSpeed:!0,lookSpeed:!0,lookVertical:!0,autoForward:!0,activeLook:!0,heightSpeed:!0,heightCoef:!0,heightMin:!0,heightMax:!0,constrainVertical:!0,verticalMin:!0,verticalMax:!0,mouseDragOn:!0}}};NgtSobaFirstPersonControls.propDecorators={domElement:[{type:core.Input}],enabled:[{type:core.Input}],movementSpeed:[{type:core.Input}],lookSpeed:[{type:core.Input}],lookVertical:[{type:core.Input}],autoForward:[{type:core.Input}],activeLook:[{type:core.Input}],heightSpeed:[{type:core.Input}],heightCoef:[{type:core.Input}],heightMin:[{type:core.Input}],heightMax:[{type:core.Input}],constrainVertical:[{type:core.Input}],verticalMin:[{type:core.Input}],verticalMax:[{type:core.Input}],mouseDragOn:[{type:core.Input}]},NgtSobaFirstPersonControls=NgtSobaFirstPersonControls_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-first-person-controls",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtSobaFirstPersonControls_1),(0,src.UV)(NgtSobaFirstPersonControls_1)]})],NgtSobaFirstPersonControls);let NgtSobaFirstPersonControlsModule=class NgtSobaFirstPersonControlsModule{};NgtSobaFirstPersonControlsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaFirstPersonControls],exports:[NgtSobaFirstPersonControls]})],NgtSobaFirstPersonControlsModule);var NgtSobaFlyControls_1,FlyControls=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/controls/FlyControls.js");let NgtSobaFlyControls=NgtSobaFlyControls_1=class NgtSobaFlyControls extends src.WZ{constructor(){super(...arguments),this.change=new core.EventEmitter,this.init=this.effect((0,tap.b)((()=>{const camera=this.store.get((s=>s.camera)),domElement=this.get((s=>s.domElement));this.prepareInstance(new FlyControls.m(camera,domElement))}))),this.setup=this.effect((0,src.oe)((()=>{const unregister=this.store.registerBeforeRender({callback:({delta})=>{this.instance.value?.update(delta)}}),callback=event=>{this.store.get((s=>s.invalidate))(),this.change.observed&&this.change.emit(event)};return this.instance.value?.addEventListener("change",callback),()=>{unregister(),this.instance.value?.removeEventListener("change",callback)}})))}set domElement(domElement){this.set({domElement})}set movementSpeed(movementSpeed){this.set({movementSpeed:(0,src.su)(movementSpeed)})}set rollSpeed(rollSpeed){this.set({rollSpeed:(0,src.su)(rollSpeed)})}set dragToLook(dragToLook){this.set({dragToLook:(0,src.Ig)(dragToLook)})}set autoForward(autoForward){this.set({autoForward:(0,src.Ig)(autoForward)})}preInit(){super.preInit(),this.set((state=>({domElement:state.domElement??this.store.get((s=>s.events.connected))??this.store.get((s=>s.gl.domElement))})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.store.select((s=>s.camera))),this.setup(this.instance$)}))}))}get optionFields(){return{...super.optionFields,movementSpeed:!0,rollSpeed:!0,dragToLook:!0,autoForward:!0}}};NgtSobaFlyControls.propDecorators={domElement:[{type:core.Input}],movementSpeed:[{type:core.Input}],rollSpeed:[{type:core.Input}],dragToLook:[{type:core.Input}],autoForward:[{type:core.Input}],change:[{type:core.Output}]},NgtSobaFlyControls=NgtSobaFlyControls_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-fly-controls",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.Nx)(NgtSobaFlyControls_1),(0,src.UV)(NgtSobaFlyControls_1)]})],NgtSobaFlyControls);let NgtSobaFlyControlsModule=class NgtSobaFlyControlsModule{};NgtSobaFlyControlsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaFlyControls],exports:[NgtSobaFlyControls]})],NgtSobaFlyControlsModule);var NgtSobaTransformControls_1,group_src=__webpack_require__("./libs/core/group/src/index.ts"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),observeOn=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),animationFrame=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js"),TransformControls=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/controls/TransformControls.js");let NgtSobaTransformControlsContent=class NgtSobaTransformControlsContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaTransformControlsContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaTransformControlsContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-transform-controls-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaTransformControlsContent);let NgtSobaTransformControls=NgtSobaTransformControls_1=class NgtSobaTransformControls extends src.Kw{constructor(){super(...arguments),this.change=new core.EventEmitter,this.mousedown=new core.EventEmitter,this.mouseup=new core.EventEmitter,this.objectChange=new core.EventEmitter,this.shouldPassThroughRef=!1,this.init=this.effect((0,tap.b)((()=>{this.set((state=>({camera:state.camera??this.store.get((s=>s.camera)),domElement:state.domElement??this.store.get((s=>s.events.connected))??this.store.get((s=>s.gl.domElement))})));const{camera,domElement}=this.get();this.prepareInstance(new TransformControls.Ys(camera,domElement))}))),this.attachObject=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,src.oe)((()=>{const scene=this.store.get((s=>s.scene)),{groupRef,object}=this.get();return object?this.instance.value.attach(src.is.ref(object)?object.value:object):groupRef.value&&this.instance.value.attach(groupRef.value),scene.children.some((child=>child.uuid===this.instance.value.uuid))||scene.add(this.instance.value),({complete})=>{this.instance.value.detach(),complete&&scene.remove(this.instance.value)}})))),this.setDraggingEvent=this.effect((0,src.oe)((()=>{const defaultControls=this.store.get((s=>s.controls));if(defaultControls){const callback=event=>defaultControls.enabled=!event.value;return this.instance.value.addEventListener("dragging-changed",callback),()=>this.instance.value.removeEventListener("dragging-changed",callback)}}))),this.setEvents=this.effect((0,src.oe)((()=>{const invalidate=this.store.get((s=>s.invalidate)),callback=event=>{invalidate(),this.change.observed&&this.change.emit(event)};this.instance.value?.addEventListener("change",callback);const boundMouseDown=this.mousedown.emit.bind(this.mousedown),boundMouseUp=this.mouseup.emit.bind(this.mouseup),boundObjectChange=this.objectChange.emit.bind(this.objectChange);return this.mousedown.observed&&this.instance.value?.addEventListener("mouseDown",boundMouseDown),this.mouseup.observed&&this.instance.value?.addEventListener("mouseUp",boundMouseUp),this.objectChange.observed&&this.instance.value?.addEventListener("objectChange",boundObjectChange),()=>{this.instance.value?.removeEventListener("change",callback),this.mousedown.observed&&this.instance.value?.removeEventListener("mouseDown",boundMouseDown),this.mouseup.observed&&this.instance.value?.removeEventListener("mouseUp",boundMouseUp),this.objectChange.observed&&this.instance.value?.removeEventListener("objectChange",boundObjectChange)}})))}set object(object){this.set({object})}set camera(camera){this.set({camera})}set enabled(enabled){this.set({enabled})}set domElement(domElement){this.set({domElement})}set axis(axis){this.set({axis})}set mode(mode){this.set({mode})}set translationSnap(translationSnap){this.set({translationSnap:(0,src.su)(translationSnap)})}set rotationSnap(rotationSnap){this.set({rotationSnap:(0,src.su)(rotationSnap)})}set scaleSnap(scaleSnap){this.set({scaleSnap:(0,src.su)(scaleSnap)})}set space(space){this.set({space})}set size(size){this.set({size:(0,src.su)(size)})}set showX(showX){this.set({showX:(0,src.Ig)(showX)})}set showY(showY){this.set({showY:(0,src.Ig)(showY)})}set showZ(showZ){this.set({showZ:(0,src.Ig)(showZ)})}preInit(){super.preInit(),this.set((state=>({groupRef:new src.Rl,enabled:state.enabled??!0,camera:state.camera??this.store.get((s=>s.camera)),domElement:state.domElement??this.store.get((s=>s.events.connected))??this.store.get((s=>s.gl.domElement))})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.init(this.select(this.select((s=>s.camera)),this.select((s=>s.domElement)))),this.attachObject(this.select(this.instance$,this.select((s=>s.object)).pipe((0,src.Xb)()),this.groupRef)),this.setDraggingEvent(this.select(this.instance$,this.store.select((s=>s.controls)))),this.setEvents(this.instance$)}))}))}get optionFields(){return{...super.optionFields,enabled:!1,axis:!0,mode:!0,translationSnap:!0,rotationSnap:!0,scaleSnap:!0,space:!0,size:!0,showX:!0,showY:!0,showZ:!0}}get groupRef(){return this.get((s=>s.groupRef))}};NgtSobaTransformControls.propDecorators={object:[{type:core.Input}],camera:[{type:core.Input}],enabled:[{type:core.Input}],domElement:[{type:core.Input}],axis:[{type:core.Input}],mode:[{type:core.Input}],translationSnap:[{type:core.Input}],rotationSnap:[{type:core.Input}],scaleSnap:[{type:core.Input}],space:[{type:core.Input}],size:[{type:core.Input}],showX:[{type:core.Input}],showY:[{type:core.Input}],showZ:[{type:core.Input}],change:[{type:core.Output}],mousedown:[{type:core.Output}],mouseup:[{type:core.Output}],objectChange:[{type:core.Output}],content:[{type:core.ContentChild,args:[NgtSobaTransformControlsContent]}]},NgtSobaTransformControls=NgtSobaTransformControls_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-transform-controls",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this" [ref]="groupRef">\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ group: groupRef }"\n      ></ng-container>\n    </ngt-group>\n    <ng-content></ng-content>\n  ',imports:[group_src.U,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaTransformControls_1),(0,src.wY)(NgtSobaTransformControls_1,(controls=>controls.groupRef)),(0,src.Hm)(NgtSobaTransformControls_1)]})],NgtSobaTransformControls);let NgtSobaTransformControlsModule=class NgtSobaTransformControlsModule{};NgtSobaTransformControlsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaTransformControls,NgtSobaTransformControlsContent],exports:[NgtSobaTransformControls,NgtSobaTransformControlsContent]})],NgtSobaTransformControlsModule)},"./libs/soba/loaders/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{iY:()=>NgtGLTFLoader,Ts:()=>NgtSobaLoaderModule,Wt:()=>NgtTextureLoader});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),defer=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/defer.js"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");const IsObject=url=>url===Object(url)&&!src.is.arr(url)&&"function"!=typeof url;let NgtTextureLoader=class NgtTextureLoader{constructor(store,loader){this.store=store,this.loader=loader}load(input){return(0,defer.P)((()=>this.loader.use(three_module.dpR,IsObject(input)?Object.values(input):input))).pipe((0,tap.b)((textures=>{const gl=this.store.get((s=>s.gl));gl&&(src.is.arr(textures)?textures:[textures]).forEach(gl.initTexture.bind(gl))})),(0,map.U)((textures=>IsObject(input)?Object.keys(input).reduce(((record,key,index)=>(record[key]=textures[index],record)),{}):textures)))}};NgtTextureLoader.ctorParameters=()=>[{type:src.W7},{type:src.gj}],NgtTextureLoader=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[src.W7,src.gj])],NgtTextureLoader);var MeshoptDecoder=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/libs/MeshoptDecoder.js"),DRACOLoader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/loaders/DRACOLoader.js"),GLTFLoader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/loaders/GLTFLoader.js");let dracoLoader=null;let NgtGLTFLoader=class NgtGLTFLoader{constructor(loader){this.loader=loader}load(path,useDraco=!0,useMeshOpt=!0,extensions){return this.loader.use(GLTFLoader.E,path,function _extensions(useDraco,useMeshOpt,extensions){return loader=>{extensions&&extensions(loader),useDraco&&(dracoLoader||(dracoLoader=new DRACOLoader._),dracoLoader.setDecoderPath("string"==typeof useDraco?useDraco:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),loader.setDRACOLoader(dracoLoader)),useMeshOpt&&loader.setMeshoptDecoder("function"==typeof MeshoptDecoder.z?(0,MeshoptDecoder.z)():MeshoptDecoder.z)}}(useDraco,useMeshOpt,extensions))}};NgtGLTFLoader.ctorParameters=()=>[{type:src.gj}],NgtGLTFLoader=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[src.gj])],NgtGLTFLoader);var common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),timer=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/timer.js");let NgtSobaProgress=class NgtSobaProgress extends src.gU{constructor(){super();let saveLastTotalLoaded=0;this.set({active:!1,errors:[]}),three_module.tEQ.onStart=(item,loaded,total)=>{this.set({active:!0,item,loaded,total,progress:(loaded-saveLastTotalLoaded)/(total-saveLastTotalLoaded)*100})},three_module.tEQ.onLoad=()=>{this.set({active:!1})},three_module.tEQ.onError=url=>{this.set((state=>({errors:[...state.errors,url]})))},three_module.tEQ.onProgress=(item,loaded,total)=>{loaded===total&&(saveLastTotalLoaded=total),this.set({active:!0,item,loaded,total,progress:(loaded-saveLastTotalLoaded)/(total-saveLastTotalLoaded)*100||100})}}};NgtSobaProgress.ctorParameters=()=>[],NgtSobaProgress=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[])],NgtSobaProgress);let NgtSobaLoader=class NgtSobaLoader extends src.gU{constructor(sobaProgress,zone){super(),this.sobaProgress=sobaProgress,this.zone=zone,this.vm$=this.select(this.select((s=>s.shown)),this.select((s=>s.loaderConfig)),this.sobaProgress.select((s=>s.active)),this.sobaProgress.select((s=>s.progress)),((shown,{dataClass,barClass,containerClass,innerContainerClass},active,progress)=>({shown,containerClass,innerContainerClass,dataClass,barClass,active,progress}))),this.initShown$=this.select(this.select((s=>s.shown)),this.sobaProgress.select((s=>s.active)),((shown,active)=>({shown,active}))),this.progress$=this.select(this.select((s=>s.loaderConfig.dataInterpolation)),this.sobaProgress.select((s=>s.progress)),((dataInterpolation,progress)=>({dataInterpolation,progress}))),this._progress=0,this.setShown=this.effect((0,src.oe)((({shown,active})=>{if(shown!==active){const sub=(0,timer.H)(300).subscribe((()=>{this.set({shown:active})}));return sub.unsubscribe.bind(sub)}}))),this.setProgress=this.effect((0,src.oe)((({progress,dataInterpolation})=>{let rafId;const updateProgress=()=>{this.progressSpan&&(this._progress+=(progress-this._progress)/2,(this._progress>.95*progress||100===progress)&&(this._progress=progress),this.progressSpan.nativeElement.innerText=dataInterpolation?.(this._progress)||"",this._progress<progress&&(rafId=requestAnimationFrame(updateProgress)))};return updateProgress(),()=>{rafId&&cancelAnimationFrame(rafId)}}))),this.set({shown:sobaProgress.get((s=>s.active)),loaderConfig:{dataInterpolation:value=>`Loading ${value.toFixed(2)}%`}})}ngAfterViewInit(){this.zone.runOutsideAngular((()=>{this.setShown(this.initShown$),this.setProgress(this.progress$)}))}};NgtSobaLoader.ctorParameters=()=>[{type:NgtSobaProgress},{type:core.NgZone}],NgtSobaLoader.propDecorators={progressSpan:[{type:core.ViewChild,args:["progressSpan"]}]},NgtSobaLoader=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-loader",standalone:!0,template:'\n    <ng-container *ngIf="vm$ | async as vm">\n      <div *ngIf="vm.shown" class="loader-container" [style.opacity]="vm.active ? 1 : 0" [class]="vm.containerClass">\n        <div>\n          <div class="inner-loader" [class]="vm.innerContainerClass">\n            <div\n              class="inner-loader-bar"\n              [class]="vm.barClass"\n              [style.transform]="\'scaleX(\' + vm.progress / 100 + \')\'"\n            ></div>\n            <span #progressSpan class="inner-loader-data" [class]="vm.dataClass"></span>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  ',imports:[common.O5,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[NgtSobaProgress],styles:["\n      .loader-container {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: #171717;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: opacity 300ms ease;\n        z-index: 1000;\n      }\n\n      .inner-loader {\n        width: 100px;\n        height: 3px;\n        background: #272727;\n        text-align: center;\n      }\n\n      .inner-loader-bar {\n        height: 3px;\n        width: 100%;\n        background: white;\n        transition: transform 200ms;\n        transform-origin: left center;\n      }\n\n      .inner-loader-data {\n        display: inline-block;\n        position: relative;\n        font-feature-settings: \"tnum\";\n        font-variant-numeric: tabular-nums;\n        margin-top: 0.8em;\n        color: #f0f0f0;\n        font-size: 0.6em;\n        font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, Roboto,\n          Ubuntu, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n        white-space: nowrap;\n      }\n    "]}),(0,tslib_es6.w6)("design:paramtypes",[NgtSobaProgress,core.NgZone])],NgtSobaLoader);let NgtSobaLoaderModule=class NgtSobaLoaderModule{};NgtSobaLoaderModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaLoader],exports:[NgtSobaLoader]})],NgtSobaLoaderModule)},"./libs/soba/misc/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AC:()=>NgtSobaDepthBuffer,bk:()=>NgtSobaFBO,SX:()=>NgtSobaHtmlModule,up:()=>provideSobaDepthBuffer});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),isObservable=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/isObservable.js"),of=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/of.js"),filter=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/filter.js"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtSobaFBO=class NgtSobaFBO extends src.gU{constructor(store){super(),this.store=store,this.setTarget=this.effect((0,tap.b)((({width,height,settings})=>{const targetRef=this.get((s=>s.target)),{gl,size,viewport}=this.store.get(),_width="number"==typeof width?width:size.width*viewport.dpr,_height="number"==typeof height?height:size.height*viewport.dpr,_settings=("number"==typeof width?settings:width)||{},{samples,...targetSettings}=_settings;targetRef.set((()=>{const target=new three_module.dd2(_width,_height,{minFilter:three_module.wem,magFilter:three_module.wem,type:three_module.cLu,encoding:gl.outputEncoding,...targetSettings||{}});return samples&&(target.samples=samples),target})),this.set({width:_width,height:_height,settings:_settings})}))),this.setup=this.effect((0,src.oe)((()=>{const{target,width,height,settings:{samples}}=this.get();return target.value.setSize(width,height),samples&&(target.value.samples=samples),({complete})=>{complete&&target.value.dispose()}}))),this.set({target:new src.Rl})}use(paramsFactory){const targetRef=this.get((s=>s.target)),params=paramsFactory({}),params$=(0,isObservable.b)(params)?params:(0,of.of)(params);return this.store.onReady((()=>{this.setTarget(params$),this.setup(this.select(targetRef.pipe((0,filter.h)((target=>!!target))),this.select((s=>s.width)),this.select((s=>s.height)),this.select((s=>s.settings))))})),targetRef}};NgtSobaFBO.ctorParameters=()=>[{type:src.W7}],NgtSobaFBO=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[src.W7])],NgtSobaFBO);var map=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js");let NgtSobaDepthBuffer=class NgtSobaDepthBuffer extends src.gU{constructor(store,fbo){super(),this.store=store,this.fbo=fbo,this.count=0,this.setDepthConfig=this.effect((0,tap.b)((()=>{const size=this.get((s=>s.size)),dpr=this.store.get((s=>s.viewport.dpr)),{width,height}=this.store.get((s=>s.size)),w=size||width*dpr,h=size||height*dpr;this.set({width:w,height:h}),this.set(this.select(this.select((s=>s.width)),this.select((s=>s.height))).pipe((0,map.U)((()=>{const{width,height}=this.get(),depthTexture=new three_module.$YQ(width,height);return depthTexture.format=three_module.qkB,depthTexture.type=three_module.LsT,{depthConfig:{depthTexture}}}))))}))),this.setDepthFBO=this.effect((0,src.oe)((()=>{const sub=this.fbo.use((()=>this.select(this.select((s=>s.depthConfig)),this.select((s=>s.width)),this.select((s=>s.height)),((depthConfig,width,height)=>({width,height,settings:depthConfig}))))).pipe((0,filter.h)((fbo=>!!fbo))).subscribe((depthFBO=>{this.set({depthFBO})}));return sub.add(this.setFboBeforeRender(this.select((s=>s.depthFBO)))),()=>{sub.unsubscribe()}}))),this.setFboBeforeRender=this.effect((0,src.oe)((()=>{const{depthFBO,frames}=this.get();return this.store.registerBeforeRender({callback:({gl,scene,camera})=>{depthFBO&&(frames===1/0||this.count<frames)&&(gl.setRenderTarget(depthFBO),gl.render(scene,camera),gl.setRenderTarget(null),this.count++)}})}))),this.set({depthTexture:new src.Rl})}use(paramsFactory){this.useSubscription&&this.useSubscription.unsubscribe();const params=paramsFactory({size:256,frames:1/0}),params$=(0,isObservable.b)(params)?params:(0,of.of)(params);this.set(params$);const depthTextureRef=this.get((s=>s.depthTexture));return this.useSubscription=this.store.onReady((()=>(this.setDepthConfig(this.select((s=>s.size))),this.setDepthFBO(this.select((s=>s.depthConfig))),()=>{this.useSubscription&&this.useSubscription.unsubscribe()}))),depthTextureRef}};function provideSobaDepthBuffer(){return[NgtSobaFBO,NgtSobaDepthBuffer]}NgtSobaDepthBuffer.ctorParameters=()=>[{type:src.W7},{type:NgtSobaFBO}],NgtSobaDepthBuffer=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[src.W7,NgtSobaFBO])],NgtSobaDepthBuffer);var NgtSobaHtml_1,group_src=__webpack_require__("./libs/core/group/src/index.ts"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs");const v1=new three_module.Pa4,v2=new three_module.Pa4,v3=new three_module.Pa4;function defaultCalculatePosition(el,camera,size){const objectPos=v1.setFromMatrixPosition(el.matrixWorld);objectPos.project(camera);const widthHalf=size.width/2,heightHalf=size.height/2;return[objectPos.x*widthHalf+widthHalf,-objectPos.y*heightHalf+heightHalf]}const epsilon=value=>Math.abs(value)<1e-10?0:value;function getCSSMatrix(matrix,multipliers,prepend=""){let matrix3d="matrix3d(";for(let i=0;16!==i;i++)matrix3d+=epsilon(multipliers[i]*matrix.elements[i])+(15!==i?",":")");return prepend+matrix3d}const getCameraCSSMatrix=(multipliers=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],matrix=>getCSSMatrix(matrix,multipliers));var multipliers;const getObjectCSSMatrix=(matrix,factor)=>{return getCSSMatrix(matrix,[1/(f=factor),1/f,1/f,1,-1/f,-1/f,-1/f,-1,1/f,1/f,1/f,1,1,1,1,1],"translate(-50%,-50%)");var f};let NgtSobaHtmlElement=class NgtSobaHtmlElement{constructor(elementRef,viewContainerRef){this.elementRef=elementRef,this.viewContainerRef=viewContainerRef}};NgtSobaHtmlElement.ctorParameters=()=>[{type:core.ElementRef},{type:core.ViewContainerRef}],NgtSobaHtmlElement=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSobaHtmlElement]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.ElementRef,core.ViewContainerRef])],NgtSobaHtmlElement);let NgtSobaHtmlContent=class NgtSobaHtmlContent{constructor(templateRef){this.templateRef=templateRef}};NgtSobaHtmlContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaHtmlContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-html-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaHtmlContent);let NgtSobaHtml=NgtSobaHtml_1=class NgtSobaHtml extends src.Kw{constructor(){super(...arguments),this.occludeChange=new core.EventEmitter,this.oldZoom=0,this.oldPosition=[0,0],this.isVisible=!0,this.styles$=this.select(this.select((s=>s.style)).pipe((0,src.Xb)()),this.select((s=>s.center)).pipe((0,src.Xb)()),this.select((s=>s.fullscreen)).pipe((0,src.Xb)()),this.store.select((s=>s.size)),this.select((s=>s.transform)),(()=>{const{style,center,fullscreen,transform}=this.get(),size=this.store.get((s=>s.size));return transform?{position:"absolute",top:0,left:0,width:size.width,height:size.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:center?"translate3d(-50%,-50%,0)":"none",...fullscreen&&{top:-size.height/2,left:-size.width/2,width:size.width,height:size.height},...style||{}}})),this.transformInnerStyles$=this.select(this.select((s=>s.pointerEvents)),(()=>({position:"absolute",pointerEvents:this.get((s=>s.pointerEvents))}))),this.setTarget=this.effect((0,tap.b)((()=>{const portal=this.get((s=>s.portal)),gl=this.store.get((s=>s.gl));this.set({target:portal??gl.domElement.parentNode})}))),this.appendElement=this.effect((0,src.oe)((()=>{const{scene,camera,size}=this.store.get(),{transform,target,calculatePosition,prepend}=this.get();if(this.instance.value){if(scene.updateMatrixWorld(),transform)this.htmlElement.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const vec=calculatePosition(this.instance.value,camera,size);this.htmlElement.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`}return target&&(prepend?target.prepend(this.htmlElement):target.appendChild(this.htmlElement)),()=>{target&&target.removeChild(this.htmlElement),this.htmlViewContainerRef.clear()}}}))),this.setWrapperClass=this.effect((0,tap.b)((()=>{const wrapperClass=this.get((s=>s.wrapperClass));wrapperClass&&(this.htmlElement.className=wrapperClass)}))),this.render=this.effect((0,tap.b)((()=>{const{transform,target}=this.get(),params=transform?[this.transformTemplate,{}]:[this.renderTemplate,{style$:this.styles$}];if(target){this.htmlViewContainerRef.clear();const viewRef=this.htmlViewContainerRef.createEmbeddedView(...params);viewRef.rootNodes[0]&&this.htmlElement.append(...viewRef.rootNodes)}}))),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({callback:()=>{if(this.instance.value){const{transform,calculatePosition,eps,occlude,zIndexRange,sprite,distanceFactor}=this.get(),{camera,size,scene,raycaster}=this.store.get();camera.updateMatrixWorld(),this.instance.value.updateWorldMatrix(!0,!1);const vec=transform?this.oldPosition:calculatePosition(this.instance.value,camera,size);if(transform||Math.abs(this.oldZoom-camera.zoom)>eps||Math.abs(this.oldPosition[0]-vec[0])>eps||Math.abs(this.oldPosition[1]-vec[1])>eps){const isBehindCamera=function isObjectBehindCamera(el,camera){const objectPos=v1.setFromMatrixPosition(el.matrixWorld),cameraPos=v2.setFromMatrixPosition(camera.matrixWorld),deltaCamObj=objectPos.sub(cameraPos),camDir=camera.getWorldDirection(v3);return deltaCamObj.angleTo(camDir)>Math.PI/2}(this.instance.value,camera);let raytraceTarget=!1;"boolean"==typeof occlude?occlude&&(raytraceTarget=[scene]):Array.isArray(occlude)&&(raytraceTarget=occlude.map((item=>item.value)));const previouslyVisible=this.isVisible;if(this.isVisible=raytraceTarget?function isObjectVisible(el,camera,raycaster,occlude){const elPos=v1.setFromMatrixPosition(el.matrixWorld),screenPos=elPos.clone();screenPos.project(camera),raycaster.setFromCamera(screenPos,camera);const intersects=raycaster.intersectObjects(occlude,!0);if(intersects.length){const intersectionDistance=intersects[0].distance;return elPos.distanceTo(raycaster.ray.origin)<intersectionDistance}return!0}(this.instance.value,camera,raycaster,raytraceTarget)&&!isBehindCamera:!isBehindCamera,previouslyVisible!==this.isVisible&&(this.occludeChange.observed?this.occludeChange.emit(!this.isVisible):this.htmlElement.style.display=this.isVisible?"block":"none"),this.htmlElement.style.zIndex=`${function objectZIndex(el,camera,zIndexRange){if(src.is.orthographic(camera)||src.is.perspective(camera)){const objectPos=v1.setFromMatrixPosition(el.matrixWorld),cameraPos=v2.setFromMatrixPosition(camera.matrixWorld),dist=objectPos.distanceTo(cameraPos),A=(zIndexRange[1]-zIndexRange[0])/(camera.far-camera.near),B=zIndexRange[1]-A*camera.far;return Math.round(A*dist+B)}}(this.instance.value,camera,zIndexRange)}`,transform){const[widthHalf,heightHalf]=[size.width/2,size.height/2],fov=camera.projectionMatrix.elements[5]*heightHalf,{isOrthographicCamera,top,left,bottom,right}=camera,cameraMatrix=getCameraCSSMatrix(camera.matrixWorldInverse),cameraTransform=isOrthographicCamera?`scale(${fov})translate(${epsilon(-(right+left)/2)}px,${epsilon((top+bottom)/2)}px)`:`translateZ(${fov}px)`;let matrix=this.instance.value.matrixWorld;sprite&&(matrix=camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(this.instance.value.scale),matrix.elements[3]=matrix.elements[7]=matrix.elements[11]=0,matrix.elements[15]=1),this.htmlElement.style.width=size.width+"px",this.htmlElement.style.height=size.height+"px",this.htmlElement.style.perspective=isOrthographicCamera?"":`${fov}px`,this.transformedOuterDiv?.nativeElement&&this.transformedInnerDiv?.nativeElement&&(this.transformedOuterDiv.nativeElement.style.width=size.width+"px",this.transformedOuterDiv.nativeElement.style.height=size.height+"px",this.transformedOuterDiv.nativeElement.style.transform=`${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`,this.transformedInnerDiv.nativeElement.style.transform=getObjectCSSMatrix(matrix,1/((distanceFactor||10)/400)))}else{const scale=void 0===distanceFactor?1:function objectScale(el,camera){if(src.is.orthographic(camera))return camera.zoom;if(src.is.perspective(camera)){const objectPos=v1.setFromMatrixPosition(el.matrixWorld),cameraPos=v2.setFromMatrixPosition(camera.matrixWorld),vFOV=camera.fov*Math.PI/180,dist=objectPos.distanceTo(cameraPos);return 1/(2*Math.tan(vFOV/2)*dist)}return 1}(this.instance.value,camera)*distanceFactor;this.htmlElement.style.transform=`translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`}this.oldPosition=vec,this.oldZoom=camera.zoom}}}}))))}set prepend(prepend){this.set({prepend:(0,src.Ig)(prepend)})}set center(center){this.set({center:(0,src.Ig)(center)})}set fullscreen(fullscreen){this.set({fullscreen:(0,src.Ig)(fullscreen)})}set eps(eps){this.set({eps:(0,src.su)(eps)})}set portal(portal){this.set({portal})}set distanceFactor(distanceFactor){this.set({distanceFactor:(0,src.su)(distanceFactor)})}set sprite(sprite){this.set({sprite:(0,src.Ig)(sprite)})}set transform(transform){this.set({transform:(0,src.Ig)(transform)})}set zIndexRange(zIndexRange){this.set({zIndexRange})}set occlude(occlude){this.set({occlude:src.is.arr(occlude)?occlude:(0,src.Ig)(occlude)})}set calculatePosition(calculatePosition){this.set({calculatePosition})}set as(as){this.set({as})}set wrapperClass(wrapperClass){this.set({wrapperClass})}set pointerEvents(pointerEvents){this.set({pointerEvents})}set style(style){this.set({style})}get style$(){return this.select((s=>s.style))}set htmlClass(htmlClass){this.set({htmlClass})}get htmlClass(){return this.get((s=>s.htmlClass))}get element(){return this.customElement??this.defaultElement}get htmlElement(){return this.element.elementRef.nativeElement}get htmlViewContainerRef(){return this.element.viewContainerRef}preInit(){super.preInit(),this.set((state=>({htmlClass:state.htmlClass??"",eps:state.eps??.001,sprite:state.sprite??!1,transform:state.transform??!1,zIndexRange:state.zIndexRange??[16777271,0],calculatePosition:state.calculatePosition??defaultCalculatePosition,pointerEvents:state.pointerEvents??"auto"})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setTarget(this.select(this.select((s=>s.portal)).pipe((0,src.Xb)()),this.store.select((s=>s.gl)))),this.appendElement(this.select(this.select((s=>s.target)),this.select((s=>s.transform)),this.instance$)),this.setWrapperClass(this.select((s=>s.wrapperClass)).pipe((0,src.Xb)())),this.render(this.select()),this.setBeforeRender(this.instance$)}))}))}};NgtSobaHtml.propDecorators={prepend:[{type:core.Input}],center:[{type:core.Input}],fullscreen:[{type:core.Input}],eps:[{type:core.Input}],portal:[{type:core.Input}],distanceFactor:[{type:core.Input}],sprite:[{type:core.Input}],transform:[{type:core.Input}],zIndexRange:[{type:core.Input}],occlude:[{type:core.Input}],occludeChange:[{type:core.Output}],calculatePosition:[{type:core.Input}],as:[{type:core.Input}],wrapperClass:[{type:core.Input}],pointerEvents:[{type:core.Input}],style:[{type:core.Input}],htmlClass:[{type:core.Input}],renderTemplate:[{type:core.ViewChild,args:["renderTemplate",{static:!0}]}],transformTemplate:[{type:core.ViewChild,args:["transformTemplate",{static:!0}]}],defaultElement:[{type:core.ViewChild,args:[NgtSobaHtmlElement,{static:!0}]}],customElement:[{type:core.ContentChild,args:[NgtSobaHtmlElement]}],content:[{type:core.ContentChild,args:[NgtSobaHtmlContent]}],transformedOuterDiv:[{type:core.ViewChild,args:["transformedOuterDiv"]}],transformedInnerDiv:[{type:core.ViewChild,args:["transformedInnerDiv"]}]},NgtSobaHtml=NgtSobaHtml_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-html",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this"></ngt-group>\n\n    <ng-template #transformTemplate>\n      <div #transformedOuterDiv [style]="styles$ | async">\n        <div #transformedInnerDiv [style]="transformInnerStyles$ | async">\n          <ng-container [ngTemplateOutlet]="renderTemplate" [ngTemplateOutletContext]="{ style$ }"></ng-container>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #renderTemplate let-style$="style$">\n      <div #renderedDiv [class]="htmlClass" [style]="style$ | async">\n        <ng-container *ngIf="content" [ngTemplateOutlet]="content.templateRef"></ng-container>\n      </div>\n    </ng-template>\n\n    <div ngtSobaHtmlElement></div>\n\n    <ng-content></ng-content>\n  ',imports:[group_src.U,src.VL,NgtSobaHtmlElement,common.O5,common.Ov,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaHtml_1),(0,src.wY)(NgtSobaHtml_1),(0,src.Hm)(NgtSobaHtml_1)]})],NgtSobaHtml);let NgtSobaHtmlModule=class NgtSobaHtmlModule{};NgtSobaHtmlModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaHtml,NgtSobaHtmlElement,NgtSobaHtmlContent],exports:[NgtSobaHtml,NgtSobaHtmlElement,NgtSobaHtmlContent]})],NgtSobaHtmlModule)},"./libs/soba/performances/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{TF:()=>NgtSobaAdapativeDprModule,TQ:()=>NgtSobaAdaptiveEventsModule,eL:()=>NgtSobaDetailedModule});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");let NgtSobaPreload=class NgtSobaPreload extends src.gU{constructor(zone,store){super(),this.zone=zone,this.store=store,this.set({all:!1,scene:void 0,camera:void 0})}set all(v){this.set({all:(0,src.Ig)(v)})}set scene(v){this.set({scene:v})}set camera(v){this.set({camera:v})}get precompileParams(){const{all,scene,camera}=this.get(),{camera:canvasCamera,scene:canvasScene,gl}=this.store.get();return{all,scene:scene||canvasScene,camera:camera||canvasCamera,gl}}ngOnInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{const{all,scene,camera,gl}=this.precompileParams,invisible=[];all&&scene.traverse((object=>{object.visible||(invisible.push(object),object.visible=!0)})),gl.compile(scene,camera);const cubeRenderTarget=new three_module.oAp(128);new three_module._am(.01,1e5,cubeRenderTarget).update(gl,scene),cubeRenderTarget.dispose(),invisible.forEach((object=>object.visible=!1))}))}))}};NgtSobaPreload.ctorParameters=()=>[{type:core.NgZone},{type:src.W7}],NgtSobaPreload.propDecorators={all:[{type:core.Input}],scene:[{type:core.Input}],camera:[{type:core.Input}]},NgtSobaPreload=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ngt-soba-preload",standalone:!0,exportAs:"ngtSobaPreload"}),(0,tslib_es6.w6)("design:paramtypes",[core.NgZone,src.W7])],NgtSobaPreload);let NgtSobaPreloadModule=class NgtSobaPreloadModule{};var NgtLod_1;NgtSobaPreloadModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaPreload],exports:[NgtSobaPreload]})],NgtSobaPreloadModule);let NgtLod=NgtLod_1=class NgtLod extends src.Jy{objectInitFn(){return new three_module.z8B}};NgtLod=NgtLod_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-lod",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtLod_1),(0,src.wY)(NgtLod_1)]})],NgtLod);let NgtLodModule=class NgtLodModule{};NgtLodModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtLod],exports:[NgtLod]})],NgtLodModule);var NgtSobaDetailed_1,common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),observeOn=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),animationFrame=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),switchMap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),combineLatest=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");let NgtSobaDetailedContent=class NgtSobaDetailedContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaDetailedContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaDetailedContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-detailed-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaDetailedContent);let NgtSobaDetailed=NgtSobaDetailed_1=class NgtSobaDetailed extends src.Kw{constructor(){super(...arguments),this.addLevels=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,tap.b)((()=>{const distances=this.get((s=>s.distances));this.instance.value&&(this.instance.value.levels.length=0,this.instance.value.children.forEach(((object,index)=>{this.instance.value.levels.push({object,distance:distances[index]})})))}))))}set distances(distances){this.set({distances})}preInit(){super.preInit(),this.set((state=>({distances:state.distances??[]})))}ngAfterContentInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.addLevels(this.select(this.select((s=>s.distances)),this.instance$,this.children.changes.pipe((0,switchMap.w)((()=>(0,combineLatest.a)(this.children.map((child=>child()))))))))}))}))}onBeforeRender({state:{camera},object}){object.update(camera)}};NgtSobaDetailed.propDecorators={content:[{type:core.ContentChild,args:[NgtSobaDetailedContent]}],children:[{type:core.ContentChildren,args:[src.Dh]}],distances:[{type:core.Input}]},NgtSobaDetailed=NgtSobaDetailed_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-detailed",standalone:!0,template:'\n    <ngt-lod [ngtObjectPassThrough]="this" (beforeRender)="onBeforeRender($event)">\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ lod: instance }"\n      ></ng-container>\n    </ngt-lod>\n    <ng-content></ng-content>\n  ',imports:[NgtLod,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaDetailed_1),(0,src.wY)(NgtSobaDetailed_1),(0,src.Hm)(NgtSobaDetailed_1)]})],NgtSobaDetailed);let NgtSobaDetailedModule=class NgtSobaDetailedModule{};NgtSobaDetailedModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaDetailed,NgtSobaDetailedContent],exports:[NgtSobaDetailed,NgtSobaDetailedContent]})],NgtSobaDetailedModule);let NgtSobaAdaptiveDpr=class NgtSobaAdaptiveDpr extends src.gU{constructor(zone,store){super(),this.zone=zone,this.store=store,this.updateDpr=this.effect((0,tap.b)((()=>{const current=this.store.get((s=>s.performance.current)),initialDpr=this.store.get((s=>s.viewport.initialDpr));this.store.set((state=>({viewport:{...state.viewport,dpr:(0,src.CE)(current*initialDpr)}})));const gl=this.store.get((s=>s.gl));this.get((s=>s.pixelated))&&gl.domElement&&(gl.domElement.style.imageRendering=1===current?"auto":"pixelated")}))),this.reset=this.effect((0,src.oe)((()=>{const gl=this.store.get((s=>s.gl)),active=this.store.get((s=>s.internal.active)),pixelated=this.get((s=>s.pixelated));return()=>{active&&this.store.set((state=>({viewport:{...state.viewport,dpr:(0,src.CE)(state.viewport.initialDpr)}}))),pixelated&&gl.domElement&&(gl.domElement.style.imageRendering="auto")}})))}set pixelated(pixelated){this.set({pixelated:(0,src.Ig)(pixelated)})}ngOnInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.reset(),this.updateDpr(this.store.select((s=>s.performance.current)))}))}))}};NgtSobaAdaptiveDpr.ctorParameters=()=>[{type:core.NgZone},{type:src.W7}],NgtSobaAdaptiveDpr.propDecorators={pixelated:[{type:core.Input}]},NgtSobaAdaptiveDpr=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ngt-soba-adaptive-dpr",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.NgZone,src.W7])],NgtSobaAdaptiveDpr);let NgtSobaAdapativeDprModule=class NgtSobaAdapativeDprModule{};NgtSobaAdapativeDprModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaAdaptiveDpr],exports:[NgtSobaAdaptiveDpr]})],NgtSobaAdapativeDprModule);let NgtSobaAdaptiveEvents=class NgtSobaAdaptiveEvents extends src.gU{constructor(zone,store){super(),this.zone=zone,this.store=store,this.reset=this.effect((0,src.oe)((()=>{const enabled=this.store.get((s=>s.events.enabled));return()=>{this.store.set((state=>({events:{...state.events,enabled}})))}}))),this.updateEvents=this.effect((0,tap.b)((()=>{const current=this.store.get((s=>s.performance.current));this.store.set((state=>({events:{...state.events,enabled:1===current}})))})))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.reset(),this.updateEvents(this.store.select((s=>s.performance.current)))}))}))}};NgtSobaAdaptiveEvents.ctorParameters=()=>[{type:core.NgZone},{type:src.W7}],NgtSobaAdaptiveEvents=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ngt-soba-adaptive-events",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.NgZone,src.W7])],NgtSobaAdaptiveEvents);let NgtSobaAdaptiveEventsModule=class NgtSobaAdaptiveEventsModule{};NgtSobaAdaptiveEventsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaAdaptiveEvents],exports:[NgtSobaAdaptiveEvents]})],NgtSobaAdaptiveEventsModule)},"./libs/soba/shaders/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oG:()=>NgtSobaImageShaderMaterial,r0:()=>NgtSobaMeshReflectorMaterialModule,MZ:()=>NgtSobaSpotLightMaterial,Zb:()=>NgtSobaStarFieldMaterial});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),materials_src=__webpack_require__("./libs/core/materials/src/index.ts"),three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");class ConvolutionMaterial extends three_module.jyz{constructor(texelSize=new three_module.FM8){super({uniforms:{inputBuffer:new three_module.xWb(null),depthBuffer:new three_module.xWb(null),resolution:new three_module.xWb(new three_module.FM8),texelSize:new three_module.xWb(new three_module.FM8),halfTexelSize:new three_module.xWb(new three_module.FM8),kernel:new three_module.xWb(0),scale:new three_module.xWb(1),cameraNear:new three_module.xWb(0),cameraFar:new three_module.xWb(1),minDepthThreshold:new three_module.xWb(0),maxDepthThreshold:new three_module.xWb(1),depthScale:new three_module.xWb(0),depthToBlurRatioBias:new three_module.xWb(.25)},fragmentShader:"#include <common>\n          #include <dithering_pars_fragment>\n          uniform sampler2D inputBuffer;\n          uniform sampler2D depthBuffer;\n          uniform float cameraNear;\n          uniform float cameraFar;\n          uniform float minDepthThreshold;\n          uniform float maxDepthThreshold;\n          uniform float depthScale;\n          uniform float depthToBlurRatioBias;\n          varying vec2 vUv;\n          varying vec2 vUv0;\n          varying vec2 vUv1;\n          varying vec2 vUv2;\n          varying vec2 vUv3;\n\n          void main() {\n            float depthFactor = 0.0;\n\n            #ifdef USE_DEPTH\n              vec4 depth = texture2D(depthBuffer, vUv);\n              depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n              depthFactor *= depthScale;\n              depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n            #endif\n\n            vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n            sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n            sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n            sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n            gl_FragColor = sum * 0.25 ;\n\n            #include <dithering_fragment>\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n          }",vertexShader:"uniform vec2 texelSize;\n          uniform vec2 halfTexelSize;\n          uniform float kernel;\n          uniform float scale;\n          varying vec2 vUv;\n          varying vec2 vUv0;\n          varying vec2 vUv1;\n          varying vec2 vUv2;\n          varying vec2 vUv3;\n\n          void main() {\n            vec2 uv = position.xy * 0.5 + 0.5;\n            vUv = uv;\n\n            vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n            vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n            vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n            vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n            vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n            gl_Position = vec4(position.xy, 1.0, 1.0);\n          }",blending:three_module.jFi,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(texelSize.x,texelSize.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(x,y){this.uniforms.texelSize.value.set(x,y),this.uniforms.halfTexelSize.value.set(x,y).multiplyScalar(.5)}setResolution(resolution){this.uniforms.resolution.value.copy(resolution)}}class BlurPass{constructor({gl,resolution,width=500,height=500,minDepthThreshold=0,maxDepthThreshold=1,depthScale=0,depthToBlurRatioBias=.25}){this.renderToScreen=!1,this.renderTargetA=new three_module.dd2(resolution,resolution,{minFilter:three_module.wem,magFilter:three_module.wem,stencilBuffer:!1,depthBuffer:!1,encoding:gl.outputEncoding}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new ConvolutionMaterial,this.convolutionMaterial.setTexelSize(1/width,1/height),this.convolutionMaterial.setResolution(new three_module.FM8(width,height)),this.scene=new three_module.xsS,this.camera=new three_module.V1s,this.convolutionMaterial.uniforms.minDepthThreshold.value=minDepthThreshold,this.convolutionMaterial.uniforms.maxDepthThreshold.value=maxDepthThreshold,this.convolutionMaterial.uniforms.depthScale.value=depthScale,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=depthToBlurRatioBias,this.convolutionMaterial.defines.USE_DEPTH=depthScale>0;const vertices=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),uvs=new Float32Array([0,0,2,0,0,2]),geometry=new three_module.u9r;geometry.setAttribute("position",new three_module.TlE(vertices,3)),geometry.setAttribute("uv",new three_module.TlE(uvs,2)),this.screen=new three_module.Kj0(geometry,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(renderer,inputBuffer,outputBuffer){const scene=this.scene,camera=this.camera,renderTargetA=this.renderTargetA,renderTargetB=this.renderTargetB,material=this.convolutionMaterial,uniforms=material.uniforms;uniforms.depthBuffer.value=inputBuffer.depthTexture;const kernel=material.kernel;let destRT,i,l,lastRT=inputBuffer;for(i=0,l=kernel.length-1;i<l;++i)destRT=0==(1&i)?renderTargetA:renderTargetB,uniforms.kernel.value=kernel[i],uniforms.inputBuffer.value=lastRT.texture,renderer.setRenderTarget(destRT),renderer.render(scene,camera),lastRT=destRT;uniforms.kernel.value=kernel[i],uniforms.inputBuffer.value=lastRT.texture,renderer.setRenderTarget(this.renderToScreen?null:outputBuffer),renderer.render(scene,camera)}}const ImageShaderMaterial=(0,src.gh)({color:new three_module.Ilk("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n    varying vec2 vUv;\n    void main() {\n      gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n      vUv = uv;\n    }\n  ","\n    // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n    varying vec2 vUv;\n    uniform vec2 scale;\n    uniform vec2 imageBounds;\n    uniform vec3 color;\n    uniform sampler2D map;\n    uniform float zoom;\n    uniform float grayscale;\n    const vec3 luma = vec3(.299, 0.587, 0.114);\n    vec4 toGrayscale(vec4 color, float intensity) {\n      return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n    }\n    vec2 aspect(vec2 size) {\n      return size / min(size.x, size.y);\n    }\n    void main() {\n      vec2 s = aspect(scale);\n      vec2 i = aspect(imageBounds);\n      float rs = s.x / s.y;\n      float ri = i.x / i.y;\n      vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n      vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n      vec2 uv = vUv * s / new + offset;\n      vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n      gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, 1.0), grayscale);\n    }\n  ");class MeshReflectorMaterial extends three_module.Wid{constructor(parameters={}){super(parameters),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(parameters)}onBeforeCompile(shader){shader.defines?.USE_UV||(shader.defines.USE_UV=""),shader.uniforms.hasBlur=this._hasBlur,shader.uniforms.tDiffuse=this._tDiffuse,shader.uniforms.tDepth=this._tDepth,shader.uniforms.distortionMap=this._distortionMap,shader.uniforms.tDiffuseBlur=this._tDiffuseBlur,shader.uniforms.textureMatrix=this._textureMatrix,shader.uniforms.mirror=this._mirror,shader.uniforms.mixBlur=this._mixBlur,shader.uniforms.mixStrength=this._blurStrength,shader.uniforms.minDepthThreshold=this._minDepthThreshold,shader.uniforms.maxDepthThreshold=this._maxDepthThreshold,shader.uniforms.depthScale=this._depthScale,shader.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,shader.uniforms.distortion=this._distortion,shader.uniforms.mixContrast=this._mixContrast,shader.vertexShader=`\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      ${shader.vertexShader}`,shader.vertexShader=shader.vertexShader.replace("#include <project_vertex>","#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );"),shader.fragmentShader=`\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        ${shader.fragmentShader}`,shader.fragmentShader=shader.fragmentShader.replace("#include <emissivemap_fragment>","#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      ")}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(v){this._tDiffuse.value=v}get tDepth(){return this._tDepth.value}set tDepth(v){this._tDepth.value=v}get distortionMap(){return this._distortionMap.value}set distortionMap(v){this._distortionMap.value=v}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(v){this._tDiffuseBlur.value=v}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(v){this._textureMatrix.value=v}get hasBlur(){return this._hasBlur.value}set hasBlur(v){this._hasBlur.value=v}get mirror(){return this._mirror.value}set mirror(v){this._mirror.value=v}get mixBlur(){return this._mixBlur.value}set mixBlur(v){this._mixBlur.value=v}get mixStrength(){return this._blurStrength.value}set mixStrength(v){this._blurStrength.value=v}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(v){this._minDepthThreshold.value=v}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(v){this._maxDepthThreshold.value=v}get depthScale(){return this._depthScale.value}set depthScale(v){this._depthScale.value=v}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(v){this._depthToBlurRatioBias.value=v}get distortion(){return this._distortion.value}set distortion(v){this._distortion.value=v}get mixContrast(){return this._mixContrast.value}set mixContrast(v){this._mixContrast.value=v}}class SpotLightMaterial extends three_module.jyz{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new three_module.Pa4(0,0,0)},lightColor:{value:new three_module.Ilk("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new three_module.FM8(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n        varying vec3 vNormal;\n        varying vec3 vWorldPosition;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        void main() {\n          // compute intensity\n          vNormal = normalize( normalMatrix * normal );\n          vec4 worldPosition\t= modelMatrix * vec4( position, 1.0 );\n          vWorldPosition = worldPosition.xyz;\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n          float intensity\t= distance(worldPosition.xyz, spotPosition) / attenuation;\n          intensity\t= 1.0 - clamp(intensity, 0.0, 1.0);\n          vIntensity = intensity;\n          // set gl_Position\n          gl_Position\t= projectionMatrix * viewPosition;\n\n        }",fragmentShader:"\n        #include <packing>\n\n        varying vec3 vNormal;\n        varying vec3 vWorldPosition;\n        uniform vec3 lightColor;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform float opacity;\n\n        float readDepth( sampler2D depthSampler, vec2 coord ) {\n          float fragCoordZ = texture2D( depthSampler, coord ).x;\n          float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          return viewZ;\n        }\n\n        void main() {\n          float d = 1.0;\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 sUv = gl_FragCoord.xy / resolution;\n            d = readDepth(depth, sUv);\n          }\n          float intensity = vIntensity;\n          vec3 normal\t= vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity\t= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );\n          intensity\t*= angleIntensity;\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          if (isSoft) {\n            intensity\t*= smoothstep(0., 1., vViewZ - d);\n          }\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n            #include <encodings_fragment>\n        }"})}}class StarFieldMaterial extends three_module.jyz{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}}var NgtSobaImageShaderMaterial_1,core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs");let NgtSobaImageShaderMaterial=NgtSobaImageShaderMaterial_1=class NgtSobaImageShaderMaterial extends materials_src.yS{set map(map){this.set({map})}set scale(scale){this.set({scale})}set imageBounds(imageBounds){this.set({imageBounds})}set color(color){this.set({color})}set zoom(zoom){this.set({zoom:(0,src.su)(zoom)})}set grayscale(grayscale){this.set({grayscale:(0,src.su)(grayscale)})}get materialType(){return ImageShaderMaterial}get optionFields(){return{...super.optionFields,map:!1,scale:!0,imageBounds:!0,color:!0,zoom:!0,grayscale:!0}}};NgtSobaImageShaderMaterial.propDecorators={map:[{type:core.Input}],scale:[{type:core.Input}],imageBounds:[{type:core.Input}],color:[{type:core.Input}],zoom:[{type:core.Input}],grayscale:[{type:core.Input}]},NgtSobaImageShaderMaterial=NgtSobaImageShaderMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-image-shader-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtSobaImageShaderMaterial_1),(0,src.Wm)(NgtSobaImageShaderMaterial_1)]})],NgtSobaImageShaderMaterial);let NgtSobaImageShaderMaterialModule=class NgtSobaImageShaderMaterialModule{};NgtSobaImageShaderMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaImageShaderMaterial],exports:[NgtSobaImageShaderMaterial]})],NgtSobaImageShaderMaterialModule);var NgtSobaMeshReflectorMaterial_1,tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js");let NgtSobaMeshReflectorMaterial=NgtSobaMeshReflectorMaterial_1=class NgtSobaMeshReflectorMaterial extends materials_src.hv{constructor(){super(...arguments),this.reflectorPlane=new three_module.JOQ,this.normal=new three_module.Pa4,this.reflectorWorldPosition=new three_module.Pa4,this.cameraWorldPosition=new three_module.Pa4,this.rotationMatrix=new three_module.yGw,this.lookAtPosition=new three_module.Pa4(0,0,-1),this.clipPlane=new three_module.Ltg,this.view=new three_module.Pa4,this.target=new three_module.Pa4,this.q=new three_module.Ltg,this.virtualCamera=new three_module.cPb,this.materialProps$=this.select(this.store.select((s=>s.gl)),this.select((s=>s.blur)),this.select((s=>s.resolution)),this.select((s=>s.mirror)),this.select((s=>s.hasBlur)),this.select((s=>s.mixBlur)),this.select((s=>s.mixStrength)),this.select((s=>s.minDepthThreshold)),this.select((s=>s.maxDepthThreshold)),this.select((s=>s.depthScale)),this.select((s=>s.depthToBlurRatioBias)),this.select((s=>s.distortion)),this.select((s=>s.distortionMap)),this.select((s=>s.mixContrast))),this.setReflectorOptions=this.effect((0,tap.b)((()=>{const{reflectorOffset,resolution,reflectorDefines}=this.get(),props={reflectorOffset,resolution,defines:reflectorDefines};(0,src.nH)(this.instanceValue,props)}))),this.setRenderTargets=this.effect((0,tap.b)((()=>{const gl=this.store.get((s=>s.gl)),{resolution,blur,minDepthThreshold,maxDepthThreshold,depthScale,depthToBlurRatioBias,fbo1Ref,fbo2Ref,blurPassRef}=this.get(),parameters={minFilter:three_module.wem,magFilter:three_module.wem,encoding:gl.outputEncoding,type:three_module.cLu},fbo1=new three_module.dd2(resolution,resolution,parameters);fbo1.depthBuffer=!0,fbo1.depthTexture=new three_module.$YQ(resolution,resolution),fbo1.depthTexture.format=three_module.qkB,fbo1.depthTexture.type=three_module.LsT;const fbo2=new three_module.dd2(resolution,resolution,parameters),blurPass=new BlurPass({gl,resolution,width:blur[0],height:blur[1],minDepthThreshold,maxDepthThreshold,depthScale,depthToBlurRatioBias});fbo1Ref.set(fbo1),fbo2Ref.set(fbo2),blurPassRef.set(blurPass),this.set({tDiffuse:fbo1.texture,tDepth:fbo1.depthTexture,tDiffuseBlur:fbo2.texture})}))),this.setDefines=this.effect((0,tap.b)((()=>{const{hasBlur,depthScale,distortionMap}=this.get();this.set({reflectorDefines:{USE_BLUR:hasBlur?"":void 0,USE_DEPTH:depthScale>0?"":void 0,USE_DISTORTION:distortionMap?"":void 0}})}))),this.registerBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({callback:()=>{const material=this.instanceValue,parent=material?.__ngt__?.parent?.value;if(!parent)return;const gl=this.store.get((s=>s.gl)),scene=this.store.get((s=>s.scene)),{fbo1Ref,fbo2Ref,blurPassRef,hasBlur}=this.get();if(!fbo1Ref.value||!fbo2Ref.value)return;parent.visible=!1;const currentXrEnabled=gl.xr.enabled,currentShadowAutoUpdate=gl.shadowMap.autoUpdate;this.beforeRender(material),gl.xr.enabled=!1,gl.shadowMap.autoUpdate=!1,gl.setRenderTarget(fbo1Ref.value),gl.state.buffers.depth.setMask(!0),gl.autoClear||gl.clear(),gl.render(scene,this.virtualCamera),hasBlur&&blurPassRef.value&&fbo1Ref.value&&fbo2Ref.value&&blurPassRef.value.render(gl,fbo1Ref.value,fbo2Ref.value),gl.xr.enabled=currentXrEnabled,gl.shadowMap.autoUpdate=currentShadowAutoUpdate,parent.visible=!0,gl.setRenderTarget(null)}}))))}set resolution(resolution){this.set({resolution:(0,src.su)(resolution)})}set mixBlur(mixBlur){this.set({mixBlur:(0,src.su)(mixBlur)})}set mixStrength(mixStrength){this.set({mixStrength:(0,src.su)(mixStrength)})}set blur(blur){const blurArr=src.is.arr(blur)?blur:[(0,src.su)(blur),(0,src.su)(blur)];this.set({blur:blurArr,hasBlur:blurArr[0]+blurArr[1]>0})}set mirror(mirror){this.set({mirror:(0,src.su)(mirror)})}set minDepthThreshold(minDepthThreshold){this.set({minDepthThreshold:(0,src.su)(minDepthThreshold)})}set maxDepthThreshold(maxDepthThreshold){this.set({maxDepthThreshold:(0,src.su)(maxDepthThreshold)})}set depthScale(depthScale){this.set({depthScale:(0,src.su)(depthScale)})}set depthToBlurRatioBias(depthToBlurRatioBias){this.set({depthToBlurRatioBias:(0,src.su)(depthToBlurRatioBias)})}set distortionMap(distortionMap){this.set({distortionMap})}set distortion(distortion){this.set({distortion:(0,src.su)(distortion)})}set mixContrast(mixContrast){this.set({mixContrast:(0,src.su)(mixContrast)})}set reflectorOffset(reflectorOffset){this.set({reflectorOffset:(0,src.su)(reflectorOffset)})}get materialType(){return MeshReflectorMaterial}preInit(){super.preInit(),this.set((state=>{const blur=state.blur??[0,0],hasBlur=blur[0]+blur[1]>0;return{fbo1Ref:new src.Rl,fbo2Ref:new src.Rl,blurPassRef:new src.Rl,textureMatrix:new three_module.yGw,mixBlur:state.mixBlur??0,mixStrength:state.mixStrength??1,resolution:state.resolution??256,hasBlur,minDepthThreshold:state.minDepthThreshold??.9,maxDepthThreshold:state.maxDepthThreshold??1,depthScale:state.depthScale??0,depthToBlurRatioBias:state.depthToBlurRatioBias??.25,mirror:state.mirror??0,distortion:state.distortion??1,mixContrast:state.mixContrast??1,reflectorOffset:state.reflectorOffset??0}}))}postInit(){super.postInit(),this.setReflectorOptions(this.select(this.instance$,this.materialProps$)),this.setDefines(this.materialProps$),this.setRenderTargets(this.materialProps$),this.registerBeforeRender()}get optionFields(){return{...super.optionFields,textureMatrix:!1,hasBlur:!1,mixBlur:!1,mixStrength:!1,mirror:!1,minDepthThreshold:!1,maxDepthThreshold:!1,depthScale:!1,depthToBlurRatioBias:!1,distortionMap:!0,distortion:!1,mixContrast:!1,tDiffuse:!0,tDepth:!0,tDiffuseBlur:!0}}get ctorParams$(){return this.select((s=>s.reflectorDefines))}beforeRender(material){const parent=material.__ngt__.parent?.value;if(!parent)return;const{camera}=this.store.get(),{reflectorOffset,textureMatrix}=this.get();if(this.reflectorWorldPosition.setFromMatrixPosition(parent.matrixWorld),this.cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld),this.rotationMatrix.extractRotation(parent.matrixWorld),this.normal.set(0,0,1),this.normal.applyMatrix4(this.rotationMatrix),this.reflectorWorldPosition.addScaledVector(this.normal,reflectorOffset),this.view.subVectors(this.reflectorWorldPosition,this.cameraWorldPosition),this.view.dot(this.normal)>0)return;this.view.reflect(this.normal).negate(),this.view.add(this.reflectorWorldPosition),this.rotationMatrix.extractRotation(camera.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition),this.target.subVectors(this.reflectorWorldPosition,this.lookAtPosition),this.target.reflect(this.normal).negate(),this.target.add(this.reflectorWorldPosition),this.virtualCamera.position.copy(this.view),this.virtualCamera.up.set(0,1,0),this.virtualCamera.up.applyMatrix4(this.rotationMatrix),this.virtualCamera.up.reflect(this.normal),this.virtualCamera.lookAt(this.target),this.virtualCamera.far=camera.far,this.virtualCamera.updateMatrixWorld(),this.virtualCamera.projectionMatrix.copy(camera.projectionMatrix),textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),textureMatrix.multiply(this.virtualCamera.projectionMatrix),textureMatrix.multiply(this.virtualCamera.matrixWorldInverse),textureMatrix.multiply(parent.matrixWorld),this.reflectorPlane.setFromNormalAndCoplanarPoint(this.normal,this.reflectorWorldPosition),this.reflectorPlane.applyMatrix4(this.virtualCamera.matrixWorldInverse),this.clipPlane.set(this.reflectorPlane.normal.x,this.reflectorPlane.normal.y,this.reflectorPlane.normal.z,this.reflectorPlane.constant);const projectionMatrix=this.virtualCamera.projectionMatrix;this.q.x=(Math.sign(this.clipPlane.x)+projectionMatrix.elements[8])/projectionMatrix.elements[0],this.q.y=(Math.sign(this.clipPlane.y)+projectionMatrix.elements[9])/projectionMatrix.elements[5],this.q.z=-1,this.q.w=(1+projectionMatrix.elements[10])/projectionMatrix.elements[14],this.clipPlane.multiplyScalar(2/this.clipPlane.dot(this.q)),projectionMatrix.elements[2]=this.clipPlane.x,projectionMatrix.elements[6]=this.clipPlane.y,projectionMatrix.elements[10]=this.clipPlane.z+1,projectionMatrix.elements[14]=this.clipPlane.w}};NgtSobaMeshReflectorMaterial.propDecorators={resolution:[{type:core.Input}],mixBlur:[{type:core.Input}],mixStrength:[{type:core.Input}],blur:[{type:core.Input}],mirror:[{type:core.Input}],minDepthThreshold:[{type:core.Input}],maxDepthThreshold:[{type:core.Input}],depthScale:[{type:core.Input}],depthToBlurRatioBias:[{type:core.Input}],distortionMap:[{type:core.Input}],distortion:[{type:core.Input}],mixContrast:[{type:core.Input}],reflectorOffset:[{type:core.Input}]},NgtSobaMeshReflectorMaterial=NgtSobaMeshReflectorMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-mesh-reflector-material",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.uy)(NgtSobaMeshReflectorMaterial_1),(0,src.Wm)(NgtSobaMeshReflectorMaterial_1)]})],NgtSobaMeshReflectorMaterial);let NgtSobaMeshReflectorMaterialModule=class NgtSobaMeshReflectorMaterialModule{};var NgtSobaSpotLightMaterial_1;NgtSobaMeshReflectorMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaMeshReflectorMaterial],exports:[NgtSobaMeshReflectorMaterial]})],NgtSobaMeshReflectorMaterialModule);let NgtSobaSpotLightMaterial=NgtSobaSpotLightMaterial_1=class NgtSobaSpotLightMaterial extends materials_src.yS{get materialType(){return SpotLightMaterial}};NgtSobaSpotLightMaterial=NgtSobaSpotLightMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-spot-light-material",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.uy)(NgtSobaSpotLightMaterial_1),(0,src.Wm)(NgtSobaSpotLightMaterial_1)]})],NgtSobaSpotLightMaterial);let NgtSobaSpotLightMaterialModule=class NgtSobaSpotLightMaterialModule{};var NgtSobaStarFieldMaterial_1;NgtSobaSpotLightMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaSpotLightMaterial],exports:[NgtSobaSpotLightMaterial]})],NgtSobaSpotLightMaterialModule);let NgtSobaStarFieldMaterial=NgtSobaStarFieldMaterial_1=class NgtSobaStarFieldMaterial extends materials_src.yS{get materialType(){return StarFieldMaterial}};NgtSobaStarFieldMaterial=NgtSobaStarFieldMaterial_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-star-field-material",standalone:!0,template:"<ng-content></ng-content>",providers:[(0,src.uy)(NgtSobaStarFieldMaterial_1),(0,src.Wm)(NgtSobaStarFieldMaterial_1)]})],NgtSobaStarFieldMaterial);let NgtSobaStarFieldMaterialModule=class NgtSobaStarFieldMaterialModule{};NgtSobaStarFieldMaterialModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaStarFieldMaterial],exports:[NgtSobaStarFieldMaterial]})],NgtSobaStarFieldMaterialModule)},"./libs/soba/src/create-control.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function createRangeControl(min,max,step){return{type:"range",min,max,step}}__webpack_require__.d(__webpack_exports__,{q:()=>createRangeControl})},"./libs/soba/src/setup-canvas.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qD:()=>setupCanvas,sn:()=>setupCanvasModules,y3:()=>turnAnimate});var src=__webpack_require__("./libs/core/src/index.ts"),attributes_src=__webpack_require__("./libs/core/attributes/src/index.ts"),lights_src=__webpack_require__("./libs/core/lights/src/index.ts"),tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),stats_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/examples/jsm/libs/stats.module.js");let NgtStats=class NgtStats extends src.gU{constructor(zone,{body}){super(),this.zone=zone,this._showPanel=0,this.node=body,this._stats=(0,stats_module.Z)()}set showPanel(showPanel){this._showPanel=(0,src.su)(showPanel)}get stats(){return this._stats}ngOnInit(){this.zone.runOutsideAngular((()=>{this.effect((0,src.oe)((()=>{this.parent&&(this.node=this.parent),this._stats.showPanel(this._showPanel),this.node.appendChild(this._stats.dom);const beginCallbackCleanup=(0,src.ll)((()=>this._stats.begin())),endCallbackCleanup=(0,src.WC)((()=>this._stats.end()));return()=>{this._stats&&(this.node.removeChild(this._stats.dom),beginCallbackCleanup(),endCallbackCleanup())}})))()}))}};NgtStats.ctorParameters=()=>[{type:core.NgZone},{type:Document,decorators:[{type:core.Inject,args:[common.K0]}]}],NgtStats.propDecorators={parent:[{type:core.Input}],showPanel:[{type:core.Input}]},NgtStats=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-stats",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush}),(0,tslib_es6.w6)("design:paramtypes",[core.NgZone,Document])],NgtStats);let NgtStatsModule=class NgtStatsModule{};NgtStatsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtStats],exports:[NgtStats]})],NgtStatsModule);var controls_src=__webpack_require__("./libs/soba/controls/src/index.ts"),loaders_src=__webpack_require__("./libs/soba/loaders/src/index.ts");function setupCanvas({cameraPosition=[-5,5,5],cameraFov=75,lights=!0,controls=!0,makeControlsDefault=!1,black=!0,loader=!1}={}){return story=>`\n    <ngt-canvas\n      shadows\n      initialLog\n      [camera]="{position: [${cameraPosition}], fov: ${cameraFov}}"\n    >\n      <ngt-color attach="background" color=${black?"black":"white"}></ngt-color>\n\n      <ng-container *ngIf="${lights}">\n        <ngt-ambient-light intensity="0.8"></ngt-ambient-light>\n        <ngt-point-light intensity="1" [position]="[0, 6, 0]"></ngt-point-light>\n      </ng-container>\n\n      <ngt-soba-orbit-controls *ngIf="${controls}" [makeDefault]="${makeControlsDefault}" ></ngt-soba-orbit-controls>\n\n      ${story}\n    </ngt-canvas>\n    <ngt-stats></ngt-stats>\n    <ngt-soba-loader *ngIf="${loader}"></ngt-soba-loader>\n  `}const setupCanvasModules=[src.DX,attributes_src.bg,NgtStatsModule,lights_src.EQ,lights_src.GK,controls_src.Li,loaders_src.Ts];function turnAnimate(object){object.rotation.y+=.01}},"./libs/soba/staging/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I0:()=>NgtSobaBoundsModule,r_:()=>NgtSobaCameraShakeModule,gT:()=>NgtSobaCenterModule,hJ:()=>NgtSobaContactShadowsModule,wj:()=>NgtSobaEnvironmentModule,vc:()=>NgtSobaSkyModule,Pb:()=>NgtSobaSpotLightModule,YS:()=>NgtSobaStageModule,Ie:()=>NgtSobaStars,ec:()=>NgtSobaStarsModule,nw:()=>presetsObj});var NgtSobaBackdrop_1,tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./libs/core/src/index.ts"),geometries_src=__webpack_require__("./libs/core/geometries/src/index.ts"),group_src=__webpack_require__("./libs/core/group/src/index.ts"),meshes_src=__webpack_require__("./libs/core/meshes/src/index.ts"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),tap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),filter=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/filter.js");const easeInExpo=x=>0===x?0:Math.pow(2,10*x-10);let NgtSobaBackdropContent=class NgtSobaBackdropContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaBackdropContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaBackdropContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-backdrop-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaBackdropContent);let NgtSobaBackdrop=NgtSobaBackdrop_1=class NgtSobaBackdrop extends src.Kw{constructor(){super(...arguments),this.setup=this.effect((0,tap.b)((()=>{const{segments,floor,planeGeometry}=this.get();let i=0;const offset=segments/segments/2,position=planeGeometry.value.attributes.position;for(let x=0;x<segments+1;x++)for(let y=0;y<segments+1;y++)position.setXYZ(i++,x/segments-offset+(0===x?-floor:0),y/segments-offset,easeInExpo(x/segments));(0,src.QF)(position),planeGeometry.value.computeVertexNormals()})))}set floor(floor){this.set({floor:(0,src.su)(floor)})}set segments(segments){this.set({segments:(0,src.su)(segments)})}get segments(){return this.get((s=>s.segments))}get backdropMesh(){return this.get((s=>s.backdrop))}get planeGeometry(){return this.get((s=>s.planeGeometry))}preInit(){super.preInit(),this.set((state=>({backdrop:new src.Rl,planeGeometry:new src.Rl,floor:state.floor??.25,segments:state.segments??20})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setup(this.select(this.select((s=>s.segments)),this.select((s=>s.floor)),this.get((s=>s.planeGeometry)).pipe((0,filter.h)((geometry=>!!geometry)))))}))}))}};NgtSobaBackdrop.propDecorators={floor:[{type:core.Input}],segments:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaBackdropContent]}]},NgtSobaBackdrop=NgtSobaBackdrop_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-backdrop",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this" receiveShadow="false" skipParent>\n      <ngt-mesh [ref]="backdropMesh" [receiveShadow]="receiveShadow" [rotation]="[-90 | radian, 0, 90 | radian]">\n        <ngt-plane-geometry [ref]="planeGeometry" [args]="[1, 1, $any(segments), $any(segments)]"></ngt-plane-geometry>\n        <ng-container\n          *ngIf="content"\n          [ngTemplateOutlet]="content.templateRef"\n          [ngTemplateOutletContext]="{ backdrop: backdropMesh }"\n        ></ng-container>\n      </ngt-mesh>\n    </ngt-group>\n  ',imports:[group_src.U,src.VL,meshes_src.oX,geometries_src.U4,src.j4,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaBackdrop_1),(0,src.wY)(NgtSobaBackdrop_1,(backdrop=>backdrop.backdropMesh)),(0,src.Hm)(NgtSobaBackdrop_1)]})],NgtSobaBackdrop);let NgtSobaBackdropModule=class NgtSobaBackdropModule{};NgtSobaBackdropModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaBackdrop,NgtSobaBackdropContent],exports:[NgtSobaBackdrop,NgtSobaBackdropContent]})],NgtSobaBackdropModule);var NgtSobaBounds_1,three_module=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js");function equals(a,b,eps){return Math.abs(a.x-b.x)<eps&&Math.abs(a.y-b.y)<eps&&Math.abs(a.z-b.z)<eps}function damp(v,t,lambda,delta){v.x=three_module.M8C.damp(v.x,t.x,lambda,delta),v.y=three_module.M8C.damp(v.y,t.y,lambda,delta),v.z=three_module.M8C.damp(v.z,t.z,lambda,delta)}let NgtSobaBoundsContent=class NgtSobaBoundsContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaBoundsContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaBoundsContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-bounds-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaBoundsContent);let NgtSobaBounds=NgtSobaBounds_1=class NgtSobaBounds extends src.Kw{constructor(){super(...arguments),this.fitChange=new core.EventEmitter,this.current={animating:!1,focus:new three_module.Pa4,camera:new three_module.Pa4,zoom:1},this.goal={focus:new three_module.Pa4,camera:new three_module.Pa4,zoom:1},this.box=new three_module.ZzF,this.count=0,this.preventDragHijacking=this.effect((0,src.oe)((()=>{const controls=this.store.get((s=>s.controls));if(controls){const callback=()=>this.current.animating=!1;return controls.addEventListener("start",callback),()=>controls.removeEventListener("start",callback)}}))),this.observeSizeChange=this.effect((0,tap.b)((()=>{const{clip,fit,observe}=this.get();(observe||0==this.count++)&&(this.api.refresh(),fit&&this.api.fit(),clip&&this.api.clip())}))),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({callback:({delta})=>{if(this.current.animating){const{damping,eps}=this.get(),controls=this.store.get((s=>s.controls)),camera=this.store.get((s=>s.camera)),invalidate=this.store.get((s=>s.invalidate));if(damp(this.current.focus,this.goal.focus,damping,delta),damp(this.current.camera,this.goal.camera,damping,delta),this.current.zoom=three_module.M8C.damp(this.current.zoom,this.goal.zoom,damping,delta),camera.position.copy(this.current.camera),src.is.orthographic(camera)&&(camera.zoom=this.current.zoom,camera.updateProjectionMatrix()),controls?(controls.target.copy(this.current.focus),controls.update()):camera.lookAt(this.current.focus),invalidate(),src.is.orthographic(camera)&&!(Math.abs(this.current.zoom-this.goal.zoom)<eps))return;if(!src.is.orthographic(camera)&&!equals(this.current.camera,this.goal.camera,eps))return;if(controls&&!equals(this.current.focus,this.goal.focus,eps))return;this.current.animating=!1}}}))))}set damping(damping){this.set({damping:(0,src.su)(damping)})}set fit(fit){this.set({fit:(0,src.Ig)(fit)})}set clip(clip){this.set({clip:(0,src.Ig)(clip)})}set observe(observe){this.set({observe:(0,src.Ig)(observe)})}set margin(margin){this.set({margin:(0,src.su)(margin)})}set eps(eps){this.set({eps:(0,src.su)(eps)})}preInit(){super.preInit(),this.set((state=>({damping:state.damping??6,fit:state.fit??!1,clip:state.clip??!1,observe:state.observe??!1,margin:state.margin??1.2,eps:state.eps??.01})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.preventDragHijacking(this.store.select((s=>s.controls))),this.observeSizeChange(this.select(this.store.select((s=>s.size)),this.store.select((s=>s.camera)),this.store.select((s=>s.controls)),this.select((s=>s.clip)),this.select((s=>s.fit)),this.select((s=>s.observe)),this.instance$)),this.setBeforeRender()}))}))}get api(){return{getSize:()=>{const camera=this.store.get((s=>s.camera)),margin=this.get((s=>s.margin)),size=this.box.getSize(new three_module.Pa4),center=this.box.getCenter(new three_module.Pa4),maxSize=Math.max(size.x,size.y,size.z),fitHeightDistance=src.is.orthographic(camera)?4*maxSize:maxSize/(2*Math.atan(Math.PI*camera.fov/360)),fitWidthDistance=src.is.orthographic(camera)?4*maxSize:fitHeightDistance/camera.aspect,distance=margin*Math.max(fitHeightDistance,fitWidthDistance);return{box:this.box,size,center,distance}},clip:()=>{const{distance}=this.api.getSize(),controls=this.store.get((s=>s.controls)),camera=this.store.get((s=>s.camera)),invalidate=this.store.get((s=>s.invalidate));return controls&&(controls.maxDistance=10*distance),camera.near=distance/100,camera.far=100*distance,camera.updateProjectionMatrix(),controls&&controls.update(),invalidate(),this.api},fit:()=>{const controls=this.store.get((s=>s.controls)),camera=this.store.get((s=>s.camera)),invalidate=this.store.get((s=>s.invalidate)),{damping,margin}=this.get();this.current.camera.copy(camera.position),controls&&this.current.focus.copy(controls.target);const{center,distance}=this.api.getSize(),direction=center.clone().sub(camera.position).normalize().multiplyScalar(distance);if(this.goal.camera.copy(center).sub(direction),this.goal.focus.copy(center),src.is.orthographic(camera)){this.current.zoom=camera.zoom;let maxHeight=0,maxWidth=0;const vertices=[new three_module.Pa4(this.box.min.x,this.box.min.y,this.box.min.z),new three_module.Pa4(this.box.min.x,this.box.max.y,this.box.min.z),new three_module.Pa4(this.box.min.x,this.box.min.y,this.box.max.z),new three_module.Pa4(this.box.min.x,this.box.max.y,this.box.max.z),new three_module.Pa4(this.box.max.x,this.box.max.y,this.box.max.z),new three_module.Pa4(this.box.max.x,this.box.max.y,this.box.min.z),new three_module.Pa4(this.box.max.x,this.box.min.y,this.box.max.z),new three_module.Pa4(this.box.max.x,this.box.min.y,this.box.min.z)];center.applyMatrix4(camera.matrixWorldInverse);for(const v of vertices)v.applyMatrix4(camera.matrixWorldInverse),maxHeight=Math.max(maxHeight,Math.abs(v.y-center.y)),maxWidth=Math.max(maxWidth,Math.abs(v.x-center.x));maxHeight*=2,maxWidth*=2;const zoomForHeight=(camera.top-camera.bottom)/maxHeight,zoomForWidth=(camera.right-camera.left)/maxWidth;this.goal.zoom=Math.min(zoomForHeight,zoomForWidth)/margin,damping||(camera.zoom=this.goal.zoom,camera.updateProjectionMatrix())}return damping?this.current.animating=!0:(camera.position.copy(this.goal.camera),camera.lookAt(this.goal.focus),controls&&(controls.target.copy(this.goal.focus),controls.update())),this.fitChange.observed&&this.fitChange.emit(this.api.getSize()),invalidate(),this.api},refresh:object=>{const{camera,controls}=this.store.get();if((def=object)&&def.isBox3)this.box.copy(object);else{const target=object||this.instance.value;target.updateWorldMatrix(!0,!0),this.box.setFromObject(target)}var def;if(this.box.isEmpty()){const max=camera.position.length()||10;this.box.setFromCenterAndSize(new three_module.Pa4,new three_module.Pa4(max,max,max))}if("OrthographicTrackballControls"===controls?.constructor.name){const{distance}=this.api.getSize(),direction=camera.position.clone().sub(controls.target).normalize().multiplyScalar(distance),newPos=controls.target.clone().add(direction);camera.position.copy(newPos)}return this.api}}}};NgtSobaBounds.propDecorators={damping:[{type:core.Input}],fit:[{type:core.Input}],clip:[{type:core.Input}],observe:[{type:core.Input}],margin:[{type:core.Input}],eps:[{type:core.Input}],fitChange:[{type:core.Output}],content:[{type:core.ContentChild,args:[NgtSobaBoundsContent]}]},NgtSobaBounds=NgtSobaBounds_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-bounds",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this">\n      <ng-container\n        *ngIf="content"\n        [ngTemplateOutlet]="content.templateRef"\n        [ngTemplateOutletContext]="{ bounds: instance, api: api }"\n      ></ng-container>\n    </ngt-group>\n    <ng-content></ng-content>\n  ',imports:[group_src.U,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaBounds_1),(0,src.wY)(NgtSobaBounds_1),(0,src.Hm)(NgtSobaBounds_1)]})],NgtSobaBounds);let NgtSobaBoundsModule=class NgtSobaBoundsModule{};NgtSobaBoundsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaBounds,NgtSobaBoundsContent],exports:[NgtSobaBounds,NgtSobaBoundsContent]})],NgtSobaBoundsModule);var SimplexNoise=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/math/SimplexNoise.js");let NgtSobaCameraShake=class NgtSobaCameraShake extends src.WZ{constructor(){super(...arguments),this.yawNoise=new SimplexNoise.L,this.pitchNoise=new SimplexNoise.L,this.rollNoise=new SimplexNoise.L,this.configureChangeEvent=this.effect((0,src.oe)((()=>{const{controls,camera}=this.store.get();if(controls){const initialRotation=this.get((s=>s.initialRotation)),callback=()=>{initialRotation.set(camera.rotation.clone())};return controls.addEventListener("change",callback),callback(),()=>{controls.removeEventListener("change",callback)}}}))),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({callback:({clock,delta})=>{const{intensityRef,maxYaw,maxPitch,maxRoll,yawFrequency,pitchFrequency,rollFrequency,initialRotation,decay,decayRate}=this.get(),camera=this.store.get((s=>s.camera)),shake=Math.pow(intensityRef.value,2),yaw=maxYaw*shake*this.yawNoise.noise(clock.elapsedTime*yawFrequency,1),pitch=maxPitch*shake*this.pitchNoise.noise(clock.elapsedTime*pitchFrequency,1),roll=maxRoll*shake*this.rollNoise.noise(clock.elapsedTime*rollFrequency,1);camera.rotation.set(initialRotation.value.x+pitch,initialRotation.value.y+yaw,initialRotation.value.z+roll),decay&&intensityRef.value>0&&(intensityRef.set(decayRate*delta),this.constrainIntensity())}}))))}set intensity(intensity){this.set({intensity:(0,src.su)(intensity)})}set decayRate(decayRate){this.set({decayRate:(0,src.su)(decayRate)})}set maxYaw(maxYaw){this.set({maxYaw:(0,src.su)(maxYaw)})}set maxPitch(maxPitch){this.set({maxPitch:(0,src.su)(maxPitch)})}set maxRoll(maxRoll){this.set({maxRoll:(0,src.su)(maxRoll)})}set yawFrequency(yawFrequency){this.set({yawFrequency:(0,src.su)(yawFrequency)})}set pitchFrequency(pitchFrequency){this.set({pitchFrequency:(0,src.su)(pitchFrequency)})}set rollFrequency(rollFrequency){this.set({rollFrequency:(0,src.su)(rollFrequency)})}set decay(decay){this.set({decay:(0,src.Ig)(decay)})}preInit(){super.preInit(),this.set((state=>{const intensity=state.intensity??1;return{intensity,intensityRef:new src.Rl(intensity),initialRotation:new src.Rl,decayRate:state.decayRate??.65,maxYaw:state.maxYaw??.1,maxPitch:state.maxPitch??.1,maxRoll:state.maxRoll??.1,yawFrequency:state.yawFrequency??.1,pitchFrequency:state.pitchFrequency??.1,rollFrequency:state.rollFrequency??.1,decay:state.decay??!1}}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{const camera=this.store.get((s=>s.camera));this.get((s=>s.initialRotation)).set(camera.rotation.clone()),this.configureChangeEvent(this.select(this.store.select((s=>s.camera)),this.store.select((s=>s.controls)))),this.setBeforeRender()}))}))}getIntensity(){return this.get((s=>s.intensityRef)).value}setIntensity(intensity){this.get((s=>s.intensityRef)).set(intensity),this.constrainIntensity()}constrainIntensity(){const intensityRef=this.get((s=>s.intensityRef));(intensityRef.value<0||intensityRef.value>1)&&intensityRef.set(intensityRef.value<0?0:1)}};NgtSobaCameraShake.propDecorators={intensity:[{type:core.Input}],decayRate:[{type:core.Input}],maxYaw:[{type:core.Input}],maxPitch:[{type:core.Input}],maxRoll:[{type:core.Input}],yawFrequency:[{type:core.Input}],pitchFrequency:[{type:core.Input}],rollFrequency:[{type:core.Input}],decay:[{type:core.Input}]},NgtSobaCameraShake=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-camera-shake",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush})],NgtSobaCameraShake);let NgtSobaCameraShakeModule=class NgtSobaCameraShakeModule{};NgtSobaCameraShakeModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaCameraShake],exports:[NgtSobaCameraShake]})],NgtSobaCameraShakeModule);var NgtSobaCenter_1,pipe=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),observeOn=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js"),scheduler_async=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),switchMap=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),combineLatest=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js");let NgtSobaCenterContent=class NgtSobaCenterContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaCenterContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaCenterContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-center-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaCenterContent);let NgtSobaCenter=NgtSobaCenter_1=class NgtSobaCenter extends src.Kw{constructor(){super(...arguments),this.setPosition=this.effect((0,pipe.z)((0,observeOn.Q)(scheduler_async.z),(0,tap.b)((()=>{const{outerGroup,innerGroup,alignTop}=this.get();outerGroup.value.position.set(0,0,0),outerGroup.value.updateWorldMatrix(!0,!0);const box3=(new three_module.ZzF).setFromObject(innerGroup.value),center=new three_module.Pa4,sphere=new three_module.aLr,height=box3.max.y-box3.min.y;box3.getCenter(center),box3.getBoundingSphere(sphere),outerGroup.value.position.set(-center.x,-center.y+(alignTop?height/2:0),-center.z)}))))}set alignTop(alignTop){this.set({alignTop:(0,src.Ig)(alignTop)})}get innerGroup(){return this.get((s=>s.innerGroup))}get outerGroup(){return this.get((s=>s.outerGroup))}preInit(){super.preInit(),this.set((state=>({innerGroup:new src.Rl,outerGroup:new src.Rl,alignTop:state.alignTop??!1})))}ngAfterContentInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setPosition(this.select(this.innerGroup.pipe((0,filter.h)((group=>!!group))),this.outerGroup.pipe((0,filter.h)((group=>!!group))),this.select((s=>s.alignTop)),this.children.changes.pipe((0,switchMap.w)((()=>(0,combineLatest.a)(this.children.map((child=>child()))))))))}))}))}};NgtSobaCenter.propDecorators={alignTop:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaCenterContent]}],children:[{type:core.ContentChildren,args:[src.Dh]}]},NgtSobaCenter=NgtSobaCenter_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-center",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this" skipParent>\n      <ngt-group [ref]="outerGroup">\n        <ngt-group [ref]="innerGroup">\n          <ng-container\n            *ngIf="content"\n            [ngTemplateOutlet]="content.templateRef"\n            [ngTemplateOutletContext]="{ group: innerGroup }"\n          ></ng-container>\n        </ngt-group>\n      </ngt-group>\n    </ngt-group>\n    <ng-content></ng-content>\n  ',imports:[group_src.U,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaCenter_1),(0,src.wY)(NgtSobaCenter_1,(center=>center.innerGroup)),(0,src.Hm)(NgtSobaCenter_1)]})],NgtSobaCenter);let NgtSobaCenterModule=class NgtSobaCenterModule{};NgtSobaCenterModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaCenter,NgtSobaCenterContent],exports:[NgtSobaCenter,NgtSobaCenterContent]})],NgtSobaCenterModule);var NgtSobaContactShadows_1,cameras_src=__webpack_require__("./libs/core/cameras/src/index.ts"),materials_src=__webpack_require__("./libs/core/materials/src/index.ts"),HorizontalBlurShader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/shaders/HorizontalBlurShader.js"),VerticalBlurShader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/shaders/VerticalBlurShader.js");let NgtSobaContactShadows=NgtSobaContactShadows_1=class NgtSobaContactShadows extends src.Kw{constructor(){super(...arguments),this.count=1,this.shadowViewModel$=this.select(this.select((s=>s.priority)),this.select((s=>s.planeGeometry)),this.select((s=>s.renderTarget)),this.select((s=>s.opacity)),this.select((s=>s.depthWrite)),this.select((s=>s.scaledWidth)),this.select((s=>s.scaledHeight)),this.select((s=>s.far)),((priority,planeGeometry,renderTarget,opacity,depthWrite,width,height,far)=>({priority,planeGeometry,renderTarget,opacity,depthWrite,width,height,far}))),this.setShadows=this.effect((0,tap.b)((()=>{const{resolution,scaledWidth:width,scaledHeight:height,color}=this.get(),gl=this.store.get((s=>s.gl)),renderTarget=new three_module.dd2(resolution,resolution);renderTarget.texture.encoding=gl.outputEncoding;const renderTargetBlur=new three_module.dd2(resolution,resolution);renderTargetBlur.texture.generateMipmaps=renderTarget.texture.generateMipmaps=!1;const planeGeometry=new three_module.BKK(width,height).rotateX(Math.PI/2),blurPlane=new three_module.Kj0(planeGeometry),depthMaterial=new three_module.lRF;depthMaterial.depthTest=depthMaterial.depthWrite=!1,depthMaterial.onBeforeCompile=shader=>{shader.uniforms={...shader.uniforms,ucolor:{value:new three_module.Ilk(color).convertSRGBToLinear()}},shader.fragmentShader=shader.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),shader.fragmentShader=shader.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};const horizontalBlurMaterial=new three_module.jyz(HorizontalBlurShader.P),verticalBlurMaterial=new three_module.jyz(VerticalBlurShader.Z);verticalBlurMaterial.depthTest=horizontalBlurMaterial.depthTest=!1,this.zone.run((()=>{this.set({renderTarget,planeGeometry,depthMaterial,blurPlane,horizontalBlurMaterial,verticalBlurMaterial,renderTargetBlur})}))})))}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}get opacity(){return this.get((s=>s.opacity))}set width(width){this.set({width:(0,src.su)(width)})}get width(){return this.get((s=>s.scaledWidth))}set height(height){this.set({height:(0,src.su)(height)})}get height(){return this.get((s=>s.scaledHeight))}set blur(blur){this.set({blur:(0,src.su)(blur)})}set far(far){this.set({far:(0,src.su)(far)})}get far(){return this.get((s=>s.far))}set smooth(smooth){this.set({smooth:(0,src.Ig)(smooth)})}set resolution(resolution){this.set({resolution:(0,src.su)(resolution)})}set frames(frames){this.set({frames:(0,src.su)(frames)})}set depthWrite(depthWrite){this.set({depthWrite:(0,src.Ig)(depthWrite)})}get depthWrite(){return this.get((s=>s.depthWrite))}get planeGeometry(){return this.get((s=>s.planeGeometry))}get renderTarget(){return this.get((s=>s.renderTarget))}get shadowCameraRef(){return this.get((s=>s.shadowCameraRef))}preInit(){super.preInit(),this.set((state=>({shadowCameraRef:new src.Rl,scale:src.is.equ(state.scale.toArray(),(0,src.Sy)(three_module.Pa4,1).toArray())?(0,src.Sy)(three_module.Pa4,10):state.scale,frames:state.frames??1/0,opacity:state.opacity??1,width:state.width??1,height:state.height??1,blur:state.blur??1,far:state.far??10,resolution:state.resolution??512,smooth:state.smooth??!0,color:src.is.equ(state.color.toArray(),(0,src.Sy)(three_module.Ilk).toArray())?(0,src.Sy)(three_module.Ilk,"#000000"):state.color,depthWrite:state.depthWrite??!1})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.set(this.select(this.select((s=>s.width)),this.select((s=>s.height)),this.select((s=>s.scale)),((width,height,scale)=>({scaledWidth:width*scale.x,scaledHeight:height*scale.y})))),this.setShadows(this.select(this.select((s=>s.resolution)),this.select((s=>s.scaledWidth)),this.select((s=>s.scaledHeight)),this.select((s=>s.scale)),this.select((s=>s.color))))}))}))}onBeforeRender(group){group.scale.setScalar(1);const{shadowCameraRef,frames,depthMaterial,renderTarget,smooth,blur}=this.get(),gl=this.store.get((s=>s.gl)),scene=this.store.get((s=>s.scene));if(shadowCameraRef.value&&renderTarget&&(frames===1/0||this.count<frames)){const initialBackground=scene.background;scene.background=null;const initialOverrideMaterial=scene.overrideMaterial;scene.overrideMaterial=depthMaterial,gl.setRenderTarget(renderTarget),gl.render(scene,shadowCameraRef.value),scene.overrideMaterial=initialOverrideMaterial,this.blurShadows(blur),smooth&&this.blurShadows(.4*blur),gl.setRenderTarget(null),scene.background=initialBackground,this.count++}}blurShadows(blur){const{renderTarget,blurPlane,horizontalBlurMaterial,verticalBlurMaterial,renderTargetBlur,shadowCameraRef}=this.get(),gl=this.store.get((s=>s.gl));blurPlane.visible=!0,blurPlane.material=horizontalBlurMaterial,horizontalBlurMaterial.uniforms.tDiffuse.value=renderTarget.texture,horizontalBlurMaterial.uniforms.h.value=blur/256,gl.setRenderTarget(renderTargetBlur),gl.render(blurPlane,shadowCameraRef.value),blurPlane.material=verticalBlurMaterial,verticalBlurMaterial.uniforms.tDiffuse.value=renderTargetBlur.texture,verticalBlurMaterial.uniforms.v.value=blur/256,gl.setRenderTarget(renderTarget),gl.render(blurPlane,shadowCameraRef.value),blurPlane.visible=!1}};NgtSobaContactShadows.propDecorators={opacity:[{type:core.Input}],width:[{type:core.Input}],height:[{type:core.Input}],blur:[{type:core.Input}],far:[{type:core.Input}],smooth:[{type:core.Input}],resolution:[{type:core.Input}],frames:[{type:core.Input}],depthWrite:[{type:core.Input}]},NgtSobaContactShadows=NgtSobaContactShadows_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-contact-shadows",standalone:!0,template:'\n    <ngt-group\n      (beforeRender)="onBeforeRender($event.object)"\n      [ngtObjectPassThrough]="this"\n      [rotation]="[90 | radian, 0, 0]"\n      name="soba-contact-shadows"\n    >\n      <ng-container *ngIf="shadowViewModel$ | async as viewModel">\n        <ngt-mesh [geometry]="viewModel.planeGeometry" [scale]="[1, -1, 1]" [rotation]="[-90 | radian, 0, 0]">\n          <ngt-mesh-basic-material\n            [map]="viewModel.renderTarget.texture"\n            transparent\n            [opacity]="viewModel.opacity"\n            [depthWrite]="viewModel.depthWrite"\n          ></ngt-mesh-basic-material>\n        </ngt-mesh>\n\n        <ngt-orthographic-camera\n          [ref]="shadowCameraRef"\n          [args]="[\n            -viewModel.width / 2,\n            viewModel.width / 2,\n            viewModel.height / 2,\n            -viewModel.height / 2,\n            0,\n            viewModel.far\n          ]"\n        ></ngt-orthographic-camera>\n      </ng-container>\n    </ngt-group>\n  ',imports:[group_src.U,src.VL,src.j4,common.O5,common.Ov,meshes_src.oX,materials_src.$t,cameras_src.pB],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaContactShadows_1),(0,src.wY)(NgtSobaContactShadows_1),(0,src.Hm)(NgtSobaContactShadows_1)]})],NgtSobaContactShadows);let NgtSobaContactShadowsModule=class NgtSobaContactShadowsModule{};NgtSobaContactShadowsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaContactShadows],exports:[NgtSobaContactShadows]})],NgtSobaContactShadowsModule);var takeUntil=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),isObservable=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/isObservable.js"),of=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/observable/of.js"),startWith=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),animationFrame=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js"),take=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/take.js"),RGBELoader=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/loaders/RGBELoader.js");const presetsObj={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"};var NgtSobaEnvironmentMap_1,NgtSobaEnvironmentCube_1,NgtSobaEnvironmentPortal_1,NgtSobaEnvironmentGround_1,NgtSobaEnvironment_1;function resolveScene(scene){return src.is.ref(scene)?scene.value:scene}let NgtSobaEnvironmentGeneric=class NgtSobaEnvironmentGeneric extends src.WZ{get frames(){return this.get((s=>s.frames))}set frames(frames){this.set({frames:(0,src.su)(frames)})}get near(){return this.get((s=>s.near))}set near(near){this.set({near:(0,src.su)(near)})}get far(){return this.get((s=>s.far))}set far(far){this.set({far:(0,src.su)(far)})}get resolution(){return this.get((s=>s.resolution))}set resolution(resolution){this.set({resolution:(0,src.su)(resolution)})}get background(){return this.get((s=>s.background))}set background(background){this.set({background:"only"===background?background:(0,src.Ig)(background)})}get map(){return this.get((s=>s.map))}set map(map){this.set({map})}get files(){return this.get((s=>s.files))}set files(files){this.set({files})}get path(){return this.get((s=>s.path))}set path(path){this.set({path})}get preset(){return this.get((s=>s.preset))}set preset(preset){this.set({preset})}get scene(){return this.get((s=>s.scene))}set scene(scene){this.set({scene})}get extensions(){return this.get((s=>s.extensions))}set extensions(extensions){this.set({extensions})}get ground(){return this.get((s=>s.ground))}set ground(ground){this.set({ground:src.is.obj(ground)?ground:(0,src.Ig)(ground)})}};NgtSobaEnvironmentGeneric.propDecorators={frames:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}],resolution:[{type:core.Input}],background:[{type:core.Input}],map:[{type:core.Input}],files:[{type:core.Input}],path:[{type:core.Input}],preset:[{type:core.Input}],scene:[{type:core.Input}],extensions:[{type:core.Input}],ground:[{type:core.Input}]},NgtSobaEnvironmentGeneric=(0,tslib_es6.gn)([(0,core.Directive)()],NgtSobaEnvironmentGeneric);let NgtSobaEnvironmentPassThrough=class NgtSobaEnvironmentPassThrough{constructor(host){this.host=host}set ngtSobaEnvironmentPassThrough(wrapper){this.assertWrapper(wrapper),wrapper.select(wrapper.select((s=>s.frames)).pipe((0,src.Xb)()),wrapper.select((s=>s.near)).pipe((0,src.Xb)()),wrapper.select((s=>s.far)).pipe((0,src.Xb)()),wrapper.select((s=>s.resolution)).pipe((0,src.Xb)()),wrapper.select((s=>s.background)).pipe((0,src.Xb)()),wrapper.select((s=>s.map)).pipe((0,src.Xb)()),wrapper.select((s=>s.files)).pipe((0,src.Xb)()),wrapper.select((s=>s.path)).pipe((0,src.Xb)()),wrapper.select((s=>s.preset)).pipe((0,src.Xb)()),wrapper.select((s=>s.scene)).pipe((0,src.Xb)()),wrapper.select((s=>s.extensions)).pipe((0,src.Xb)()),wrapper.select((s=>s.ground)).pipe((0,src.Xb)())).pipe((0,takeUntil.R)(wrapper.destroy$)).subscribe((()=>{this.host.frames=wrapper.frames,this.host.near=wrapper.near,this.host.far=wrapper.far,this.host.resolution=wrapper.resolution,this.host.background=wrapper.background,this.host.map=wrapper.map,this.host.files=wrapper.files,this.host.path=wrapper.path,this.host.preset=wrapper.preset,this.host.scene=wrapper.scene,this.host.extensions=wrapper.extensions,this.host.ground=wrapper.ground}))}assertWrapper(wrapper){if(!(wrapper instanceof NgtSobaEnvironmentGeneric))throw new Error("[ngtSobaEnvironmentPassThrough] wrapper is not an NgtSobaEnvironmentGeneric")}};NgtSobaEnvironmentPassThrough.ctorParameters=()=>[{type:NgtSobaEnvironmentGeneric,decorators:[{type:core.Self},{type:core.Optional}]}],NgtSobaEnvironmentPassThrough.propDecorators={ngtSobaEnvironmentPassThrough:[{type:core.Input}]},NgtSobaEnvironmentPassThrough=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngtSobaEnvironmentPassThrough]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[NgtSobaEnvironmentGeneric])],NgtSobaEnvironmentPassThrough);let NgtSobaEnvironmentResolver=class NgtSobaEnvironmentResolver extends src.gU{constructor(loader,store){super(),this.loader=loader,this.store=store,this.setTexture=this.effect((0,src.oe)((()=>{const{textureRef,extensions,preset}=this.get();let{files,path}=this.get();if(preset){if(!(preset in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));files=presetsObj[preset],path="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/"}const isCubeMap=Array.isArray(files),loader=isCubeMap?three_module.cBK:RGBELoader.x,sub=this.loader.use(loader,isCubeMap?[files]:files,(loader=>{loader.setPath(path),extensions&&extensions(loader)})).subscribe((data=>{const texture=isCubeMap?data[0]:data;texture.mapping=isCubeMap?three_module.fY$:three_module.dSO,textureRef.set(texture)}));return()=>{sub.unsubscribe()}}))),this.set({textureRef:new src.Rl})}use(paramsFactory){this.useSubscription&&this.useSubscription.unsubscribe();const params=paramsFactory({files:["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:""}),params$=(0,isObservable.b)(params)?params:(0,of.of)(params);return this.set(params$),this.useSubscription=this.store.onReady((()=>(this.setTexture(this.select(this.select((s=>s.path)),this.select((s=>s.files)),this.select((s=>s.preset)).pipe((0,src.Xb)()),this.select((s=>s.extensions)).pipe((0,src.Xb)()))),()=>{this.useSubscription&&this.useSubscription.unsubscribe()}))),this.get((s=>s.textureRef))}};NgtSobaEnvironmentResolver.ctorParameters=()=>[{type:src.gj},{type:src.W7}],NgtSobaEnvironmentResolver=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[src.gj,src.W7])],NgtSobaEnvironmentResolver);let NgtSobaEnvironmentMap=NgtSobaEnvironmentMap_1=class NgtSobaEnvironmentMap extends NgtSobaEnvironmentGeneric{constructor(){super(...arguments),this.setEnvironment=this.effect((0,src.oe)((()=>{const{map,background,scene}=this.get(),defaultScene=this.store.get((s=>s.scene));if(map){const target=resolveScene(scene||defaultScene),oldBg=target.background,oldEnv=target.environment;return"only"!==background&&(target.environment=map),background&&(target.background=map),()=>{"only"!==background&&(target.environment=oldEnv),background&&(target.background=oldBg)}}})))}preInit(){super.preInit(),this.set((state=>({background:state.background??!1})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setEnvironment(this.select(this.store.select((s=>s.scene)),this.select((s=>s.background)),this.select((s=>s.map)),this.select((s=>s.scene)).pipe((0,src.Xb)())))}))}))}};NgtSobaEnvironmentMap=NgtSobaEnvironmentMap_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-environment-map[map]",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaEnvironmentGeneric,useExisting:NgtSobaEnvironmentMap_1}]})],NgtSobaEnvironmentMap);let NgtSobaEnvironmentCube=NgtSobaEnvironmentCube_1=class NgtSobaEnvironmentCube extends NgtSobaEnvironmentGeneric{constructor(){super(...arguments),this.environmentResolver=(0,core.inject)(NgtSobaEnvironmentResolver),this.setEnvironment=this.effect((0,src.oe)((({texture})=>{const defaultScene=this.store.get((s=>s.scene)),{background,scene}=this.get(),target=resolveScene(scene||defaultScene),oldBg=target.background,oldEnv=target.environment;return"only"!==background&&(target.environment=texture),background&&(target.background=texture),()=>{"only"!==background&&(target.environment=oldEnv),background&&(target.background=oldBg)}})))}preInit(){super.preInit(),this.set((state=>({background:state.background??!1})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{const textureRef=this.environmentResolver.use((defaultParams=>this.select(this.select((s=>s.files)).pipe((0,startWith.O)(defaultParams.files)),this.select((s=>s.path)).pipe((0,startWith.O)(defaultParams.path)),this.select((s=>s.preset)).pipe((0,src.Xb)()),this.select((s=>s.extensions)).pipe((0,src.Xb)()),((files,path,preset,extensions)=>({files,path,preset,extensions})))));this.setEnvironment(this.select(textureRef.pipe((0,filter.h)((texture=>!!texture))),this.select((s=>s.background)),this.select((s=>s.scene)).pipe((0,src.Xb)()),this.store.select((s=>s.scene)),(texture=>({texture}))))}))}))}};NgtSobaEnvironmentCube=NgtSobaEnvironmentCube_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-environment-cube",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaEnvironmentGeneric,useExisting:NgtSobaEnvironmentCube_1},NgtSobaEnvironmentResolver]})],NgtSobaEnvironmentCube);let NgtSobaEnvironmentContent=class NgtSobaEnvironmentContent{constructor(templateRef){this.templateRef=templateRef}};NgtSobaEnvironmentContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaEnvironmentContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-environment-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaEnvironmentContent);let NgtSobaEnvironmentPortal=NgtSobaEnvironmentPortal_1=class NgtSobaEnvironmentPortal extends NgtSobaEnvironmentGeneric{constructor(){super(...arguments),this.virtualScene=new src.Rl((0,src.Pl)(new three_module.xsS,(()=>this.store.get()))),this.cubeCamera=new src.Rl,this.count=1,this.fbo$=this.select((s=>s.fbo)),this.setEnvironment=this.effect((0,src.oe)((()=>{const{gl,scene:defaultScene}=this.store.get(),{frames,scene,background,fbo}=this.get();1===frames&&this.cubeCamera.value.update(gl,this.virtualScene.value);const target=resolveScene(scene||defaultScene),oldBg=target.background,oldEnv=target.environment;return"only"!==background&&(target.environment=fbo.texture),background&&(target.background=fbo.texture),()=>{"only"!==background&&(target.environment=oldEnv),background&&(target.background=oldBg)}})))}preInit(){super.preInit(),this.set((state=>({near:state.near??1,far:state.far??1e3,resolution:state.resolution??256,frames:state.frames??1,background:state.background??!1})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.set(this.select(this.select((s=>s.resolution)),(resolution=>{const fbo=new three_module.oAp(resolution);return fbo.texture.type=three_module.cLu,{fbo}}))),this.setEnvironment(this.select(this.select(),this.cubeCamera.pipe((0,filter.h)((camera=>!!camera)))))}))}))}onBeforeRender(){const{camera,frames}=this.get(),gl=this.store.get((s=>s.gl));camera&&(frames===1/0||this.count<frames)&&(camera.update(gl,this.virtualScene.value),this.count++)}};NgtSobaEnvironmentPortal.propDecorators={content:[{type:core.ContentChild,args:[NgtSobaEnvironmentContent,{static:!0}]}]},NgtSobaEnvironmentPortal=NgtSobaEnvironmentPortal_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-environment-portal",standalone:!0,template:'\n    <ngt-portal [ref]="virtualScene">\n      <ng-container *ngTemplateOutlet="content.templateRef"></ng-container>\n\n      <ngt-cube-camera\n        *ngIf="fbo$ | async as fbo"\n        [ref]="cubeCamera"\n        (beforeRender)="onBeforeRender()"\n        [args]="[$any(near), $any(far), fbo]"\n      ></ngt-cube-camera>\n\n      <ngt-soba-environment-cube\n        *ngIf="files || preset; else environmentMap"\n        [ngtSobaEnvironmentPassThrough]="this"\n      ></ngt-soba-environment-cube>\n\n      <ng-template #environmentMap>\n        <ngt-soba-environment-map [ngtSobaEnvironmentPassThrough]="this" [map]="map"></ngt-soba-environment-map>\n      </ng-template>\n    </ngt-portal>\n  ',imports:[src.WS,cameras_src.eR,NgtSobaEnvironmentPassThrough,NgtSobaEnvironmentCube,NgtSobaEnvironmentMap,common.O5,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaEnvironmentGeneric,useExisting:NgtSobaEnvironmentPortal_1}]})],NgtSobaEnvironmentPortal);let NgtSobaEnvironmentGround=NgtSobaEnvironmentGround_1=class NgtSobaEnvironmentGround extends NgtSobaEnvironmentGeneric{constructor(){super(...arguments),this.materialRef=new src.Rl,this.vertexShader="\nvarying vec3 vWorldPosition;\n\nvoid main() {\n  vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n  vWorldPosition = worldPosition.xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",this.environmentResolver=(0,core.inject)(NgtSobaEnvironmentResolver),this.uniforms={cubemap:{value:null},height:{value:15},radius:{value:60}},this.environmentGroundViewModel$=this.select(this.select((s=>s.texture)),this.select((s=>s.scale)),this.select((s=>s.fragment)),((texture,scale,fragment)=>({texture,scale,fragment}))),this.setDefines=this.effect((0,tap.b)((()=>{const{isCubeMap,texture}=this.get(),cubeSize=((isCubeMap?texture.image[0]?.width:texture.image.width)??1024)/4,_lodMax=Math.floor(Math.log2(cubeSize)),_cubeSize=Math.pow(2,_lodMax),width=3*Math.max(_cubeSize,112),height=4*_cubeSize;this.set({defines:[isCubeMap?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH "+1/width,"#define CUBEUV_TEXEL_HEIGHT "+1/height,`#define CUBEUV_MAX_MIP ${_lodMax}.0`,""]})}))),this.setFragment=this.effect((0,tap.b)((()=>{const defines=this.get((s=>s.defines));this.set({fragment:defines.join("\n")+"\n#define ENVMAP_TYPE_CUBE_UV\n\nvarying vec3 vWorldPosition;\n\nuniform float radius;\nuniform float height;\n\n#ifdef ENVMAP_TYPE_CUBE\n  uniform samplerCube cubemap;\n#else\n  uniform sampler2D cubemap;\n#endif\n\n// From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\nfloat diskIntersect( in vec3 ro, in vec3 rd, vec3 c, vec3 n, float r ) {\n    vec3  o = ro - c;\n    float t = -dot(n, o)/dot(rd,n);\n    vec3  q = o + rd * t;\n    return (dot(q, q) < r * r) ? t : 1e6;\n}\n\n// From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\nfloat sphereIntersect( in vec3 ro, in vec3 rd, in vec3 ce, float ra ) {\n    vec3 oc = ro - ce;\n    float b = dot( oc, rd );\n    float c = dot( oc, oc ) - ra*ra;\n    float h = b * b - c;\n    if(h < 0.0) -1.0;\n    h = sqrt( h );\n    return -b + h;\n}\n\nvec3 project() {\n  vec3 p = normalize(vWorldPosition);\n  vec3 camPos = cameraPosition;\n  camPos.y -= height;\n\n  float intersection = sphereIntersect(camPos, p, vec3(0.), radius);\n  if(intersection > 0.) {\n    vec3 h = vec3(0.0,-height,0.0);\n    float intersection2 = diskIntersect(camPos, p, h, vec3(0.0,-1.0,0.0), radius);\n    p = (camPos + min(intersection, intersection2) * p) / radius;\n  }\n  else {\n    p = vec3(0.0,1.0,0.0);\n  }\n  return p;\n}\n\n#include <common>\n#include <cube_uv_reflection_fragment>\n\nvoid main(){\n  vec3 projectedWorldPosition = project();\n\n  #ifdef ENVMAP_TYPE_CUBE\n    vec3 outcolor = textureCube(cubemap, projectedWorldPosition).rgb;\n  #else\n    vec3 direction = normalize(projectedWorldPosition);\n    vec2 uv = equirectUv(direction);\n    vec3 outcolor = texture2D(cubemap, uv).rgb;\n  #endif\n\n  gl_FragColor = vec4(outcolor, 1.0);\n\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n}"})}))),this.setMaterialOptions=this.effect((0,tap.b)((()=>{const ground=this.get((s=>s.ground));this.set({height:ground?.height,radius:ground?.radius,scale:ground?.scale??1e3})}))),this.setHeightUniform=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,tap.b)((()=>{const{height}=this.get();this.materialRef.value&&height&&(this.materialRef.value.uniforms.height.value=height)})))),this.setRadiusUniform=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,tap.b)((()=>{const{radius}=this.get();this.materialRef.value&&radius&&(this.materialRef.value.uniforms.radius.value=radius)})))),this.setCubeMapUniform=this.effect((0,pipe.z)((0,observeOn.Q)(animationFrame.Z),(0,tap.b)((()=>{const{texture}=this.get();this.materialRef.value&&(this.materialRef.value.uniforms.cubemap.value=texture)}))))}ngOnInit(){super.ngOnInit(),this.store.onReady((()=>{const textureRef=this.environmentResolver.use((defaultParams=>this.select(this.select((s=>s.files)).pipe((0,startWith.O)(defaultParams.files)),this.select((s=>s.path)).pipe((0,startWith.O)(defaultParams.path)),this.select((s=>s.preset)).pipe((0,src.Xb)()),this.select((s=>s.extensions)).pipe((0,src.Xb)()),((files,path,preset,extensions)=>({files,path,preset,extensions})))));this.set(this.select(this.select((s=>s.map)).pipe((0,src.Xb)()),textureRef.pipe((0,filter.h)((texture=>!!texture))),((map,texture)=>{return map&&(texture=map),{texture,isCubeMap:(def=texture,!!def&&def.isCubeTexture)};var def}))),this.setDefines(this.select((s=>s.texture)).pipe((0,take.q)(1))),this.setFragment(this.select((s=>s.defines))),this.setMaterialOptions(this.select((s=>s.ground))),this.setHeightUniform(this.select(this.materialRef.pipe((0,filter.h)((material=>!!material))),this.select((s=>s.height)).pipe((0,src.Xb)()))),this.setRadiusUniform(this.select(this.materialRef.pipe((0,filter.h)((material=>!!material))),this.select((s=>s.radius)).pipe((0,src.Xb)()))),this.setCubeMapUniform(this.select(this.materialRef.pipe((0,filter.h)((material=>!!material))),this.select((s=>s.texture))))}))}};NgtSobaEnvironmentGround=NgtSobaEnvironmentGround_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-environment-ground",standalone:!0,template:'\n    <ng-container *ngIf="environmentGroundViewModel$ | async as viewModel">\n      <ngt-soba-environment-map\n        [ngtSobaEnvironmentPassThrough]="this"\n        [map]="viewModel.texture"\n      ></ngt-soba-environment-map>\n\n      <ngt-mesh [scale]="viewModel.scale">\n        <ngt-icosahedron-geometry [args]="[1, 16]"></ngt-icosahedron-geometry>\n        <ngt-shader-material\n          [ref]="materialRef"\n          [side]="\'back\' | side"\n          [vertexShader]="vertexShader"\n          [fragmentShader]="viewModel.fragment"\n          [uniforms]="uniforms"\n        ></ngt-shader-material>\n      </ngt-mesh>\n    </ng-container>\n  ',imports:[NgtSobaEnvironmentMap,meshes_src.oX,geometries_src.JH,materials_src.yS,src.iv,NgtSobaEnvironmentPassThrough,common.O5,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaEnvironmentGeneric,useExisting:NgtSobaEnvironmentGround_1},NgtSobaEnvironmentResolver]})],NgtSobaEnvironmentGround);let NgtSobaEnvironment=NgtSobaEnvironment_1=class NgtSobaEnvironment extends NgtSobaEnvironmentGeneric{};NgtSobaEnvironment.propDecorators={content:[{type:core.ContentChild,args:[NgtSobaEnvironmentContent]}]},NgtSobaEnvironment=NgtSobaEnvironment_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-environment",standalone:!0,template:'\n    <ngt-soba-environment-ground\n      *ngIf="!!ground; else mapOrPortalOrCube"\n      [ngtSobaEnvironmentPassThrough]="this"\n    ></ngt-soba-environment-ground>\n    <ng-template #mapOrPortalOrCube>\n      <ngt-soba-environment-map\n        *ngIf="!!map; else portalOrCube"\n        [ngtSobaEnvironmentPassThrough]="this"\n        [map]="map"\n      ></ngt-soba-environment-map>\n\n      <ng-template #portalOrCube>\n        <ngt-soba-environment-portal *ngIf="!!content; else cube" [ngtSobaEnvironmentPassThrough]="this">\n          <ng-template ngt-soba-environment-content>\n            <ng-container *ngTemplateOutlet="content.templateRef"></ng-container>\n          </ng-template>\n        </ngt-soba-environment-portal>\n\n        <ng-template #cube>\n          <ngt-soba-environment-cube [ngtSobaEnvironmentPassThrough]="this"></ngt-soba-environment-cube>\n        </ng-template>\n      </ng-template>\n    </ng-template>\n\n    <ng-content></ng-content>\n  ',imports:[NgtSobaEnvironmentGround,NgtSobaEnvironmentMap,NgtSobaEnvironmentPortal,NgtSobaEnvironmentCube,NgtSobaEnvironmentPassThrough,NgtSobaEnvironmentContent,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[{provide:NgtSobaEnvironmentGeneric,useExisting:NgtSobaEnvironment_1}]})],NgtSobaEnvironment);let NgtSobaEnvironmentModule=class NgtSobaEnvironmentModule{};var NgtSobaFloat_1;NgtSobaEnvironmentModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaEnvironment,NgtSobaEnvironmentContent],exports:[NgtSobaEnvironment,NgtSobaEnvironmentContent]})],NgtSobaEnvironmentModule);let NgtSobaFloatContent=class NgtSobaFloatContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaFloatContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaFloatContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-float-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaFloatContent);let NgtSobaFloat=NgtSobaFloat_1=class NgtSobaFloat extends src.Kw{constructor(){super(...arguments),this.offset=1e4*Math.random()}set speed(speed){this.set({speed:(0,src.su)(speed)})}set rotationIntensity(rotationIntensity){this.set({rotationIntensity:(0,src.su)(rotationIntensity)})}set floatIntensity(floatIntensity){this.set({floatIntensity:(0,src.su)(floatIntensity)})}get innerGroup(){return this.get((s=>s.innerGroup))}preInit(){super.preInit(),this.set((state=>({innerGroup:new src.Rl,speed:state.speed??1,rotationIntensity:state.rotationIntensity??1,floatIntensity:state.floatIntensity??1})))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>this.store.registerBeforeRender({callback:({clock})=>{const{speed,rotationIntensity,floatIntensity}=this.get(),t=this.offset+clock.getElapsedTime();this.instance.value&&(this.instance.value.rotation.x=Math.cos(t/4*speed)/8*rotationIntensity,this.instance.value.rotation.y=Math.sin(t/4*speed)/8*rotationIntensity,this.instance.value.rotation.z=Math.sin(t/4*speed)/20*rotationIntensity,this.instance.value.position.y=Math.sin(t/4*speed)/10*floatIntensity)}})))}))}};NgtSobaFloat.propDecorators={speed:[{type:core.Input}],rotationIntensity:[{type:core.Input}],floatIntensity:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaFloatContent]}],children:[{type:core.ContentChildren,args:[src.Dh]}]},NgtSobaFloat=NgtSobaFloat_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-float",standalone:!0,template:'\n    <ngt-group skipParent [ngtObjectPassThrough]="this">\n      <ngt-group [ref]="innerGroup">\n        <ng-container\n          *ngIf="content"\n          [ngTemplateOutlet]="content.templateRef"\n          [ngTemplateOutletContext]="{ group: innerGroup }"\n        ></ng-container>\n      </ngt-group>\n    </ngt-group>\n    <ng-content></ng-content>\n  ',imports:[group_src.U,src.VL,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaFloat_1),(0,src.wY)(NgtSobaFloat_1,(float=>float.innerGroup)),(0,src.Hm)(NgtSobaFloat_1)]})],NgtSobaFloat);let NgtSobaFloatModule=class NgtSobaFloatModule{};NgtSobaFloatModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaFloat,NgtSobaFloatContent],exports:[NgtSobaFloat,NgtSobaFloatContent]})],NgtSobaFloatModule);var Sky=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/objects/Sky.js");function calcPosFromAngles(inclination,azimuth,vector=new three_module.Pa4){const theta=Math.PI*(inclination-.5),phi=2*Math.PI*(azimuth-.5);return vector.x=Math.cos(phi),vector.y=Math.sin(theta),vector.z=Math.sin(phi),vector}let NgtSobaSkyContent=class NgtSobaSkyContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaSkyContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaSkyContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-sky-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaSkyContent);let NgtSobaSky=class NgtSobaSky extends src.uT{constructor(){super(...arguments),this.setScale=this.effect((0,tap.b)((()=>{const distance=this.get((s=>s.distance));this.instance.value.scale.copy((new three_module.Pa4).setScalar(distance))}))),this.updateMaterialUniforms=this.effect((0,tap.b)((()=>{const{mieCoefficient,mieDirectionalG,rayleigh,sunPosition,turbidity}=this.get(),material=this.instance.value.material;material.uniforms.mieCoefficient.value=mieCoefficient,material.uniforms.mieDirectionalG.value=mieDirectionalG,material.uniforms.rayleigh.value=rayleigh,material.uniforms.sunPosition.value=sunPosition,material.uniforms.turbidity.value=turbidity,(0,src.QF)(material)})))}set distance(distance){this.set({distance:(0,src.su)(distance)})}set sunPosition(sunPosition){this.set({sunPosition})}set inclination(inclination){this.set({inclination:(0,src.su)(inclination)})}set azimuth(azimuth){this.set({azimuth:(0,src.su)(azimuth)})}set mieCoefficient(mieCoefficient){this.set({mieCoefficient:(0,src.su)(mieCoefficient)})}set mieDirectionalG(mieDirectionalG){this.set({mieDirectionalG:(0,src.su)(mieDirectionalG)})}set rayleigh(rayleigh){this.set({rayleigh:(0,src.su)(rayleigh)})}set turbidity(turbidity){this.set({turbidity:(0,src.su)(turbidity)})}preInit(){super.preInit(),this.set((state=>{const inclination=state.inclination??.6,azimuth=state.azimuth??.1;return{inclination,azimuth,distance:state.distance??1e3,mieCoefficient:state.mieCoefficient??.005,mieDirectionalG:state.mieDirectionalG??.8,rayleigh:state.rayleigh??.5,turbidity:state.turbidity??10,sunPosition:state.sunPosition??calcPosFromAngles(inclination,azimuth)}}))}postInit(){super.postInit(),this.setScale(this.select((s=>s.distance))),this.updateMaterialUniforms(this.select(this.select((s=>s.mieCoefficient)),this.select((s=>s.mieDirectionalG)),this.select((s=>s.rayleigh)),this.select((s=>s.sunPosition)),this.select((s=>s.turbidity))))}get meshType(){return Sky.q}};NgtSobaSky.propDecorators={distance:[{type:core.Input}],sunPosition:[{type:core.Input}],inclination:[{type:core.Input}],azimuth:[{type:core.Input}],mieCoefficient:[{type:core.Input}],mieDirectionalG:[{type:core.Input}],rayleigh:[{type:core.Input}],turbidity:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaSkyContent]}]},NgtSobaSky=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-sky",standalone:!0,template:'\n    <ng-container\n      *ngIf="content"\n      [ngTemplateOutlet]="content.templateRef"\n      [ngTemplateOutletContext]="{ sky: instance }"\n    ></ng-container>\n    <ng-content></ng-content>\n  ',imports:[common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush})],NgtSobaSky);let NgtSobaSkyModule=class NgtSobaSkyModule{};NgtSobaSkyModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaSky,NgtSobaSkyContent],exports:[NgtSobaSky,NgtSobaSkyContent]})],NgtSobaSkyModule);var NgtSobaSpotLight_1,lights_src=__webpack_require__("./libs/core/lights/src/index.ts"),shaders_src=__webpack_require__("./libs/soba/shaders/src/index.ts");const vec=new three_module.Pa4;let NgtSobaSpotLight=NgtSobaSpotLight_1=class NgtSobaSpotLight extends lights_src.KN{constructor(){super(...arguments),this.meshRef=new src.Rl,this.materialRef=new src.Rl,this.meshRaycast=()=>null,this.shouldPassThroughRef=!1,this.geometry$=this.select(this.select((s=>s.angle)),this.select((s=>s.distance)),this.select((s=>s.radiusTop)),this.select((s=>s.radiusBottom)),((angle,distance,radiusTop,radiusBottom)=>{const geometry=new three_module.fHI(radiusTop,radiusBottom,distance,128,64,!0);return geometry.applyMatrix4((new three_module.yGw).makeTranslation(0,-distance/2,0)),geometry.applyMatrix4((new three_module.yGw).makeRotationX(-Math.PI/2)),geometry})),this.setBeforeRender=this.effect((0,src.oe)((()=>this.store.registerBeforeRender({callback:()=>{this.materialRef.value&&this.meshRef.value&&(this.materialRef.value.uniforms.spotPosition.value.copy(this.meshRef.value.getWorldPosition(vec)),this.meshRef.value.parent&&this.meshRef.value.lookAt(this.meshRef.value.parent.target.getWorldPosition(vec)))}}))))}set depthBuffer(depthBuffer){this.set({depthBuffer})}get depthBuffer(){return this.get((s=>s.depthBuffer))??null}set attenuation(attenuation){this.set({attenuation:(0,src.su)(attenuation)})}get attenuation(){return this.get((s=>s.attenuation))}set anglePower(anglePower){this.set({anglePower:(0,src.su)(anglePower)})}get anglePower(){return this.get((s=>s.anglePower))}set radiusTop(radiusTop){this.set({radiusTop:(0,src.su)(radiusTop)})}set radiusBottom(radiusBottom){this.set({radiusBottom:(0,src.su)(radiusBottom)})}set opacity(opacity){this.set({opacity:(0,src.su)(opacity)})}get opacity(){return this.get((s=>s.opacity))}get lightAngle(){return this.get((s=>s.angle))}get lightDistance(){return this.get((s=>s.distance))}get cameraNear(){return this.store.get((s=>s.camera.near))}get cameraFar(){return this.store.get((s=>s.camera.far))}get size(){return this.store.get((s=>s.size))}get dpr(){return this.store.get((s=>s.viewport.dpr))}preInit(){super.preInit(),this.set((state=>{const angle=state.angle??.15,radiusBottomExplicit=!!state.radiusBottom;return{opacity:state.opacity??1,color:state.color??(0,src.Sy)(three_module.Ilk,"white"),distance:state.distance??5,angle,attenuation:state.attenuation??5,anglePower:state.anglePower??5,radiusTop:state.radiusTop??.1,radiusBottom:state.radiusBottom??7*angle,radiusBottomExplicit}}))}ngOnInit(){super.ngOnInit(),this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.set(this.select(this.select((s=>s.angle)),(angle=>{const radiusBottomExplicit=this.get((s=>s.radiusBottomExplicit)),radiusBottom=this.get((s=>s.radiusBottom));return{radiusBottom:radiusBottomExplicit?radiusBottom:7*angle}}))),this.setBeforeRender()}))}))}};NgtSobaSpotLight.propDecorators={depthBuffer:[{type:core.Input}],attenuation:[{type:core.Input}],anglePower:[{type:core.Input}],radiusTop:[{type:core.Input}],radiusBottom:[{type:core.Input}],opacity:[{type:core.Input}]},NgtSobaSpotLight=NgtSobaSpotLight_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-spot-light",standalone:!0,template:'\n    <ngt-spot-light\n      [ngtObjectPassThrough]="this"\n      [ngtSpotLightPassThrough]="this"\n      [angle]="lightAngle"\n      [color]="color"\n      [distance]="lightDistance"\n    >\n      <ngt-mesh [ref]="meshRef" [raycast]="meshRaycast" [geometry]="(geometry$ | async)!">\n        <ngt-soba-spot-light-material\n          [ref]="materialRef"\n          [uniforms]="{\n            opacity: { value: opacity },\n            lightColor: { value: color },\n            attenuation: { value: attenuation },\n            anglePower: { value: anglePower },\n            depth: { value: depthBuffer },\n            cameraNear: { value: cameraNear },\n            cameraFar: { value: cameraFar },\n            resolution: {\n              value: depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n            }\n          }"\n        ></ngt-soba-spot-light-material>\n      </ngt-mesh>\n    </ngt-spot-light>\n  ',imports:[lights_src.KN,src.VL,lights_src.Ae,meshes_src.oX,shaders_src.MZ,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaSpotLight_1),(0,src.wY)(NgtSobaSpotLight_1),(0,src.Hm)(NgtSobaSpotLight_1)]})],NgtSobaSpotLight);let NgtSobaSpotLightModule=class NgtSobaSpotLightModule{};NgtSobaSpotLightModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaSpotLight],exports:[NgtSobaSpotLight]})],NgtSobaSpotLightModule);var NgtSobaStage_1,attributes_src=__webpack_require__("./libs/core/attributes/src/index.ts"),skip=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/skip.js");const presets={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};let NgtSobaStageContent=class NgtSobaStageContent{constructor(templateRef){this.templateRef=templateRef}static ngTemplateContextGuard(dir,ctx){return!0}};NgtSobaStageContent.ctorParameters=()=>[{type:core.TemplateRef}],NgtSobaStageContent=(0,tslib_es6.gn)([(0,core.Directive)({selector:"ng-template[ngt-soba-stage-content]",standalone:!0}),(0,tslib_es6.w6)("design:paramtypes",[core.TemplateRef])],NgtSobaStageContent);let NgtSobaStage=NgtSobaStage_1=class NgtSobaStage extends src.Kw{constructor(){super(...arguments),this.setDimensions=this.effect((0,pipe.z)((0,observeOn.Q)(scheduler_async.z),(0,tap.b)((()=>{const{innerGroup,outerGroup}=this.get();if(innerGroup.value&&outerGroup.value){outerGroup.value.position.set(0,0,0),outerGroup.value.updateWorldMatrix(!0,!0);const box3=(new three_module.ZzF).setFromObject(innerGroup.value),center=new three_module.Pa4,sphere=new three_module.aLr,height=box3.max.y-box3.min.y,width=box3.max.x-box3.min.x;box3.getCenter(center),box3.getBoundingSphere(sphere),this.zone.run((()=>{this.set({radius:sphere.radius,width,height})})),outerGroup.value.position.set(-center.x,-center.y+height/2,-center.z)}})))),this.updateControls=this.effect((0,tap.b)((()=>{const{adjustCamera,width,height,radius}=this.get(),{camera,controls}=this.store.get();if(adjustCamera){const y=radius/(height>width?1.5:2.5);camera.position.set(0,.5*radius,2.5*radius),camera.near=.1,camera.far=Math.max(5e3,4*radius),camera.lookAt(0,y,0),controls&&(controls.target.set(0,y,0),controls.update())}})))}get shadows(){return this.get((s=>s.shadows))}set shadows(shadows){this.set({shadows:(0,src.Ig)(shadows)})}get adjustCamera(){return this.get((s=>s.adjustCamera))}set adjustCamera(adjustCamera){this.set({adjustCamera:(0,src.Ig)(adjustCamera)})}get environment(){return this.get((s=>s.environment))}set environment(environment){this.set({environment})}get intensity(){return this.get((s=>s.intensity))}set intensity(intensity){this.set({intensity:(0,src.su)(intensity)})}get ambience(){return this.get((s=>s.ambience))}set ambience(ambience){this.set({ambience:(0,src.su)(ambience)})}get preset(){return this.get((s=>s.preset))}set preset(preset){this.set({preset})}get shadowBias(){return this.get((s=>s.shadowBias))}set shadowBias(shadowBias){this.set({shadowBias:(0,src.su)(shadowBias)})}get contactShadow(){return this.get((s=>s.contactShadow))}set contactShadow(contactShadow){this.set({contactShadow})}get innerGroup(){return this.get((s=>s.innerGroup))}get outerGroup(){return this.get((s=>s.outerGroup))}get radius(){return this.get((s=>s.radius))}get width(){return this.get((s=>s.width))}get height(){return this.get((s=>s.height))}get config(){return presets[this.get((s=>s.preset))]}preInit(){super.preInit(),this.set((state=>({innerGroup:new src.Rl,outerGroup:new src.Rl,radius:0,width:0,height:0,shadows:state.shadows??!0,adjustCamera:state.adjustCamera??!0,environment:state.environment??"city",intensity:state.intensity??1,preset:state.preset??"rembrandt",shadowBias:state.shadowBias??0,contactShadow:state.contactShadow??{blur:2,opacity:.5,position:[0,0,0]}})))}ngAfterContentInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setDimensions(this.select(this.innerGroup.pipe((0,filter.h)((group=>!!group))),this.outerGroup.pipe((0,filter.h)((group=>!!group))),this.children.changes.pipe((0,switchMap.w)((()=>(0,combineLatest.a)(this.children.map((child=>child())))))))),this.updateControls(this.select(this.store.select((s=>s.controls)),this.select((s=>s.radius)).pipe((0,skip.T)(1)),this.select((s=>s.height)).pipe((0,skip.T)(1)),this.select((s=>s.width)).pipe((0,skip.T)(1)),this.select((s=>s.adjustCamera))))}))}))}};NgtSobaStage.propDecorators={shadows:[{type:core.Input}],adjustCamera:[{type:core.Input}],environment:[{type:core.Input}],intensity:[{type:core.Input}],ambience:[{type:core.Input}],preset:[{type:core.Input}],shadowBias:[{type:core.Input}],contactShadow:[{type:core.Input}],content:[{type:core.ContentChild,args:[NgtSobaStageContent]}],children:[{type:core.ContentChildren,args:[src.Dh]}]},NgtSobaStage=NgtSobaStage_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-stage",standalone:!0,template:'\n    <ngt-group [ngtObjectPassThrough]="this" skipParent>\n      <ngt-group [ref]="outerGroup">\n        <ngt-group [ref]="innerGroup">\n          <ng-container\n            *ngIf="content"\n            [ngTemplateOutlet]="content.templateRef"\n            [ngTemplateOutletContext]="{ group: innerGroup }"\n          ></ng-container>\n        </ngt-group>\n      </ngt-group>\n\n      <ngt-soba-contact-shadows\n        *ngIf="contactShadow"\n        [scale]="radius * 2"\n        [far]="radius / 2"\n        [blur]="contactShadow.blur"\n        [opacity]="contactShadow.opacity"\n        [position]="contactShadow.position"\n      ></ngt-soba-contact-shadows>\n\n      <ngt-soba-environment *ngIf="environment" [preset]="environment"></ngt-soba-environment>\n\n      <ngt-ambient-light [intensity]="intensity / 3"></ngt-ambient-light>\n      <ngt-spot-light\n        penumbra="1"\n        [position]="[config.main[0] * radius, config.main[1] * radius, config.main[2] * radius]"\n        [intensity]="intensity * 2"\n        [castShadow]="shadows"\n      >\n        <ngt-value [attach]="[\'shadow\', \'bias\']" [value]="shadowBias"></ngt-value>\n      </ngt-spot-light>\n      <ngt-point-light\n        [position]="[config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius]"\n        [intensity]="intensity"\n      ></ngt-point-light>\n    </ngt-group>\n  ',imports:[group_src.U,src.VL,NgtSobaContactShadows,NgtSobaEnvironment,lights_src.wx,lights_src.KN,lights_src.HY,attributes_src.mI,common.O5,common.tP],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaStage_1),(0,src.wY)(NgtSobaStage_1,(stage=>stage.innerGroup)),(0,src.Hm)(NgtSobaStage_1)]})],NgtSobaStage);let NgtSobaStageModule=class NgtSobaStageModule{};var NgtPoints_1;NgtSobaStageModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaStage,NgtSobaStageContent],exports:[NgtSobaStage,NgtSobaStageContent]})],NgtSobaStageModule);let NgtPoints=NgtPoints_1=class NgtPoints extends src.KC{get objectType(){return three_module.woe}};NgtPoints=NgtPoints_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-points",standalone:!0,template:"<ng-content></ng-content>",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtPoints_1),(0,src.wY)(NgtPoints_1)]})],NgtPoints);let NgtPointsModule=class NgtPointsModule{};var NgtSobaStars_1;NgtPointsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtPoints],exports:[NgtPoints]})],NgtPointsModule);const genStar=r=>(new three_module.Pa4).setFromSpherical(new three_module.$V(r,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI));let NgtSobaStars=NgtSobaStars_1=class NgtSobaStars extends src.Kw{constructor(){super(...arguments),this.materialRef=new src.Rl,this.blending=three_module.WMw,this.bufferAttributes$=this.select(this.select((s=>s.count)),this.select((s=>s.depth)),this.select((s=>s.factor)),this.select((s=>s.radius)),this.select((s=>s.saturation)),((count,depth,factor,radius,saturation)=>{const positions=[],colors=[],sizes=Array.from({length:count},(()=>(.5+.5*Math.random())*factor)),color=new three_module.Ilk;let r=radius+depth;const increment=depth/count;for(let i=0;i<count;i++)r-=increment*Math.random(),positions.push(...genStar(r).toArray()),color.setHSL(i/count,saturation,.9),colors.push(color.r,color.g,color.b);return{positions:new Float32Array(positions),colors:new Float32Array(colors),sizes:new Float32Array(sizes)}}))}set radius(radius){this.set({radius:(0,src.su)(radius)})}set depth(depth){this.set({depth:(0,src.su)(depth)})}set count(count){this.set({count:(0,src.su)(count)})}set factor(factor){this.set({factor:(0,src.su)(factor)})}set saturation(saturation){this.set({saturation:(0,src.su)(saturation)})}set fade(fade){this.set({fade:(0,src.Ig)(fade)})}get fade(){return this.get((s=>s.fade))}set speed(speed){this.set({speed:(0,src.su)(speed)})}preInit(){super.preInit(),this.set((state=>({radius:state.radius??100,depth:state.depth??50,count:state.count??5e3,saturation:state.saturation??0,factor:state.factor??4,fade:state.fade??!1,speed:state.speed??1})))}onBeforeRender(state){this.materialRef.value&&(this.materialRef.value.uniforms.time.value=state.clock.getElapsedTime()*this.get((s=>s.speed)))}};NgtSobaStars.propDecorators={radius:[{type:core.Input}],depth:[{type:core.Input}],count:[{type:core.Input}],factor:[{type:core.Input}],saturation:[{type:core.Input}],fade:[{type:core.Input}],speed:[{type:core.Input}]},NgtSobaStars=NgtSobaStars_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"ngt-soba-stars",standalone:!0,template:'\n    <ngt-points [ngtObjectPassThrough]="this" (beforeRender)="onBeforeRender($event.state)">\n      <ngt-buffer-geometry>\n        <ng-container *ngIf="bufferAttributes$ | async as bufferAttributes">\n          <ngt-buffer-attribute\n            [attach]="[\'attributes\', \'position\']"\n            [args]="[bufferAttributes.positions, 3]"\n          ></ngt-buffer-attribute>\n          <ngt-buffer-attribute\n            [attach]="[\'attributes\', \'color\']"\n            [args]="[bufferAttributes.colors, 3]"\n          ></ngt-buffer-attribute>\n          <ngt-buffer-attribute\n            [attach]="[\'attributes\', \'size\']"\n            [args]="[bufferAttributes.sizes, 1]"\n          ></ngt-buffer-attribute>\n        </ng-container>\n      </ngt-buffer-geometry>\n      <ngt-soba-star-field-material\n        [ref]="materialRef"\n        [blending]="blending"\n        [uniforms]="{ fade: { value: fade } }"\n        transparent\n        vertexColors\n      ></ngt-soba-star-field-material>\n    </ngt-points>\n  ',imports:[NgtPoints,src.VL,geometries_src.DE,attributes_src.vE,shaders_src.Zb,common.O5,common.Ov],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[(0,src.RD)(NgtSobaStars_1),(0,src.wY)(NgtSobaStars_1),(0,src.Hm)(NgtSobaStars_1)]})],NgtSobaStars);let NgtSobaStarsModule=class NgtSobaStarsModule{};NgtSobaStarsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[NgtSobaStars],exports:[NgtSobaStars]})],NgtSobaStarsModule)},"./libs/soba/src/abstractions/billboard.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Planes:()=>Planes,Text:()=>Text,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_group__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/group/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Billboard",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.qD)({controls:!1,cameraPosition:[0,0,10]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_6__.sn,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_4__.Ag,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.To,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.cM,_angular_three_core_group__WEBPACK_IMPORTED_MODULE_1__.I,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_4__.GG,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.ep,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1]})]},Planes=args=>({props:args,template:'\n        <ngt-soba-orbit-controls zoomSpeed="0.5" enablePan></ngt-soba-orbit-controls>\n\n        <ngt-plane-geometry #planeGeometry noAttach [args]="[3, 2]"></ngt-plane-geometry>\n\n        <ngt-soba-billboard [position]="[-4, -2, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh [geometry]="planeGeometry.instance">\n                    <ngt-mesh-standard-material color="red"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n\n        <ngt-soba-billboard [position]="[-4, 2, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh [geometry]="planeGeometry.instance">\n                    <ngt-mesh-standard-material color="orange"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n\n        <ngt-soba-billboard [position]="[0, 0, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh [geometry]="planeGeometry.instance">\n                    <ngt-mesh-standard-material color="green"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n\n        <ngt-soba-billboard [position]="[4, -2, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh [geometry]="planeGeometry.instance">\n                    <ngt-mesh-standard-material color="blue"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n\n        <ngt-soba-billboard [position]="[4, 2, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh [geometry]="planeGeometry.instance">\n                    <ngt-mesh-standard-material color="yellow"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n    '});Planes.args={follow:!0,lockX:!1,lockY:!1,lockZ:!1};const Text=args=>({props:args,template:'\n        <ngt-soba-orbit-controls zoomSpeed="0.5" enablePan></ngt-soba-orbit-controls>\n\n        <ngt-soba-billboard [position]="[0.5, 2.05, 0.5]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-soba-text\n                    text="box"\n                    fontSize="1"\n                    outlineWidth="5%"\n                    outlineColor="#000000"\n                    outlineOpacity="1"\n                ></ngt-soba-text>\n            </ng-template>\n        </ngt-soba-billboard>\n\n        <ngt-mesh [position]="[0.5, 1, 0.5]">\n            <ngt-box-geometry></ngt-box-geometry>\n            <ngt-mesh-standard-material color="red"></ngt-mesh-standard-material>\n        </ngt-mesh>\n\n        <ngt-group [position]="[-2.5, -3, -1]">\n            <ngt-soba-billboard [position]="[0, 1.05, 0]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n                <ng-template ngt-soba-billboard-content>\n                    <ngt-soba-text\n                        text="cone"\n                        fontSize="1"\n                        outlineWidth="5%"\n                        outlineColor="#000000"\n                        outlineOpacity="1"\n                    ></ngt-soba-text>\n                </ng-template>\n            </ngt-soba-billboard>\n\n            <ngt-mesh>\n                <ngt-cone-geometry></ngt-cone-geometry>\n                <ngt-mesh-standard-material color="green"></ngt-mesh-standard-material>\n            </ngt-mesh>\n        </ngt-group>\n\n        <ngt-soba-billboard [position]="[0, 0, -5]" [follow]="follow" [lockX]="lockX" [lockY]="lockY" [lockZ]="lockZ">\n            <ng-template ngt-soba-billboard-content>\n                <ngt-mesh>\n                    <ngt-plane-geometry [args]="[2, 2]"></ngt-plane-geometry>\n                    <ngt-mesh-standard-material color="#000066"></ngt-mesh-standard-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-billboard>\n    '});Text.args={follow:!0,lockX:!1,lockY:!1,lockZ:!1}},"./libs/soba/src/abstractions/gizmo-helper.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core_primitive__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/primitive/src/index.ts"),_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/soba/controls/src/index.ts"),_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/loaders/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let DefaultGizmo=class DefaultGizmo{constructor(gltfLoader){this.gltfLoader=gltfLoader,this.node$=this.gltfLoader.load("soba/assets/LittlestTokyo.glb"),this.mode="viewcube",this.alignment="bottom-right",this.margin=[80,80]}};DefaultGizmo.ctorParameters=()=>[{type:_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_3__.iY}],DefaultGizmo.propDecorators={mode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_6__.Input}],alignment:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_6__.Input}],margin:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_6__.Input}]},DefaultGizmo=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.Component)({selector:"ngt-default-gizmo",template:'\n    <ng-container *ngIf="node$ | async as node">\n      <ngt-soba-gizmo-helper [alignment]="alignment" [margin]="margin">\n        <ng-template ngt-soba-gizmo-helper-content>\n          <ngt-soba-gizmo-viewcube\n            *ngIf="mode === \'viewcube\'; else viewport"\n            [faces]="[\'Right\', \'Left\', \'Top\', \'Bottom\', \'Front\', \'Back\']"\n            opacity="1"\n            color="white"\n            strokeColor="gray"\n            textColor="black"\n            hoverColor="lightgray"\n          ></ngt-soba-gizmo-viewcube>\n\n          <ng-template #viewport>\n            <ngt-soba-gizmo-viewport\n              [axisColors]="[\'red\', \'green\', \'blue\']"\n              labelColor="black"\n              hideNegativeAxes="false"\n            ></ngt-soba-gizmo-viewport>\n          </ng-template>\n        </ng-template>\n      </ngt-soba-gizmo-helper>\n\n      <ngt-primitive [object]="node.scene" [scale]="0.01"></ngt-primitive>\n\n      <ngt-soba-orbit-controls makeDefault></ngt-soba-orbit-controls>\n    </ng-container>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_6__.ChangeDetectionStrategy.OnPush}),(0,tslib__WEBPACK_IMPORTED_MODULE_7__.w6)("design:paramtypes",[_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_3__.iY])],DefaultGizmo);let DefaultGizmoModule=class DefaultGizmoModule{};DefaultGizmoModule=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.NgModule)({declarations:[DefaultGizmo],exports:[DefaultGizmo],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.ez,_angular_three_core_primitive__WEBPACK_IMPORTED_MODULE_0__.v,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_2__.Li,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__.co,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__.gV,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__.vj]})],DefaultGizmoModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Gizmo Helper",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)({cameraPosition:[0,0,10],controls:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,DefaultGizmoModule]})],argTypes:{alignment:{options:["top-left","top-right","bottom-right","bottom-left"],control:{type:"select"}},mode:{options:["viewcube","viewport"],control:{type:"select"}}}},Default=args=>({props:args,template:'\n        <ngt-default-gizmo [mode]="mode" [alignment]="alignment" [margin]="margin"></ngt-default-gizmo>\n    '});Default.args={mode:"viewport",alignment:"bottom-right",margin:[80,80]}},"./libs/soba/src/abstractions/gradient-texture.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Gradient Texture",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.qD)()),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_6__.sn,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_4__.mq,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.g4,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.cM,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.g8]})]},Default=args=>({props:args,template:'\n        <ngt-mesh>\n            <ngt-plane-geometry></ngt-plane-geometry>\n            <ngt-mesh-basic-material [depthWrite]="false" [side]="\'double\' | side">\n                <ngt-soba-gradient-texture [stops]="stops" [colors]="colors"></ngt-soba-gradient-texture>\n            </ngt-mesh-basic-material>\n        </ngt-mesh>\n    '});Default.args={stops:[0,1],colors:["aquamarine","hotpink"]}},"./libs/soba/src/abstractions/line.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CubicBezierLine:()=>CubicBezierLine,Default:()=>Default,QuadraticBezierLine:()=>QuadraticBezierLine,VertexColors:()=>VertexColors,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),three_stdlib_utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/three-stdlib@2.13.0_three@0.142.0/node_modules/three-stdlib/utils/GeometryUtils.js"),three__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Line",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_2__.qD)({controls:!1,cameraPosition:[0,0,17]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_2__.sn,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_0__.oi,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_0__.N2,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_0__.Xz]})],argTypes:{color:{control:{type:"color"}},dashed:{control:{type:"boolean"}},lineWidth:{control:{type:"number"}}}},points=three_stdlib_utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_3__.j.hilbert3D(new three__WEBPACK_IMPORTED_MODULE_4__.Pa4(0),5).map((p=>[p.x,p.y,p.z])),Default=args=>({props:{...args,points},template:'\n    <ngt-soba-line [points]="points" [lineWidth]="lineWidth" [dashed]="dashed" [color]="color"></ngt-soba-line>\n    <ngt-soba-orbit-controls zoomSpeed="0.5"></ngt-soba-orbit-controls>\n  '});Default.args={color:"red",dashed:!1,lineWidth:3};const QuadraticBezierLine=args=>({props:args,template:'\n    <ngt-soba-quadratic-bezier-line\n      [start]="start"\n      [end]="end"\n      [segments]="segments"\n      [lineWidth]="lineWidth"\n      [dashed]="dashed"\n      [color]="color"\n    ></ngt-soba-quadratic-bezier-line>\n    <ngt-soba-orbit-controls zoomSpeed="0.5"></ngt-soba-orbit-controls>\n  '});QuadraticBezierLine.args={start:[0,0,0],end:[4,7,5],segments:10,color:"red",dashed:!0,lineWidth:2};const CubicBezierLine=args=>({props:args,template:'\n    <ngt-soba-cubic-bezier-line\n      [start]="start"\n      [end]="end"\n      [midA]="midA"\n      [midB]="midB"\n      [segments]="segments"\n      [color]="color"\n      [lineWidth]="lineWidth"\n      [dashed]="dashed"\n    ></ngt-soba-cubic-bezier-line>\n    <ngt-soba-orbit-controls zoomSpeed="0.5"></ngt-soba-orbit-controls>\n  '});CubicBezierLine.args={start:[0,0,0],end:[10,0,10],midA:[5,4,0],midB:[0,0,5],segments:10,color:"red",lineWidth:2,dashed:!0};const colors=new Array(points.length).fill(0).map((()=>[Math.random(),Math.random(),Math.random()])),VertexColors=args=>({props:{...args,points},template:'\n    <ngt-soba-line\n      [points]="points"\n      [vertexColors]="vertexColors"\n      [lineWidth]="lineWidth"\n      [dashed]="dashed"\n      [color]="color"\n    ></ngt-soba-line>\n    <ngt-soba-orbit-controls zoomSpeed="0.5"></ngt-soba-orbit-controls>\n  '});VertexColors.args={color:"white",vertexColors:colors,lineWidth:3,dashed:!1}},"./libs/soba/src/abstractions/text.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomMaterial:()=>CustomMaterial,Default:()=>Default,Garfield:()=>Garfield,LTR:()=>LTR,Outline:()=>Outline,Shadow:()=>Shadow,TransparentWithStroke:()=>TransparentWithStroke,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_materials__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),three__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Text",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.qD)({cameraPosition:[0,0,200]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_3__.sn,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__.GG,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_0__.g4]})]},Default=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          color="#EC2D2D"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff"\n          anchorX="center"\n          anchorY="middle"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});Default.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."};const Garfield=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          color="#EC2D2D"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.cdnfonts.com/s/1761/Garfield.woff"\n          anchorX="center"\n          anchorY="middle"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});Garfield.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."};const Outline=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          color="#EC2D2D"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff"\n          anchorX="center"\n          anchorY="middle"\n          outlineWidth="2"\n          outlineColor="#ffffff"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});Outline.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."};const TransparentWithStroke=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff"\n          anchorX="center"\n          anchorY="middle"\n          fillOpacity="0"\n          strokeWidth="2.5%"\n          strokeColor="#ffffff"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});TransparentWithStroke.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."};const Shadow=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          color="#EC2D2D"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff"\n          anchorX="center"\n          anchorY="middle"\n          outlineOffsetX="10%"\n          outlineOffsetY="10%"\n          outlineBlur="30%"\n          outlineOpacity="0.3"\n          outlineColor="#EC2D2D"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});Shadow.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."};const LTR=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3},template:'\n        <ngt-soba-text\n          [text]="text"\n          color="#EC2D2D"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="right"\n          direction="auto"\n          font="https://fonts.gstatic.com/s/scheherazade/v20/YA9Ur0yF4ETZN60keViq1kQgtA.woff"\n          anchorX="center"\n          anchorY="middle"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n        </ngt-soba-text>\n  '});LTR.args={text:"ان عدة الشهور عند الله اثنا عشر شهرا في كتاب الله يوم خلق السماوات والارض SOME LATIN TEXT HERE منها اربعة حرم ذلك\n      الدين القيم فلاتظلموا فيهن انفسكم وقاتلوا المشركين كافة كما يقاتلونكم كافة واعلموا ان الله مع المتقين"};const CustomMaterial=args=>({props:{...args,onTextAnimate:_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.y3,DoubleSide:three__WEBPACK_IMPORTED_MODULE_4__.ehD},template:'\n\n        <ngt-soba-text\n          [text]="text"\n          fontSize="12"\n          maxWidth="200"\n          lineHeight="1"\n          letterSpacing="0.02"\n          textAlign="left"\n          font="https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff"\n          anchorX="center"\n          anchorY="middle"\n          (beforeRender)="onTextAnimate($event.object)"\n        >\n            <ngt-mesh-basic-material\n                [side]="DoubleSide"\n                color="orange"\n                transparent\n            ></ngt-mesh-basic-material>\n        </ngt-soba-text>\n  '});CustomMaterial.args={text:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT, SED DO EIUSMOD TEMPOR INCIDIDUNT UT LABORE ET DOLORE\n      MAGNA ALIQUA. UT ENIM AD MINIM VENIAM, QUIS NOSTRUD EXERCITATION ULLAMCO LABORIS NISI UT ALIQUIP EX EA COMMODO\n      CONSEQUAT. DUIS AUTE IRURE DOLOR IN REPREHENDERIT IN VOLUPTATE VELIT ESSE CILLUM DOLORE EU FUGIAT NULLA PARIATUR.\n      EXCEPTEUR SINT OCCAECAT CUPIDATAT NON PROIDENT, SUNT IN CULPA QUI OFFICIA DESERUNT MOLLIT ANIM ID EST LABORUM."}},"./libs/soba/src/abstractions/text3d.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_materials__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/soba/abstractions/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_create_control__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/src/create-control.ts"),_setup_canvas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Abstractions/Text 3D",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_3__.qD)({cameraPosition:[0,0,10]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_3__.sn,_angular_three_soba_abstractions__WEBPACK_IMPORTED_MODULE_1__.pD,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_0__.To]})]},Default=args=>({props:args,template:'\n    <ngt-mesh-standard-material #mat1 color="#b00000"></ngt-mesh-standard-material>\n    <ngt-mesh-standard-material #mat2 color="#ff8000"></ngt-mesh-standard-material>\n\n    <ngt-soba-text3d \n        [text]="text" \n        [size]="size" \n        [height]="height" \n        [curveSegments]="curveSegments" \n        [center]="center" \n        [bevelEnabled]="bevelEnabled" \n        [bevelThickness]="bevelThickness" \n        [bevelSize]="bevelSize" \n        [bevelOffset]="bevelOffset" \n        [fontUrl]="\'soba/helvetiker_regular.typeface.json\'" \n        [material]="[mat2.instance.value, mat1.instance.value]"\n    ></ngt-soba-text3d>\n'});Default.args={text:"@angular-three",size:3,height:.5,curveSegments:2,bevelEnabled:!1,bevelThickness:.1,bevelSize:.1,bevelOffset:0,center:!0},Default.argTypes={size:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(1,10,1)},height:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(.1,5,.1)},curveSegments:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(1,5,1)},bevelThickness:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(.1,4,.1)},bevelSize:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(.1,4,.1)},bevelOffset:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_4__.q)(0,.4,.1)}}},"./libs/soba/src/controls/first-person-controls.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/controls/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Controls/First Person Controls",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)({controls:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_3__.NP,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.g4]})]},Default=args=>({props:args,template:'\n        <ngt-soba-first-person-controls\n            [activeLook]="activeLook"\n            [autoForward]="autoForward"\n            [constrainVertical]="constrainVertical"\n            [enabled]="enabled"\n            [heightCoef]="heightCoef"\n            [heightMax]="heightMax"\n            [heightMin]="heightMin"\n            [heightSpeed]="heightSpeed"\n            [lookVertical]="lookVertical"\n            [lookSpeed]="lookSpeed"\n            [movementSpeed]="movementSpeed"\n            [verticalMax]="verticalMax"\n            [verticalMin]="verticalMin"\n        ></ngt-soba-first-person-controls>\n\n        <ngt-mesh>\n            <ngt-box-geometry></ngt-box-geometry>\n            <ngt-mesh-basic-material wireframe></ngt-mesh-basic-material>\n        </ngt-mesh>\n    '});Default.args={activeLook:!0,autoForward:!1,constrainVertical:!1,enabled:!0,heightCoef:1,heightMax:1,heightMin:0,heightSpeed:!1,lookVertical:!0,lookSpeed:.005,movementSpeed:1,verticalMax:Math.PI,verticalMin:0}},"./libs/soba/src/controls/orbit-controls.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomCamera:()=>CustomCamera,Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/attributes/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/controls/src/index.ts"),_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/misc/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),three__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),_cameras_src__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./libs/soba/cameras/src/index.ts"),_setup_canvas__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let CustomCameraStory=class CustomCameraStory extends _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.gU{constructor(fbo,store,zone){super(),this.fbo=fbo,this.store=store,this.zone=zone,this.fboRef=this.fbo.use((()=>({width:400,height:400}))),this.virtualScene=new _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Rl((0,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Pl)(new three__WEBPACK_IMPORTED_MODULE_10__.xsS,(()=>this.store.get()))),this.virtualCamera=new _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Rl,this.setBeforeRender=this.effect((0,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.oe)((()=>{const unregister=this.store.registerBeforeRender({callback:({gl})=>{this.virtualCamera.value&&this.fboRef.value&&(gl.setRenderTarget(this.fboRef.value),gl.render(this.virtualScene.value,this.virtualCamera.value),gl.setRenderTarget(null))}});return()=>{unregister()}})))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.store.onReady((()=>{this.setBeforeRender()}))}))}};CustomCameraStory.ctorParameters=()=>[{type:_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_6__.bk},{type:_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.W7},{type:_angular_core__WEBPACK_IMPORTED_MODULE_11__.NgZone}],CustomCameraStory=(0,tslib__WEBPACK_IMPORTED_MODULE_12__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.Component)({selector:"custom-camera-story",template:'\n    <ngt-mesh>\n      <ngt-plane-geometry [args]="[4, 4, 4]"></ngt-plane-geometry>\n      <ngt-mesh-basic-material [map]="(fboRef | async)?.texture"></ngt-mesh-basic-material>\n    </ngt-mesh>\n\n    <ngt-portal [ref]="virtualScene">\n      <ng-template ngt-portal-content>\n        <ngt-mesh>\n          <ngt-box-geometry></ngt-box-geometry>\n          <ngt-mesh-basic-material wireframe></ngt-mesh-basic-material>\n        </ngt-mesh>\n\n        <ngt-soba-perspective-camera\n          name="FBO Camera"\n          [ref]="virtualCamera"\n          [position]="[0, 0, 5]"\n        ></ngt-soba-perspective-camera>\n        <ngt-soba-orbit-controls [camera]="virtualCamera.value"></ngt-soba-orbit-controls>\n\n        <ngt-color attach="background" color="blue"></ngt-color>\n      </ng-template>\n    </ngt-portal>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_11__.ChangeDetectionStrategy.OnPush,providers:[_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_6__.bk]}),(0,tslib__WEBPACK_IMPORTED_MODULE_12__.w6)("design:paramtypes",[_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_6__.bk,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.W7,_angular_core__WEBPACK_IMPORTED_MODULE_11__.NgZone])],CustomCameraStory);let CustomCameraStoryModule=class CustomCameraStoryModule{};CustomCameraStoryModule=(0,tslib__WEBPACK_IMPORTED_MODULE_12__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.NgModule)({declarations:[CustomCameraStory],exports:[CustomCameraStory],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.ez,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__.cM,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__.g4,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.yh,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__.N1,_cameras_src__WEBPACK_IMPORTED_MODULE_8__.MY,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__.Li,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.bg]})],CustomCameraStoryModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Controls/Orbit Controls",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_7__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_9__.qD)({controls:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_7__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_9__.sn,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__.Li,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__.g4,CustomCameraStoryModule]})]},Default=args=>({props:args,template:'\n        <ngt-soba-orbit-controls\n              [enabled]="enabled"\n              [enableDamping]="enableDamping"\n              [enablePan]="enablePan"\n              [enableRotate]="enableRotate"\n              [enableZoom]="enableZoom"\n              [reverseOrbit]="reverseOrbit">\n        </ngt-soba-orbit-controls>\n        <ngt-mesh>\n            <ngt-box-geometry></ngt-box-geometry>\n            <ngt-mesh-basic-material wireframe></ngt-mesh-basic-material>\n        </ngt-mesh>\n    '});Default.args={enabled:!0,enableDamping:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,reverseOrbit:!1};const CustomCamera=()=>({template:"<custom-camera-story></custom-camera-story>"})},"./libs/soba/src/controls/transform-controls.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,LockOrbitControls:()=>LockOrbitControls,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/controls/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Controls/Transform Controls"},Default=()=>({template:"\n        <ngt-soba-transform-controls>\n          <ngt-mesh>\n            <ngt-box-geometry></ngt-box-geometry>\n            <ngt-mesh-basic-material wireframe></ngt-mesh-basic-material>\n          </ngt-mesh>\n        </ngt-soba-transform-controls>\n  "});Default.decorators=[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)()),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_3__.gH,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.g4]})];const LockOrbitControls=Default.bind({});LockOrbitControls.decorators=[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)({makeControlsDefault:!0})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_3__.gH,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.g4]})]},"./libs/soba/src/misc/html.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,RaycastOccluder:()=>RaycastOccluder,Transform:()=>Transform,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_group__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/group/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/misc/src/index.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let HtmlOccludeStory=class HtmlOccludeStory{constructor(){this.turnAnimate=_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.y3}};HtmlOccludeStory=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.Component)({selector:"html-occlude-story",template:'\n    <ngt-group #ngtGroup (beforeRender)="turnAnimate($event.object)">\n      <ngt-icosahedron-geometry #ngtIcosahedronGeometry [args]="[5, 5]"></ngt-icosahedron-geometry>\n      <ngt-mesh name="pink" [position]="[0, 0, 0]" [geometry]="ngtIcosahedronGeometry.instance">\n        <ngt-mesh-basic-material color="hotpink" wireframe></ngt-mesh-basic-material>\n\n        <ngt-soba-html [position]="[0, 0, -6]" htmlClass="html-story-label" [occlude]="[ngtGroup.instance]">\n          <ng-template ngt-soba-html-content> A </ng-template>\n        </ngt-soba-html>\n      </ngt-mesh>\n\n      <ngt-mesh name="yellow" [position]="[16, 0, 0]" [geometry]="ngtIcosahedronGeometry.instance">\n        <ngt-mesh-basic-material color="yellow" wireframe></ngt-mesh-basic-material>\n\n        <ngt-soba-html [position]="[0, 0, -6]" htmlClass="html-story-label" [occlude]="[ngtGroup.instance]">\n          <ng-template ngt-soba-html-content> B </ng-template>\n        </ngt-soba-html>\n      </ngt-mesh>\n    </ngt-group>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_8__.ChangeDetectionStrategy.OnPush})],HtmlOccludeStory);let HtmlOccludeStoryModule=class HtmlOccludeStoryModule{};HtmlOccludeStoryModule=(0,tslib__WEBPACK_IMPORTED_MODULE_7__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.NgModule)({declarations:[HtmlOccludeStory],exports:[HtmlOccludeStory],imports:[_angular_three_core_group__WEBPACK_IMPORTED_MODULE_1__.I,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.Jv,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.g4,_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__.SX]})],HtmlOccludeStoryModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Misc/HTML",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.qD)({cameraPosition:[-20,20,-20]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_6__.sn,_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__.SX,_angular_three_core_group__WEBPACK_IMPORTED_MODULE_1__.I,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.g4,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.Jv,HtmlOccludeStoryModule]})]},Default=args=>({props:{onBeforeRender:_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.y3,...args},template:'\n        <ngt-group (beforeRender)="onBeforeRender($event.object)">\n            <ngt-icosahedron-geometry #ngtGeometry [args]="[2, 2]"></ngt-icosahedron-geometry>\n            <ngt-mesh-basic-material\n                #ngtMaterial\n                wireframe\n                color="hotpink"\n            ></ngt-mesh-basic-material>\n            <ngt-mesh\n                [position]="[3, 6, 4]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        First\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n            <ngt-mesh\n                [position]="[10, 0, 10]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        Second\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n            <ngt-mesh\n                [position]="[-20, 0, -20]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        Third\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n        </ngt-group>\n    '});Default.args={distanceFactor:30,htmlClass:"html-story-block"};const Transform=args=>({props:{onBeforeRender:_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.y3,...args},template:'\n        <ngt-group (beforeRender)="onBeforeRender($event.object)">\n            <ngt-icosahedron-geometry #ngtGeometry [args]="[2, 2]"></ngt-icosahedron-geometry>\n            <ngt-mesh-basic-material\n                #ngtMaterial\n                wireframe\n                [color]="color"\n            ></ngt-mesh-basic-material>\n            <ngt-mesh\n                [position]="[3, 6, 4]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [transform]="transform" [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        First\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n            <ngt-mesh\n                [position]="[10, 0, 10]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [transform]="transform" [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        Second\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n            <ngt-mesh\n                [position]="[-20, 0, -20]"\n                [geometry]="ngtGeometry.instance"\n                [material]="ngtMaterial.instance"\n            >\n                <ngt-soba-html [transform]="transform" [distanceFactor]="distanceFactor" [htmlClass]="htmlClass">\n                    <ng-template ngt-soba-html-content>\n                        Third\n                    </ng-template>\n                </ngt-soba-html>\n            </ngt-mesh>\n            <ngt-soba-html\n                sprite\n                distanceFactor="20"\n                [transform]="transform"\n                [style]="{background: color, fontSize: \'50px\', padding: \'10px 18px\', border: \'2px solid black\'}"\n                [position]="[5, 15, 0]"\n            >\n                <ng-template ngt-soba-html-content>\n                    Transform Mode\n                </ng-template>\n            </ngt-soba-html>\n        </ngt-group>\n    '});Transform.args={color:"palegreen",transform:!0,htmlClass:"html-story-block margin300",distanceFactor:30};const RaycastOccluder=()=>({template:"<html-occlude-story></html-occlude-story>"})},"./libs/soba/src/performances/adaptive-dpr.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/attributes/src/index.ts"),_angular_three_core_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/group/src/index.ts"),_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/lights/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/controls/src/index.ts"),_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/loaders/src/index.ts"),_angular_three_soba_performances__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/performances/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let DefaultArcher=class DefaultArcher{constructor(gltfLoader){this.gltfLoader=gltfLoader,this.archer$=this.gltfLoader.load("soba/archer.glb")}};DefaultArcher.ctorParameters=()=>[{type:_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_6__.iY}],DefaultArcher=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.Component)({selector:"default-archer",template:'\n    <ng-container *ngIf="archer$ | async as archer">\n      <ngt-group [dispose]="null">\n        <ngt-group [rotation]="[-90 | radian, 0, 0]">\n          <ngt-group [position]="[0, 0, 2]">\n            <ngt-mesh\n              castShadow\n              receiveShadow\n              [material]="archer.materials.material_0"\n              [geometry]="archer.nodes[\'mesh_0\'].geometry"\n            ></ngt-mesh>\n            <ngt-mesh\n              castShadow\n              receiveShadow\n              [material]="archer.materials.material_0"\n              [geometry]="archer.nodes[\'mesh_1\'].geometry"\n            ></ngt-mesh>\n            <ngt-mesh\n              castShadow\n              receiveShadow\n              [material]="archer.materials.material_0"\n              [geometry]="archer.nodes[\'mesh_2\'].geometry"\n            ></ngt-mesh>\n          </ngt-group>\n        </ngt-group>\n      </ngt-group>\n    </ng-container>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_11__.ChangeDetectionStrategy.OnPush}),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_6__.iY])],DefaultArcher);let DefaultAdaptiveStory=class DefaultAdaptiveStory{};DefaultAdaptiveStory=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.Component)({selector:"default-adaptive-story",template:'\n    <default-archer></default-archer>\n    <ngt-directional-light intensity="0.2" [position]="[10, 10, 5]" castShadow>\n      <ngt-vector2 [attach]="[\'shadow\', \'mapSize\']" [vector2]="[64, 64]"></ngt-vector2>\n      <ngt-value [attach]="[\'shadow\', \'bias\']" [value]="-0.001"></ngt-value>\n    </ngt-directional-light>\n    <ngt-soba-adaptive-dpr pixelated></ngt-soba-adaptive-dpr>\n    <ngt-soba-adaptive-events></ngt-soba-adaptive-events>\n    <ngt-soba-orbit-controls regress></ngt-soba-orbit-controls>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_11__.ChangeDetectionStrategy.OnPush})],DefaultAdaptiveStory);let DefaultAdaptiveStoryModule=class DefaultAdaptiveStoryModule{};DefaultAdaptiveStoryModule=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.NgModule)({declarations:[DefaultAdaptiveStory,DefaultArcher],exports:[DefaultAdaptiveStory],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.ez,_angular_three_core_group__WEBPACK_IMPORTED_MODULE_2__.I,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_3__.in,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.fN,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.pk,_angular_three_soba_performances__WEBPACK_IMPORTED_MODULE_7__.TF,_angular_three_soba_performances__WEBPACK_IMPORTED_MODULE_7__.TQ,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__.Li]})],DefaultAdaptiveStoryModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Performances/Adaptive DPR",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_9__.qD)({cameraPosition:[0,0,30],cameraFov:50,controls:!1,lights:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_9__.sn,DefaultAdaptiveStoryModule],providers:[(0,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.nD)({min:.2})]})]},Default=()=>({template:"\n    <default-adaptive-story></default-adaptive-story>\n  "})},"./libs/soba/src/performances/detailed.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_performances__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/performances/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Performances/Detailed",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)({controls:!1,cameraPosition:[0,0,100]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,_angular_three_soba_performances__WEBPACK_IMPORTED_MODULE_3__.eL,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.Jv,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.g4]})]},Default=()=>({template:'\n        <ngt-soba-detailed [distances]="[50, 100, 150, 200, 250]">\n            <ng-template ngt-soba-detailed-content>\n                <ngt-mesh [scale]="[5, 5, 5]">\n                    <ngt-icosahedron-geometry [args]="[10, 10]"></ngt-icosahedron-geometry>\n                    <ngt-mesh-basic-material color="turquoise" wireframe></ngt-mesh-basic-material>\n                </ngt-mesh>\n\n                <ngt-mesh [scale]="[5, 5, 5]">\n                    <ngt-icosahedron-geometry [args]="[10, 5]"></ngt-icosahedron-geometry>\n                    <ngt-mesh-basic-material color="lightgreen" wireframe></ngt-mesh-basic-material>\n                </ngt-mesh>\n\n                <ngt-mesh [scale]="[5, 5, 5]">\n                    <ngt-icosahedron-geometry [args]="[10, 3]"></ngt-icosahedron-geometry>\n                    <ngt-mesh-basic-material color="lightblue" wireframe></ngt-mesh-basic-material>\n                </ngt-mesh>\n\n                <ngt-mesh [scale]="[5, 5, 5]">\n                    <ngt-icosahedron-geometry [args]="[10, 2]"></ngt-icosahedron-geometry>\n                    <ngt-mesh-basic-material color="hotpink" wireframe></ngt-mesh-basic-material>\n                </ngt-mesh>\n\n                <ngt-mesh [scale]="[5, 5, 5]">\n                    <ngt-icosahedron-geometry [args]="[10, 1]"></ngt-icosahedron-geometry>\n                    <ngt-mesh-basic-material color="orange" wireframe></ngt-mesh-basic-material>\n                </ngt-mesh>\n            </ng-template>\n        </ngt-soba-detailed>\n\n        <ngt-soba-orbit-controls enablePan="false" enableRotate="false" zoomSpeed="0.5"></ngt-soba-orbit-controls>\n    '})},"./libs/soba/src/shaders/mesh-reflector-material.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/lights/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/loaders/src/index.ts"),_angular_three_soba_shaders__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/shaders/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/staging/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@angular+forms@14.1.0_oh7ssot2niyqdg7a6md2mriq4i/node_modules/@angular/forms/fesm2020/forms.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),three__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/three@0.142.0/node_modules/three/build/three.module.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let ReflectorStory=class ReflectorStory{constructor(textureLoader){this.textureLoader=textureLoader,this._normalScale=new three__WEBPACK_IMPORTED_MODULE_10__.FM8(0),this.roughness$=this.textureLoader.load("soba/roughness_floor.jpeg"),this.normal$=this.textureLoader.load("soba/NORM.jpg"),this.distortionMap$=this.textureLoader.load("soba/dist_map.jpeg").pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.b)((distortionMap=>{distortionMap.wrapS=distortionMap.wrapT=three__WEBPACK_IMPORTED_MODULE_10__.rpg,distortionMap.repeat.set(4,4)})))}set normalScale(normalScale){this._normalScale=(0,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Sy)(three__WEBPACK_IMPORTED_MODULE_10__.FM8,normalScale)}get normalScale(){return this._normalScale}onBeforeRender(state,mesh){mesh.position.y+=Math.sin(state.clock.getElapsedTime())/25,mesh.rotation.y=state.clock.getElapsedTime()/2}};ReflectorStory.ctorParameters=()=>[{type:_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_5__.Wt}],ReflectorStory.propDecorators={blur:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_12__.Input}],depthScale:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_12__.Input}],distortion:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_12__.Input}],reflectorOffset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_12__.Input}],normalScale:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_12__.Input}]},ReflectorStory=(0,tslib__WEBPACK_IMPORTED_MODULE_13__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.Component)({selector:"reflector-story",template:'\n    <ngt-mesh [rotation]="[-90 | radian, 0, 90 | radian]">\n      <ngt-plane-geometry [args]="[10, 10]"></ngt-plane-geometry>\n      <ngt-soba-mesh-reflector-material\n        resolution="1024"\n        mirror="0.75"\n        mixBlur="10"\n        mixStrength="2"\n        minDepthThreshold="0.8"\n        maxDepthThreshold="1.2"\n        depthToBlurRatioBias="0.2"\n        color="#a0a0a0"\n        metalness="0.5"\n        roughness="1"\n        [reflectorOffset]="reflectorOffset"\n        [normalScale]="normalScale"\n        [normalMap]="(normal$ | async)!"\n        [roughnessMap]="(roughness$ | async)!"\n        [distortion]="distortion || 0"\n        [distortionMap]="(distortionMap$ | async)!"\n        [blur]="blur || [0, 0]"\n        [depthScale]="depthScale || 0"\n      ></ngt-soba-mesh-reflector-material>\n    </ngt-mesh>\n\n    <ngt-mesh [position]="[0, 1.6, -3]">\n      <ngt-box-geometry [args]="[2, 3, 0.2]"></ngt-box-geometry>\n      <ngt-mesh-physical-material color="tomato"></ngt-mesh-physical-material>\n    </ngt-mesh>\n\n    <ngt-mesh [position]="[0, 1, 0]" (beforeRender)="onBeforeRender($event.state, $event.object)">\n      <ngt-torus-knot-geometry [args]="[0.5, 0.2, 128, 32]"></ngt-torus-knot-geometry>\n      <ngt-mesh-physical-material color="tomato"></ngt-mesh-physical-material>\n    </ngt-mesh>\n\n    <ngt-spot-light intensity="1" [position]="[10, 6, 10]" penumbra="1" angle="0.3"></ngt-spot-light>\n    <ngt-soba-environment preset="city"></ngt-soba-environment>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_12__.ChangeDetectionStrategy.OnPush,providers:[_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_5__.Wt]}),(0,tslib__WEBPACK_IMPORTED_MODULE_13__.w6)("design:paramtypes",[_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_5__.Wt])],ReflectorStory);let ReflectorStoryModule=class ReflectorStoryModule{};ReflectorStoryModule=(0,tslib__WEBPACK_IMPORTED_MODULE_13__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_12__.NgModule)({declarations:[ReflectorStory],exports:[ReflectorStory],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.ez,_angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormsModule,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.cM,_angular_three_soba_shaders__WEBPACK_IMPORTED_MODULE_6__.r0,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__.Ky,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.pp,_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_2__.Hk,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_7__.wj]})],ReflectorStoryModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Shaders/MeshReflectorMaterial",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_9__.qD)({cameraFov:20,cameraPosition:[-2,2,6]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_9__.sn,ReflectorStoryModule]})]},Default=()=>({template:'\n        <reflector-story [blur]="[100, 500]" [depthScale]="2" [distortion]="0.3" [normalScale]="0.5"></reflector-story>\n    '})},"./libs/soba/src/staging/bounds.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var Model_1,tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/attributes/src/index.ts"),_angular_three_core_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/group/src/index.ts"),_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/lights/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/controls/src/index.ts"),_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/loaders/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/staging/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/util/pipe.js"),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/tap.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let BoundsStory=class BoundsStory{onGroupClick(event,api){event.stopPropagation(),event.delta<=2&&api.refresh(event.object).fit()}onPointerMissed(event,api){0===event.button&&api.refresh().fit()}};BoundsStory=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.Component)({selector:"bounds-story",template:'\n    <ngt-color attach="background" color="#f08080"></ngt-color>\n\n    <ngt-spot-light [position]="[-100, -100, -100]" intensity="0.2" angle="0.3" penumbra="1"></ngt-spot-light>\n\n    <ngt-hemisphere-light\n      color="white"\n      groundColor="#ff0f00"\n      [position]="[-7, 25, 13]"\n      intensity="1"\n    ></ngt-hemisphere-light>\n\n    <ngt-soba-bounds>\n      <ng-template ngt-soba-bounds-content let-api="api">\n        <ngt-group (click)="onGroupClick($event, api)" (pointermissed)="onPointerMissed($event, api)">\n          <model name="Curly" [position]="[1, -11, -20]" [rotation]="[2, 0, -0]"></model>\n          <model name="DNA" [position]="[20, 0, -17]" [rotation]="[1, 1, -2]"></model>\n          <model name="Headphones" [position]="[20, 2, 4]" [rotation]="[1, 0, -1]"></model>\n          <model name="Notebook" [position]="[-21, -15, -13]" [rotation]="[2, 0, 1]"></model>\n          <model name="Rocket003" [position]="[18, 15, -25]" [rotation]="[1, 1, 0]"></model>\n          <model name="Roundcube001" [position]="[-25, -4, 5]" [rotation]="[1, 0, 0]" [scale]="0.5"></model>\n          <model name="Table" [position]="[1, -4, -28]" [rotation]="[1, 0, -1]" [scale]="0.5"></model>\n          <model name="VR_Headset" [position]="[7, -15, 28]" [rotation]="[1, 0, -1]" [scale]="5"></model>\n          <model name="Zeppelin" [position]="[-20, 10, 10]" [rotation]="[3, -1, 3]" [scale]="0.005"></model>\n        </ngt-group>\n      </ng-template>\n    </ngt-soba-bounds>\n\n    <ngt-soba-contact-shadows [position]="[0, -35, 0]" opacity="1" width="200" height="200" blur="1" far="50">\n      <ngt-value [attach]="[\'rotation\', \'x\']" [value]="90 | radian"></ngt-value>\n    </ngt-soba-contact-shadows>\n\n    <ngt-soba-orbit-controls makeDefault minPolarAngle="0" [maxPolarAngle]="1.75 | pi"></ngt-soba-orbit-controls>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_11__.ChangeDetectionStrategy.OnPush})],BoundsStory);let Model=Model_1=class Model extends _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Kw{constructor(){super(...arguments),this.modelRef=new _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Rl,this.gltfLoader=(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.inject)(_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_6__.iY),this.loadModel=this.effect((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.z)((0,rxjs__WEBPACK_IMPORTED_MODULE_13__.w)((()=>this.gltfLoader.load("soba/bounds-assets.glb"))),(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.b)((({nodes})=>{const name=this.get((s=>s.name));this.modelRef.set(nodes[name])}))))}ngOnInit(){super.ngOnInit(),this.loadModel(this.select((s=>s.name)))}};Model=Model_1=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.Component)({selector:"model",template:'\n    <ng-container *ngIf="modelRef | async as model">\n      <ngt-mesh [ngtObjectPassThrough]="this" [geometry]="model.geometry" [material]="model.material" [dispose]="null">\n        <ngt-value [attach]="[\'material\', \'emissive\']" value="red"></ngt-value>\n        <ngt-value [attach]="[\'material\', \'roughness\']" [value]="1"></ngt-value>\n      </ngt-mesh>\n    </ng-container>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_11__.ChangeDetectionStrategy.OnPush,providers:[(0,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Hm)(Model_1)]})],Model);let BoundsStoryModule=class BoundsStoryModule{};BoundsStoryModule=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_11__.NgModule)({declarations:[BoundsStory,Model],exports:[BoundsStory],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.ez,_angular_three_core_group__WEBPACK_IMPORTED_MODULE_2__.I,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.y2,_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_3__.Hk,_angular_three_core_lights__WEBPACK_IMPORTED_MODULE_3__.iM,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_7__.I0,_angular_three_soba_controls__WEBPACK_IMPORTED_MODULE_5__.Li,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_7__.hJ,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.pk,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.Nh,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.bg]})],BoundsStoryModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Bounds",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_9__.qD)({cameraFov:50,cameraPosition:[0,-10,100],controls:!1,lights:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_8__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_9__.sn,BoundsStoryModule]})]},Default=()=>({template:"\n        <bounds-story></bounds-story>\n    "})},"./libs/soba/src/staging/camera-shake.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithOrbitControls:()=>WithOrbitControls,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/attributes/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/staging/src/index.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let DefaultCameraShakeScene=class DefaultCameraShakeScene{onBeforeRender(cube){cube.rotation.x=cube.rotation.y+=.01}};DefaultCameraShakeScene=(0,tslib__WEBPACK_IMPORTED_MODULE_8__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_9__.Component)({selector:"ngt-default-camera-shake-scene",template:'\n    <ngt-mesh (beforeRender)="onBeforeRender($event.object)">\n      <ngt-box-geometry [args]="[2, 2, 2]"></ngt-box-geometry>\n      <ngt-mesh-standard-material wireframe></ngt-mesh-standard-material>\n    </ngt-mesh>\n    <ngt-mesh [position]="[0, -6, 0]" [rotation]="[-90 | radian, 0, 0]">\n      <ngt-value [attach]="[\'rotation\', \'x\']" [value]="-90 | radian"></ngt-value>\n\n      <ngt-plane-geometry [args]="[200, 200, 75, 75]"></ngt-plane-geometry>\n      <ngt-mesh-standard-material wireframe color="red" [side]="\'double\' | side"></ngt-mesh-standard-material>\n    </ngt-mesh>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_9__.ChangeDetectionStrategy.OnPush})],DefaultCameraShakeScene);let DefaultCameraShakeSceneModule=class DefaultCameraShakeSceneModule{};DefaultCameraShakeSceneModule=(0,tslib__WEBPACK_IMPORTED_MODULE_8__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_9__.NgModule)({declarations:[DefaultCameraShakeScene],exports:[DefaultCameraShakeScene],imports:[_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__.To,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_2__.cM,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.uL,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.g8,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ,_angular_three_core_attributes__WEBPACK_IMPORTED_MODULE_1__.pk]})],DefaultCameraShakeSceneModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Camera Shake",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_7__.qD)({cameraPosition:[0,0,10],controls:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_7__.sn,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.r_,DefaultCameraShakeSceneModule]})]},Default=args=>({props:args,template:'\n        <ngt-soba-camera-shake\n            [maxPitch]="maxPitch"\n            [maxRoll]="maxRoll"\n            [maxYaw]="maxYaw"\n            [pitchFrequency]="pitchFrequency"\n            [rollFrequency]="rollFrequency"\n            [yawFrequency]="yawFrequency"\n        ></ngt-soba-camera-shake>\n        <ngt-default-camera-shake-scene></ngt-default-camera-shake-scene>\n    '});Default.args={maxPitch:.05,maxRoll:.05,maxYaw:.05,pitchFrequency:.8,rollFrequency:.8,yawFrequency:.8};const WithOrbitControls=args=>({props:args,template:'\n    \x3c!-- orbit controls needs to be BEFORE camera-shake --\x3e\n    <ngt-soba-orbit-controls makeDefault></ngt-soba-orbit-controls>\n    <ngt-soba-camera-shake\n        [maxPitch]="maxPitch"\n        [maxRoll]="maxRoll"\n        [maxYaw]="maxYaw"\n        [pitchFrequency]="pitchFrequency"\n        [rollFrequency]="rollFrequency"\n        [yawFrequency]="yawFrequency"\n    ></ngt-soba-camera-shake>\n    <ngt-default-camera-shake-scene></ngt-default-camera-shake-scene>\n  '});WithOrbitControls.args={maxPitch:.05,maxRoll:.05,maxYaw:.05,pitchFrequency:.8,rollFrequency:.8,yawFrequency:.8}},"./libs/soba/src/staging/center.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_core_primitive__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/primitive/src/index.ts"),_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/loaders/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/staging/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let DefaultCenter=class DefaultCenter{constructor(gltfLoader){this.gltfLoader=gltfLoader,this.alignTop=!1,this.node$=this.gltfLoader.load("soba/assets/LittlestTokyo.glb")}onTokyoAnimated(scene){scene.rotation.y+=.01}};DefaultCenter.ctorParameters=()=>[{type:_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_4__.iY}],DefaultCenter.propDecorators={alignTop:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_8__.Input}]},DefaultCenter=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.Component)({selector:"ngt-default-center",template:'\n    <ng-container *ngIf="node$ | async as node">\n      <ngt-soba-center [position]="[5, 5, 10]" [alignTop]="alignTop">\n        <ng-template ngt-soba-center-content>\n          <ngt-mesh>\n            <ngt-box-geometry [args]="[10, 10, 10]"></ngt-box-geometry>\n            <ngt-mesh-normal-material wireframe></ngt-mesh-normal-material>\n          </ngt-mesh>\n          <ngt-primitive\n            [object]="node.scene"\n            [scale]="[0.01, 0.01, 0.01]"\n            (beforeRender)="onTokyoAnimated(node.scene)"\n          ></ngt-primitive>\n        </ng-template>\n      </ngt-soba-center>\n    </ng-container>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_8__.ChangeDetectionStrategy.OnPush}),(0,tslib__WEBPACK_IMPORTED_MODULE_9__.w6)("design:paramtypes",[_angular_three_soba_loaders__WEBPACK_IMPORTED_MODULE_4__.iY])],DefaultCenter);let DefaultCenterModule=class DefaultCenterModule{};DefaultCenterModule=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.NgModule)({declarations:[DefaultCenter],exports:[DefaultCenter],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_10__.ez,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.gT,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.F8,_angular_three_core_primitive__WEBPACK_IMPORTED_MODULE_3__.v,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.gT]})],DefaultCenterModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Center",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_7__.qD)({cameraPosition:[0,0,-10],loader:!0})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_7__.sn,DefaultCenterModule]})]},Default=args=>({props:args,template:'\n      <ngt-default-center [alignTop]="alignTop"></ngt-default-center>\n    '});Default.args={alignTop:!1}},"./libs/soba/src/staging/contact-shadows.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/staging/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Contact Shadows",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.qD)()),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_6__.sn,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.Jv,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.cM,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.g4,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__.hJ,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ]})]};function animate({object,state:{clock}}){object.position.y=Math.sin(clock.getElapsedTime())+2.5}const Default=()=>({props:{animate},template:'\n        <ngt-mesh [position]="[0, 2, 0]" (beforeRender)="animate($event)">\n            <ngt-icosahedron-geometry [args]="[1, 2]"></ngt-icosahedron-geometry>\n            <ngt-mesh-basic-material color="lightblue"></ngt-mesh-basic-material>\n        </ngt-mesh>\n        <ngt-soba-contact-shadows\n            [position]="[0, 0, 0]"\n            width="10"\n            height="10"\n            far="20"\n            [rotation]="[90 | radian, 0, 0]"\n        ></ngt-soba-contact-shadows>\n        <ngt-mesh [position]="[0, -0.01, 0]" [rotation]="[-90 | radian, 0, 0]">\n            <ngt-plane-geometry [args]="[10, 10]"></ngt-plane-geometry>\n            <ngt-mesh-basic-material color="white"></ngt-mesh-basic-material>\n        </ngt-mesh>\n    '})},"./libs/soba/src/staging/environment.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Files:()=>Files,Ground:()=>Ground,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_cameras__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/cameras/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/staging/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_create_control__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/src/create-control.ts"),_setup_canvas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Environment",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_6__.qD)({controls:!1,cameraPosition:[0,0,10]})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_5__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_6__.sn,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__.wj,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.pp,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.N1,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.To,_angular_three_soba_cameras__WEBPACK_IMPORTED_MODULE_3__.MY,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__.hJ]})]},Default=args=>({props:args,template:'\n        <ngt-soba-environment [preset]="preset" [background]="background"></ngt-soba-environment>\n        <ngt-mesh>\n            <ngt-torus-knot-geometry [args]="[1, 0.5, 128, 32]"></ngt-torus-knot-geometry>\n            <ngt-mesh-standard-material metalness="1" roughness="0"></ngt-mesh-standard-material>\n        </ngt-mesh>\n        <ngt-soba-orbit-controls autoRotate></ngt-soba-orbit-controls>\n    '}),presets=Object.keys(_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_4__.nw);Default.args={background:!0,preset:presets[0]},Default.argTypes={preset:{options:presets,control:{type:"select"}}};const Files=args=>({props:args,template:"\n        <ngt-soba-environment path=\"soba/cube/\" [files]=\"['px.png', 'nx.png', 'py.png', 'ny.png', 'pz.png', 'nz.png']\" [background]=\"background\"></ngt-soba-environment>\n        <ngt-mesh>\n            <ngt-torus-knot-geometry [args]=\"[1, 0.5, 128, 32]\"></ngt-torus-knot-geometry>\n            <ngt-mesh-standard-material metalness=\"1\" roughness=\"0\"></ngt-mesh-standard-material>\n        </ngt-mesh>\n        <ngt-soba-orbit-controls autoRotate></ngt-soba-orbit-controls>\n    "});Files.args={background:!0};const Ground=args=>({props:args,template:'\n        <ngt-soba-environment [ground]="{height: height, radius: radius}" [preset]="preset"></ngt-soba-environment>\n        <ngt-mesh [position]="[0, 5, 0]">\n            <ngt-box-geometry [args]="[10, 10, 10]"></ngt-box-geometry>\n            <ngt-mesh-standard-material metalness="1" roughness="0"></ngt-mesh-standard-material>\n        </ngt-mesh>\n        <ngt-soba-contact-shadows resolution="1024" [position]="[0, 0, 0]" [scale]="100" blur="2" opacity="1" far="10"></ngt-soba-contact-shadows>\n        <ngt-soba-orbit-controls autoRotate></ngt-soba-orbit-controls>\n        <ngt-soba-perspective-camera [position]="[40, 40, 40]" makeDefault></ngt-soba-perspective-camera>\n    '});Ground.args={height:15,radius:60,preset:"park"},Ground.argTypes={preset:{options:presets,control:{type:"select"}},height:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_7__.q)(0,50,.1)},radius:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_7__.q)(0,200,1)}}},"./libs/soba/src/staging/sky.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>sky_stories});var src=__webpack_require__("./libs/core/src/index.ts"),attributes_src=__webpack_require__("./libs/core/attributes/src/index.ts"),geometries_src=__webpack_require__("./libs/core/geometries/src/index.ts"),helpers_src=__webpack_require__("./libs/core/helpers/src/index.ts"),materials_src=__webpack_require__("./libs/core/materials/src/index.ts"),meshes_src=__webpack_require__("./libs/core/meshes/src/index.ts"),staging_src=__webpack_require__("./libs/soba/staging/src/index.ts"),client=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),create_control=__webpack_require__("./libs/soba/src/create-control.ts"),setup_canvas=__webpack_require__("./libs/soba/src/setup-canvas.ts"),_mdx_js_react=(__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),__webpack_require__("./node_modules/.pnpm/@mdx-js+react@2.1.2/node_modules/@mdx-js/react/index.js")),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react.mdx)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react.mdx)("p",null,"Adds a ",(0,_mdx_js_react.mdx)("a",{parentName:"p",href:"https://threejs.org/examples/#webgl_shaders_sky",target:"_blank",rel:"nofollow noopener noreferrer"},"Sky")," to the Scene"),(0,_mdx_js_react.mdx)("h3",{id:"inputs"},"Inputs"),(0,_mdx_js_react.mdx)("table",null,(0,_mdx_js_react.mdx)("thead",{parentName:"table"},(0,_mdx_js_react.mdx)("tr",{parentName:"thead"},(0,_mdx_js_react.mdx)("th",{parentName:"tr",align:null},"name"),(0,_mdx_js_react.mdx)("th",{parentName:"tr",align:null},"type"),(0,_mdx_js_react.mdx)("th",{parentName:"tr",align:null},"default"))),(0,_mdx_js_react.mdx)("tbody",{parentName:"table"},(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"distance"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"1000"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"sunPosition"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NgtVector3")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"calcPosFromAngles(inclination, azimuth)"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"inclination"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"0.6"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"azimuth"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"0.1"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"mieCoefficient"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"0.005"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"mieDirectionalG"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"0.8"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"rayleigh"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"0.5"))),(0,_mdx_js_react.mdx)("tr",{parentName:"tbody"},(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},"turbidity"),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"NumberInput")),(0,_mdx_js_react.mdx)("td",{parentName:"tr",align:null},(0,_mdx_js_react.mdx)("inlineCode",{parentName:"td"},"10"))))),(0,_mdx_js_react.mdx)("pre",null,(0,_mdx_js_react.mdx)("code",{parentName:"pre",className:"language-ts"},"export function calcPosFromAngles(inclination: number, azimuth: number, vector: THREE.Vector3 = new THREE.Vector3()) {\n  const theta = Math.PI * (inclination - 0.5);\n  const phi = 2 * Math.PI * (azimuth - 0.5);\n\n  vector.x = Math.cos(phi);\n  vector.y = Math.sin(theta);\n  vector.z = Math.sin(phi);\n\n  return vector;\n}\n")),(0,_mdx_js_react.mdx)("h3",{id:"usage"},"Usage"),(0,_mdx_js_react.mdx)("p",null,"It is as easy as adding ",(0,_mdx_js_react.mdx)("inlineCode",{parentName:"p"},"<ngt-soba-sky></ngt-soba-sky>")," onto the Scene"),(0,_mdx_js_react.mdx)("pre",null,(0,_mdx_js_react.mdx)("code",{parentName:"pre",className:"language-html"},'<ngt-soba-sky></ngt-soba-sky>\n<ngt-mesh>\n  <ngt-value [attach]="[\'rotation\', \'x\']" [value]="90 | radian"></ngt-value>\n  <ngt-plane-geometry [args]="[100, 100, 4, 4]"></ngt-plane-geometry>\n  <ngt-mesh-basic-material color="black" wireframe></ngt-mesh-basic-material>\n</ngt-mesh>\n')))}MDXContent.isMDXComponent=!0;const sky_stories={title:"Staging/Sky",decorators:[(0,client.componentWrapperDecorator)((0,setup_canvas.qD)()),(0,client.moduleMetadata)({imports:[...setup_canvas.sn,staging_src.vc,helpers_src.tb,meshes_src.M$,geometries_src.cM,materials_src.g4,src.kZ,attributes_src.pk]})],parameters:{docs:{page:MDXContent},viewMode:"story"}},Default=args=>({props:args,template:'\n        <ngt-soba-sky  \n          [turbidity]="turbidity"  \n          [rayleigh]="rayleigh"  \n          [mieCoefficient]="mieCoefficient"  \n          [mieDirectionalG]="mieDirectionalG"\n          [sunPosition]="[sunPositionX, sunPositionY, sunPositionZ]"\n        ></ngt-soba-sky>\n        <ngt-mesh>\n            <ngt-value [attach]="[\'rotation\', \'x\']" [value]="90 | radian"></ngt-value>\n            <ngt-plane-geometry [args]="[100, 100, 4, 4]"></ngt-plane-geometry>\n            <ngt-mesh-basic-material color="black" wireframe></ngt-mesh-basic-material>\n        </ngt-mesh>\n        <ngt-axes-helper></ngt-axes-helper>\n    '});Default.args={turbidity:8,rayleigh:6,mieCoefficient:.005,mieDirectionalG:.8,sunPositionX:0,sunPositionY:0,sunPositionZ:0},Default.argTypes={turbidity:{control:(0,create_control.q)(0,10,.1)},rayleigh:{control:(0,create_control.q)(0,10,1)},mieCoefficient:{control:(0,create_control.q)(0,.1,.001)},mieDirectionalG:{control:(0,create_control.q)(0,1,.1)}}},"./libs/soba/src/staging/spot-light.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),_angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/soba/misc/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/staging/src/index.ts"),_angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@angular+common@14.1.0_36wbdubzobvek5dwkv7hqxvz7e/node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@angular+core@14.1.0_rxjs@7.5.6+zone.js@0.11.7/node_modules/@angular/core/fesm2020/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/rxjs@7.5.6/node_modules/rxjs/dist/esm5/internal/operators/map.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/src/setup-canvas.ts");let DefaultSpotLight=class DefaultSpotLight extends _angular_three_core__WEBPACK_IMPORTED_MODULE_0__.gU{constructor(sobaDepthBuffer){super(),this.set(sobaDepthBuffer.use((defaultParams=>defaultParams)).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.U)((depthBuffer=>({depthBuffer})))))}get depthBuffer(){return this.get((s=>s.depthBuffer))}};DefaultSpotLight.ctorParameters=()=>[{type:_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__.AC}],DefaultSpotLight=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.Component)({selector:"ngt-default-spot-light",template:'\n    <ngt-soba-spot-light\n      [position]="[-3, 2, 0]"\n      [depthBuffer]="depthBuffer"\n      penumbra="0.5"\n      intensity="0.5"\n      angle="0.5"\n      color="#0EEC82"\n      castShadow\n    ></ngt-soba-spot-light>\n\n    <ngt-soba-spot-light\n      [position]="[3, 2, 0]"\n      [depthBuffer]="depthBuffer"\n      penumbra="0.5"\n      intensity="0.5"\n      angle="0.5"\n      color="#FF005B"\n      castShadow\n    ></ngt-soba-spot-light>\n\n    <ngt-mesh [position]="[0, 0.5, 0]" castShadow>\n      <ngt-box-geometry></ngt-box-geometry>\n      <ngt-mesh-phong-material></ngt-mesh-phong-material>\n    </ngt-mesh>\n\n    <ngt-mesh receiveShadow [rotation]="[-90 | radian, 0, 0]">\n      <ngt-plane-geometry [args]="[100, 100]"></ngt-plane-geometry>\n      <ngt-mesh-phong-material></ngt-mesh-phong-material>\n    </ngt-mesh>\n  ',changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_10__.ChangeDetectionStrategy.OnPush,providers:[(0,_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__.up)()]}),(0,tslib__WEBPACK_IMPORTED_MODULE_9__.w6)("design:paramtypes",[_angular_three_soba_misc__WEBPACK_IMPORTED_MODULE_4__.AC])],DefaultSpotLight);let DefaultSpotLightModule=class DefaultSpotLightModule{};DefaultSpotLightModule=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.NgModule)({declarations:[DefaultSpotLight],exports:[DefaultSpotLight],imports:[_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.Pb,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_2__.Bg,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_3__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.cM,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.N1,_angular_common__WEBPACK_IMPORTED_MODULE_11__.ez,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ]})],DefaultSpotLightModule);const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Spot Light",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_7__.qD)({lights:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_7__.sn,DefaultSpotLightModule]})]},Default=args=>({props:args,template:"\n        <ngt-default-spot-light></ngt-default-spot-light>\n    "})},"./libs/soba/src/staging/stage.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/soba/staging/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_setup_canvas__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Stage",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_5__.qD)({cameraPosition:[0,0,3],black:!1})),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_4__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_5__.sn,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_3__.YS,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_2__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_0__.fV,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_1__.Bg]})]},Default=args=>({props:args,template:'\n    <ngt-soba-stage\n      [contactShadow]="contactShadow"\n      [shadows]="shadows"\n      [intensity]="intensity"\n      [environment]="environment"\n      [preset]="preset"\n    >\n      <ng-template ngt-soba-stage-content>\n        <ngt-mesh>\n            <ngt-sphere-geometry [args]="[1, 24, 24]"></ngt-sphere-geometry>\n            <ngt-mesh-phong-material color="royalblue"></ngt-mesh-phong-material>\n        </ngt-mesh>\n      </ng-template>\n    </ngt-soba-stage>\n  '});var presets;!function(presets){presets.rembrant="rembrandt",presets.portrait="portrait",presets.upfront="upfront",presets.soft="soft"}(presets||(presets={})),Default.args={contactShadow:{blur:2,opacity:.5,position:[0,0,0]},shadows:!0,intensity:1,environment:Object.keys(_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_3__.nw)[0],preset:presets.rembrant}},"./libs/soba/src/staging/stars.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_three_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/core/src/index.ts"),_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/core/geometries/src/index.ts"),_angular_three_core_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/core/helpers/src/index.ts"),_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/core/materials/src/index.ts"),_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/core/meshes/src/index.ts"),_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/soba/staging/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js"),_create_control__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./libs/soba/src/create-control.ts"),_setup_canvas__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/soba/src/setup-canvas.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Staging/Stars",component:_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.Ie,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.componentWrapperDecorator)((0,_setup_canvas__WEBPACK_IMPORTED_MODULE_7__.qD)()),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_6__.moduleMetadata)({imports:[..._setup_canvas__WEBPACK_IMPORTED_MODULE_7__.sn,_angular_three_core__WEBPACK_IMPORTED_MODULE_0__.kZ,_angular_three_soba_staging__WEBPACK_IMPORTED_MODULE_5__.ec,_angular_three_core_meshes__WEBPACK_IMPORTED_MODULE_4__.M$,_angular_three_core_geometries__WEBPACK_IMPORTED_MODULE_1__.cM,_angular_three_core_helpers__WEBPACK_IMPORTED_MODULE_2__.tb,_angular_three_core_materials__WEBPACK_IMPORTED_MODULE_3__.g4]})]},Default=args=>({props:args,template:'\n        <ngt-soba-stars [radius]="radius" [count]="count" [factor]="factor" [fade]="fade" [speed]="speed"></ngt-soba-stars>\n        <ngt-mesh [rotation]="[90 | radian, 0, 0]">\n            <ngt-plane-geometry  [args]="[100, 100, 4, 4]"></ngt-plane-geometry>\n            <ngt-mesh-basic-material wireframe></ngt-mesh-basic-material>\n        </ngt-mesh>\n        <ngt-axes-helper></ngt-axes-helper>\n  '});Default.args={radius:100,count:5e3,factor:4,fade:!1,speed:1},Default.argTypes={radius:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_8__.q)(100,400,100)},count:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_8__.q)(500,5e3,500)},factor:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_8__.q)(1,10,1)},speed:{control:(0,_create_control__WEBPACK_IMPORTED_MODULE_8__.q)(1,4,1)}}},"./libs/soba/.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/.pnpm/core-js@3.23.5/node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/.pnpm/@storybook+client-api@6.5.9/node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js")},"?8654":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/index.js").configure)([__webpack_require__("./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./libs/soba/src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[596],(()=>(__webpack_exec__("./node_modules/.pnpm/@storybook+core-client@6.5.9_4bwdawutv3stuyuwjsfiq2hbuq/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+core-client@6.5.9_4bwdawutv3stuyuwjsfiq2hbuq/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+angular@6.5.9_lr6dlgmio6tz5bqtcana5gdzia/node_modules/@storybook/angular/dist/ts3.9/client/preview/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+addon-docs@6.5.9_he2ccbldppg44uulnyq4rwocfa/node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+addon-actions@6.5.9/node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+addon-backgrounds@6.5.9/node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+addon-measure@6.5.9/node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/.pnpm/@storybook+addon-outline@6.5.9/node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./libs/soba/.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);