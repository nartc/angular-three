"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[802],{6802:(D,x,s)=>{s.r(x),s.d(x,{Cube:()=>T,CubeWithMaterials:()=>E,SandboxXRCubesComponent:()=>S,SandboxXRCubesModule:()=>L,Scene:()=>R});var g=s(3152),c=s(5313),b=s(397),h=s(7814),m=s(6071),y=s(2313),i=s(6880),l=s(2192),u=s(610),_=s(1955),N=s(1519),X=s(2269);class v{static createButton(a,o={}){const n=document.createElement("button");function M(r){r.style.position="absolute",r.style.bottom="20px",r.style.padding="12px 6px",r.style.border="1px solid #fff",r.style.borderRadius="4px",r.style.background="rgba(0,0,0,0.1)",r.style.color="#fff",r.style.font="normal 13px sans-serif",r.style.textAlign="center",r.style.opacity="0.5",r.style.outline="none",r.style.zIndex="999"}if("xr"in navigator)return M(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(r=>{r?function p(){let r=null;function Q(d){return C.apply(this,arguments)}function C(){return(C=(0,N.Z)(function*(d){d.addEventListener("end",B),yield a.xr.setSession(d),n.textContent="EXIT VR",r=d})).apply(this,arguments)}function B(){r.removeEventListener("end",B),n.textContent="ENTER VR",r=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{if(null===r){var d;const P=[o.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);null===(d=navigator.xr)||void 0===d||d.requestSession("immersive-vr",{...o,optionalFeatures:P}).then(Q)}else r.end()}}():function W(){(function f(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null})(),n.textContent="VR NOT SUPPORTED"}(),r&&v.xrSessionIsGranted&&n.click()}),n;{const r=document.createElement("a");return!1===window.isSecureContext?(r.href=document.location.href.replace(/^http:/,"https:"),r.innerHTML="WEBXR NEEDS HTTPS"):(r.href="https://immersiveweb.dev/",r.innerHTML="WEBXR NOT AVAILABLE"),r.style.left="calc(50% - 90px)",r.style.width="180px",r.style.textDecoration="none",M(r),r}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{v.xrSessionIsGranted=!0})}}(0,X.Z)(v,"xrSessionIsGranted",!1);var Z=s(4372),e=s(9796);const F=function(t){return[t,0,0]};function I(t,a){1&t&&e._UZ(0,"sandbox-cube",0),2&t&&e.Q6J("position",e.VKq(1,F,-1.5))}const J=function(){return[1.5,0,0]};function U(t,a){1&t&&e._UZ(0,"sandbox-cube",0),2&t&&e.Q6J("position",e.DdM(1,J))}function G(t,a){1&t&&e._UZ(0,"sandbox-cube-with-materials")}const O=function(t){return["material",t]};function A(t,a){if(1&t&&e._UZ(0,"ngt-mesh-standard-material",2),2&t){const o=a.$implicit;e.Q6J("attach",e.VKq(2,O,""+a.index))("color",o)}}let S=(()=>{class t{created(o){document.body.appendChild(v.createButton(o.gl))}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["xrsandbox-cubes"]],decls:4,vars:0,consts:[["initialLog","",3,"created"],["attach","background","color","lightblue"]],template:function(o,n){1&o&&(e.TgZ(0,"ngt-canvas",0),e.NdJ("created",function(f){return n.created(f)}),e._UZ(1,"ngt-color",1)(2,"sandbox-scene"),e.qZA(),e._UZ(3,"ngt-stats"))},dependencies:function(){return[g.B3,c.rq,i.Q,R]},encapsulation:2,changeDetection:0}),t})(),R=(()=>{class t{constructor(o){this.cd=o,this.ready=!1,setTimeout(()=>{this.ready=!0,this.cd.detectChanges()},1e4)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-scene"]],decls:6,vars:4,consts:[[3,"position"],[3,"position",4,"ngIf"],[4,"ngIf"]],template:function(o,n){1&o&&(e._UZ(0,"ngt-ambient-light")(1,"ngt-point-light",0),e.YNc(2,I,1,3,"sandbox-cube",1),e.YNc(3,U,1,2,"sandbox-cube",1),e.YNc(4,G,1,0,"sandbox-cube-with-materials",2),e._UZ(5,"ngt-soba-orbit-controls")),2&o&&(e.xp6(1),e.Q6J("position",10),e.xp6(1),e.Q6J("ngIf",n.ready),e.xp6(1),e.Q6J("ngIf",n.ready),e.xp6(1),e.Q6J("ngIf",n.ready))},dependencies:function(){return[u.O5,h.wx,h.HY,l.St,T,E]},encapsulation:2,changeDetection:0}),t})(),T=(()=>{class t{constructor(){this.hovered=!1,this.active=!1}onBeforeRender(o){o.rotation.x+=.01}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-cube"]],inputs:{position:"position"},decls:3,vars:3,consts:[[3,"scale","position","pointerover","pointerout","click","beforeRender"],[3,"color"]],template:function(o,n){1&o&&(e.TgZ(0,"ngt-mesh",0),e.NdJ("pointerover",function(){return n.hovered=!0})("pointerout",function(){return n.hovered=!1})("click",function(){return n.active=!n.active})("beforeRender",function(f){return n.onBeforeRender(f.object)}),e._UZ(1,"ngt-box-geometry")(2,"ngt-mesh-standard-material",1),e.qZA()),2&o&&(e.Q6J("scale",n.active?1.5:1)("position",n.position),e.xp6(2),e.Q6J("color",n.hovered?"hotpink":"orange"))},dependencies:[y.oX,b.gB,m.hv],encapsulation:2,changeDetection:0}),t})(),E=(()=>{class t{constructor(){this.colors=["red","green","blue","hotpink","orange","teal"]}onBeforeRender(o){o.rotation.x=o.rotation.y+=.01}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-cube-with-materials"]],decls:3,vars:1,consts:[[3,"beforeRender"],[3,"attach","color",4,"ngFor","ngForOf"],[3,"attach","color"]],template:function(o,n){1&o&&(e.TgZ(0,"ngt-mesh",0),e.NdJ("beforeRender",function(f){return n.onBeforeRender(f.object)}),e._UZ(1,"ngt-box-geometry"),e.YNc(2,A,1,4,"ngt-mesh-standard-material",1),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngForOf",n.colors))},dependencies:[u.sg,y.oX,b.gB,m.hv],encapsulation:2,changeDetection:0}),t})(),L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,_.Bz.forChild([{path:"",component:S}]),g.DX,c.bg,h.EQ,h.GK,i.x,y.M$,Z.I,b.N1,m.To,l.Li]}),t})()},4372:(D,x,s)=>{s.d(x,{I:()=>y,U:()=>m});var g=s(3152),c=s(9796),b=s(6128);const h=["*"];let m=(()=>{class i extends g.Jy{objectInitFn(){return new b.ZAu}}return i.\u0275fac=function(){let l;return function(_){return(l||(l=c.n5z(i)))(_||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["ngt-group"]],standalone:!0,features:[c._Bn([(0,g.RD)(i),(0,g.wY)(i)]),c.qOj,c.jDz],ngContentSelectors:h,decls:1,vars:0,template:function(u,_){1&u&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),y=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[m]}),i})()}}]);