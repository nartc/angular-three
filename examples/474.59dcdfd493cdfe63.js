"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[474],{1008:(C,l,s)=>{s.r(l),s.d(l,{Clump:()=>E,ObjectClumpComponent:()=>S,Pointer:()=>m,Scene:()=>D});var c=s(2167),a=s(8368),i=s(8999),u=s(8786),p=s(693),O=s(3545),P=s(3749),d=s(9761),y=s(7380),g=s(6509),h=s(9612),v=s(5688),R=s(7327),_=s(969),e=s(9709);const A=function(){return[1,32,32]};function B(t,r){1&t&&e._UZ(0,"ngt-bloom-effect")}const T=function(){return[30,30,30]},U=function(){return["shadow","mapSize"]},x=function(){return[512,512]},Z=function(t,r,n){return[t,r,n]},L=function(){return[0,2,0]},b=function(){return[1,2]},K=function(){return[0,0,20]},W=function(t){return{position:t,fov:35,near:1,far:40}};let m=(()=>{class t extends a.gU{constructor(n,o,M){super(),this.physicBody=n,this.store=o,this.zone=M,this.pointerRef=this.physicBody.useSphere(()=>({type:"Kinematic",args:[3],position:[0,0,0]}),!1)}ngOnInit(){this.zone.runOutsideAngular(()=>{this.store.onReady(()=>this.store.registerBeforeRender({callback:({pointer:n,viewport:o})=>{this.pointerRef.api.position.set(n.x*o.width/2,n.y*o.height/2,0)}}))})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.CN),e.Y36(a.W7),e.Y36(e.R0b))},t.\u0275dir=e.lG2({type:t,selectors:[["sandbox-pointer"]],standalone:!0,features:[e._Bn([c.CN]),e.qOj]}),t})();const f=new _.yGw,I=new _.Pa4;let E=(()=>{class t{constructor(n,o){this.textureLoader=n,this.physicBody=o,this.count=40,this.texture$=this.textureLoader.load("assets/cross.jpg"),this.sphereRef=this.physicBody.useSphere(()=>({args:[1],mass:1,angularDamping:.1,linearDamping:.65,position:[_.M8C.randFloatSpread(20),_.M8C.randFloatSpread(20),_.M8C.randFloatSpread(20)]}))}onBeforeRender(n){for(let o=0;o<this.count;o++)n.object.getMatrixAt(o,f),this.sphereRef.api.at(o).applyForce(I.setFromMatrixPosition(f).normalize().multiplyScalar(-50).toArray(),[0,0,0])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.Wt),e.Y36(c.CN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-clump"]],standalone:!0,features:[e._Bn([g.Wt,c.CN]),e.jDz],decls:4,vars:7,consts:[["castShadow","","receiveShadow","",3,"ref","count","beforeRender"],[3,"args"],["color","red","roughness","0","envMapIntensity","0.2","emissive","#370037",3,"map"]],template:function(n,o){1&n&&(e.TgZ(0,"ngt-instanced-mesh",0),e.NdJ("beforeRender",function(j){return o.onBeforeRender(j)}),e._UZ(1,"ngt-sphere-geometry",1)(2,"ngt-mesh-standard-material",2),e.ALo(3,"async"),e.qZA()),2&n&&(e.Q6J("ref",o.sphereRef.ref)("count",o.count),e.xp6(1),e.Q6J("args",e.DdM(6,A)),e.xp6(1),e.Q6J("map",e.lcZ(3,4,o.texture$)))},dependencies:[P.fk,u.ov,O.hv,v.Ov],encapsulation:2,changeDetection:0}),t})(),D=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-scene"]],standalone:!0,features:[e.jDz],decls:11,vars:13,consts:[["intensity","0.25"],["intensity","1","angle","0.2","penumbra","1","castShadow","",3,"position"],[3,"attach","vector2"],["intensity","5","color","purple",3,"position"],["iterations","10",3,"gravity"],["files","assets/adamsbridge.hdr"],["ngt-effect-composer-content",""]],template:function(n,o){1&n&&(e._UZ(0,"ngt-ambient-light",0),e.TgZ(1,"ngt-spot-light",1),e._UZ(2,"ngt-vector2",2),e.qZA(),e._UZ(3,"ngt-directional-light",3),e.TgZ(4,"ngt-physics",4),e._UZ(5,"sandbox-pointer")(6,"sandbox-clump"),e.qZA(),e._UZ(7,"ngt-soba-environment",5),e.TgZ(8,"ngt-effect-composer"),e.YNc(9,B,1,0,"ng-template",6),e.qZA(),e._UZ(10,"ngt-soba-sky")),2&n&&(e.xp6(1),e.Q6J("position",e.DdM(5,T)),e.xp6(1),e.Q6J("attach",e.DdM(6,U))("vector2",e.DdM(7,x)),e.xp6(1),e.Q6J("position",e.kEZ(8,Z,-10,-10,-10)),e.xp6(1),e.Q6J("gravity",e.DdM(12,L)))},dependencies:[p.wx,p.KN,i.ML,p.YY,c.rZ,m,E,h.$5,d.dM,d.sY,y.$j,h.fH],encapsulation:2,changeDetection:0}),t})(),S=(()=>{class t{constructor(){this.kernelSize=R.DD.VERY_LARGE}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["sandbox-object-clump"]],standalone:!0,features:[e.jDz],decls:2,vars:6,consts:[["shadows","","initialLog","",3,"dpr","camera"]],template:function(n,o){1&n&&(e.TgZ(0,"ngt-canvas",0),e._UZ(1,"sandbox-scene"),e.qZA()),2&n&&e.Q6J("dpr",e.DdM(2,b))("camera",e.VKq(4,W,e.DdM(3,K)))},dependencies:[a.B3,D],encapsulation:2,changeDetection:0}),t})()},2269:(C,l,s)=>{function c(a,i,u){return i in a?Object.defineProperty(a,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[i]=u,a}s.d(l,{Z:()=>c})}}]);