"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[983],{5983:(U,p,a)=>{a.r(p),a.d(p,{Cube:()=>y,CubeWithMaterials:()=>v,SandboxXRCubesComponent:()=>M,Scene:()=>x});var R=a(8368),T=a(8999),f=a(8786),h=a(693),g=a(3545),m=a(3749),_=a(1210),E=a(6076),b=a(5688),B=a(1519),X=a(2269);class u{static createButton(s,o={}){const t=document.createElement("button");function C(r){r.style.position="absolute",r.style.bottom="20px",r.style.padding="12px 6px",r.style.border="1px solid #fff",r.style.borderRadius="4px",r.style.background="rgba(0,0,0,0.1)",r.style.color="#fff",r.style.font="normal 13px sans-serif",r.style.textAlign="center",r.style.opacity="0.5",r.style.outline="none",r.style.zIndex="999"}if("xr"in navigator)return C(t),t.id="VRButton",t.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(r=>{r?function l(){let r=null;function W(i){return d.apply(this,arguments)}function d(){return(d=(0,B.Z)(function*(i){i.addEventListener("end",S),yield s.xr.setSession(i),t.textContent="EXIT VR",r=i})).apply(this,arguments)}function S(){r.removeEventListener("end",S),t.textContent="ENTER VR",r=null}t.style.display="",t.style.cursor="pointer",t.style.left="calc(50% - 50px)",t.style.width="100px",t.textContent="ENTER VR",t.onmouseenter=()=>{t.style.opacity="1.0"},t.onmouseleave=()=>{t.style.opacity="0.5"},t.onclick=()=>{if(null===r){var i;const L=[o.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);null===(i=navigator.xr)||void 0===i||i.requestSession("immersive-vr",{...o,optionalFeatures:L}).then(W)}else r.end()}}():function Q(){(function c(){t.style.display="",t.style.cursor="auto",t.style.left="calc(50% - 75px)",t.style.width="150px",t.onmouseenter=null,t.onmouseleave=null,t.onclick=null})(),t.textContent="VR NOT SUPPORTED"}(),r&&u.xrSessionIsGranted&&t.click()}),t;{const r=document.createElement("a");return!1===window.isSecureContext?(r.href=document.location.href.replace(/^http:/,"https:"),r.innerHTML="WEBXR NEEDS HTTPS"):(r.href="https://immersiveweb.dev/",r.innerHTML="WEBXR NOT AVAILABLE"),r.style.left="calc(50% - 90px)",r.style.width="180px",r.style.textDecoration="none",C(r),r}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{u.xrSessionIsGranted=!0})}}(0,X.Z)(u,"xrSessionIsGranted",!1);var e=a(9709);const Z=function(n){return["material",n]};function D(n,s){if(1&n&&e._UZ(0,"ngt-mesh-standard-material",2),2&n){const o=s.$implicit;e.Q6J("attach",e.VKq(2,Z,""+s.index))("color",o)}}const J=function(n){return[n,0,0]},N=function(){return[1.5,0,0]};function F(n,s){1&n&&(e.ynx(0),e._UZ(1,"sandbox-cube",0)(2,"sandbox-cube",0)(3,"sandbox-cube-with-materials"),e.BQk()),2&n&&(e.xp6(1),e.Q6J("position",e.VKq(2,J,-1.5)),e.xp6(1),e.Q6J("position",e.DdM(4,N)))}let y=(()=>{class n{constructor(){this.hovered=!1,this.active=!1}onBeforeRender(o){o.rotation.x+=.01}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["sandbox-cube"]],inputs:{position:"position"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[3,"scale","position","pointerover","pointerout","click","beforeRender"],[3,"color"]],template:function(o,t){1&o&&(e.TgZ(0,"ngt-mesh",0),e.NdJ("pointerover",function(){return t.hovered=!0})("pointerout",function(){return t.hovered=!1})("click",function(){return t.active=!t.active})("beforeRender",function(c){return t.onBeforeRender(c.object)}),e._UZ(1,"ngt-box-geometry")(2,"ngt-mesh-standard-material",1),e.qZA()),2&o&&(e.Q6J("scale",t.active?1.5:1)("position",t.position),e.xp6(2),e.Q6J("color",t.hovered?"hotpink":"orange"))},dependencies:[m.oX,f.gB,g.hv],encapsulation:2,changeDetection:0}),n})(),v=(()=>{class n{constructor(){this.colors=["red","green","blue","hotpink","orange","teal"]}onBeforeRender(o){o.rotation.x=o.rotation.y+=.01}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["sandbox-cube-with-materials"]],standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[3,"beforeRender"],[3,"attach","color",4,"ngFor","ngForOf"],[3,"attach","color"]],template:function(o,t){1&o&&(e.TgZ(0,"ngt-mesh",0),e.NdJ("beforeRender",function(c){return t.onBeforeRender(c.object)}),e._UZ(1,"ngt-box-geometry"),e.YNc(2,D,1,4,"ngt-mesh-standard-material",1),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngForOf",t.colors))},dependencies:[m.oX,f.gB,g.hv,b.sg],encapsulation:2,changeDetection:0}),n})(),x=(()=>{class n{constructor(o){this.cd=o,this.ready=!1,setTimeout(()=>{this.ready=!0,this.cd.detectChanges()},1e4)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sandbox-scene"]],standalone:!0,features:[e.jDz],decls:4,vars:2,consts:[[3,"position"],[4,"ngIf"]],template:function(o,t){1&o&&(e._UZ(0,"ngt-ambient-light")(1,"ngt-point-light",0),e.YNc(2,F,4,5,"ng-container",1),e._UZ(3,"ngt-soba-orbit-controls")),2&o&&(e.xp6(1),e.Q6J("position",10),e.xp6(1),e.Q6J("ngIf",t.ready))},dependencies:[h.wx,h.HY,y,b.O5,v,E.St],encapsulation:2,changeDetection:0}),n})(),M=(()=>{class n{created(o){document.body.appendChild(u.createButton(o.gl))}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["xrsandbox-cubes"]],standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[["initialLog","",3,"created"],["attach","background","color","lightblue"]],template:function(o,t){1&o&&(e.TgZ(0,"ngt-canvas",0),e.NdJ("created",function(c){return t.created(c)}),e._UZ(1,"ngt-color",1)(2,"sandbox-scene"),e.qZA(),e._UZ(3,"ngt-stats"))},dependencies:[R.B3,T.rq,x,_.Q],encapsulation:2,changeDetection:0}),n})()}}]);