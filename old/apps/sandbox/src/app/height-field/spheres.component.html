<ng-container *ngIf="viewModel$ | async as viewModel">
  <ngt-instanced-mesh [count]="viewModel.number" [ref]="sphereRef.ref" castShadow receiveShadow>
    <ngt-sphere-geometry [args]="[0.2, 16, 16]">
      <ngt-instanced-buffer-attribute
        [attach]="['attributes', 'color']"
        [args]="[viewModel.colors, 3]"
      ></ngt-instanced-buffer-attribute>
    </ngt-sphere-geometry>
    <ngt-mesh-phong-material vertexColors></ngt-mesh-phong-material>
  </ngt-instanced-mesh>
</ng-container>
